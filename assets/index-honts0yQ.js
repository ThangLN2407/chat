const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Login-aMJFdnlQ.js","assets/AuthForm-jjxRGSL6.js","assets/index-BWyA2LF_.js","assets/index-CLYjHtoJ.js","assets/Register-DAKbs7wp.js","assets/Home-DqdkZhUv.js","assets/Avatar-P28AcHYu.js","assets/ChatRoom-CaDU8Qd7.js"])))=>i.map(i=>d[i]);
function DS(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in n)){const l=Object.getOwnPropertyDescriptor(i,s);l&&Object.defineProperty(n,s,l.get?l:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(s){if(s.ep)return;s.ep=!0;const l=t(s);fetch(s.href,l)}})();function ny(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Tp={exports:{}},Ou={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kE;function ZI(){if(kE)return Ou;kE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,s,l){var c=null;if(l!==void 0&&(c=""+l),s.key!==void 0&&(c=""+s.key),"key"in s){l={};for(var d in s)d!=="key"&&(l[d]=s[d])}else l=s;return s=l.ref,{$$typeof:n,type:i,key:c,ref:s!==void 0?s:null,props:l}}return Ou.Fragment=e,Ou.jsx=t,Ou.jsxs=t,Ou}var VE;function JI(){return VE||(VE=1,Tp.exports=ZI()),Tp.exports}var St=JI(),bp={exports:{}},Fe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LE;function eC(){if(LE)return Fe;LE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function b(L){return L===null||typeof L!="object"?null:(L=E&&L[E]||L["@@iterator"],typeof L=="function"?L:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,V={};function D(L,re,ce){this.props=L,this.context=re,this.refs=V,this.updater=ce||I}D.prototype.isReactComponent={},D.prototype.setState=function(L,re){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,re,"setState")},D.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function Z(){}Z.prototype=D.prototype;function j(L,re,ce){this.props=L,this.context=re,this.refs=V,this.updater=ce||I}var Y=j.prototype=new Z;Y.constructor=j,M(Y,D.prototype),Y.isPureReactComponent=!0;var te=Array.isArray,K={H:null,A:null,T:null,S:null,V:null},he=Object.prototype.hasOwnProperty;function S(L,re,ce,fe,be,Oe){return ce=Oe.ref,{$$typeof:n,type:L,key:re,ref:ce!==void 0?ce:null,props:Oe}}function w(L,re){return S(L.type,re,void 0,void 0,void 0,L.props)}function C(L){return typeof L=="object"&&L!==null&&L.$$typeof===n}function x(L){var re={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ce){return re[ce]})}var U=/\/+/g;function k(L,re){return typeof L=="object"&&L!==null&&L.key!=null?x(""+L.key):re.toString(36)}function O(){}function Se(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(O,O):(L.status="pending",L.then(function(re){L.status==="pending"&&(L.status="fulfilled",L.value=re)},function(re){L.status==="pending"&&(L.status="rejected",L.reason=re)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function De(L,re,ce,fe,be){var Oe=typeof L;(Oe==="undefined"||Oe==="boolean")&&(L=null);var Ce=!1;if(L===null)Ce=!0;else switch(Oe){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(L.$$typeof){case n:case e:Ce=!0;break;case v:return Ce=L._init,De(Ce(L._payload),re,ce,fe,be)}}if(Ce)return be=be(L),Ce=fe===""?"."+k(L,0):fe,te(be)?(ce="",Ce!=null&&(ce=Ce.replace(U,"$&/")+"/"),De(be,re,ce,"",function(Ln){return Ln})):be!=null&&(C(be)&&(be=w(be,ce+(be.key==null||L&&L.key===be.key?"":(""+be.key).replace(U,"$&/")+"/")+Ce)),re.push(be)),1;Ce=0;var st=fe===""?".":fe+":";if(te(L))for(var ot=0;ot<L.length;ot++)fe=L[ot],Oe=st+k(fe,ot),Ce+=De(fe,re,ce,Oe,be);else if(ot=b(L),typeof ot=="function")for(L=ot.call(L),ot=0;!(fe=L.next()).done;)fe=fe.value,Oe=st+k(fe,ot++),Ce+=De(fe,re,ce,Oe,be);else if(Oe==="object"){if(typeof L.then=="function")return De(Se(L),re,ce,fe,be);throw re=String(L),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function J(L,re,ce){if(L==null)return L;var fe=[],be=0;return De(L,fe,"","",function(Oe){return re.call(ce,Oe,be++)}),fe}function ue(L){if(L._status===-1){var re=L._result;re=re(),re.then(function(ce){(L._status===0||L._status===-1)&&(L._status=1,L._result=ce)},function(ce){(L._status===0||L._status===-1)&&(L._status=2,L._result=ce)}),L._status===-1&&(L._status=0,L._result=re)}if(L._status===1)return L._result.default;throw L._result}var de=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function Ie(){}return Fe.Children={map:J,forEach:function(L,re,ce){J(L,function(){re.apply(this,arguments)},ce)},count:function(L){var re=0;return J(L,function(){re++}),re},toArray:function(L){return J(L,function(re){return re})||[]},only:function(L){if(!C(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Fe.Component=D,Fe.Fragment=t,Fe.Profiler=s,Fe.PureComponent=j,Fe.StrictMode=i,Fe.Suspense=m,Fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,Fe.__COMPILER_RUNTIME={__proto__:null,c:function(L){return K.H.useMemoCache(L)}},Fe.cache=function(L){return function(){return L.apply(null,arguments)}},Fe.cloneElement=function(L,re,ce){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var fe=M({},L.props),be=L.key,Oe=void 0;if(re!=null)for(Ce in re.ref!==void 0&&(Oe=void 0),re.key!==void 0&&(be=""+re.key),re)!he.call(re,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&re.ref===void 0||(fe[Ce]=re[Ce]);var Ce=arguments.length-2;if(Ce===1)fe.children=ce;else if(1<Ce){for(var st=Array(Ce),ot=0;ot<Ce;ot++)st[ot]=arguments[ot+2];fe.children=st}return S(L.type,be,void 0,void 0,Oe,fe)},Fe.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},Fe.createElement=function(L,re,ce){var fe,be={},Oe=null;if(re!=null)for(fe in re.key!==void 0&&(Oe=""+re.key),re)he.call(re,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(be[fe]=re[fe]);var Ce=arguments.length-2;if(Ce===1)be.children=ce;else if(1<Ce){for(var st=Array(Ce),ot=0;ot<Ce;ot++)st[ot]=arguments[ot+2];be.children=st}if(L&&L.defaultProps)for(fe in Ce=L.defaultProps,Ce)be[fe]===void 0&&(be[fe]=Ce[fe]);return S(L,Oe,void 0,void 0,null,be)},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(L){return{$$typeof:d,render:L}},Fe.isValidElement=C,Fe.lazy=function(L){return{$$typeof:v,_payload:{_status:-1,_result:L},_init:ue}},Fe.memo=function(L,re){return{$$typeof:g,type:L,compare:re===void 0?null:re}},Fe.startTransition=function(L){var re=K.T,ce={};K.T=ce;try{var fe=L(),be=K.S;be!==null&&be(ce,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(Ie,de)}catch(Oe){de(Oe)}finally{K.T=re}},Fe.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},Fe.use=function(L){return K.H.use(L)},Fe.useActionState=function(L,re,ce){return K.H.useActionState(L,re,ce)},Fe.useCallback=function(L,re){return K.H.useCallback(L,re)},Fe.useContext=function(L){return K.H.useContext(L)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(L,re){return K.H.useDeferredValue(L,re)},Fe.useEffect=function(L,re,ce){var fe=K.H;if(typeof ce=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return fe.useEffect(L,re)},Fe.useId=function(){return K.H.useId()},Fe.useImperativeHandle=function(L,re,ce){return K.H.useImperativeHandle(L,re,ce)},Fe.useInsertionEffect=function(L,re){return K.H.useInsertionEffect(L,re)},Fe.useLayoutEffect=function(L,re){return K.H.useLayoutEffect(L,re)},Fe.useMemo=function(L,re){return K.H.useMemo(L,re)},Fe.useOptimistic=function(L,re){return K.H.useOptimistic(L,re)},Fe.useReducer=function(L,re,ce){return K.H.useReducer(L,re,ce)},Fe.useRef=function(L){return K.H.useRef(L)},Fe.useState=function(L){return K.H.useState(L)},Fe.useSyncExternalStore=function(L,re,ce){return K.H.useSyncExternalStore(L,re,ce)},Fe.useTransition=function(){return K.H.useTransition()},Fe.version="19.1.0",Fe}var UE;function ry(){return UE||(UE=1,bp.exports=eC()),bp.exports}var $=ry();const Gr=ny($),iy=DS({__proto__:null,default:Gr},[$]);var Sp={exports:{}},xu={},Ap={exports:{}},wp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zE;function tC(){return zE||(zE=1,function(n){function e(J,ue){var de=J.length;J.push(ue);e:for(;0<de;){var Ie=de-1>>>1,L=J[Ie];if(0<s(L,ue))J[Ie]=ue,J[de]=L,de=Ie;else break e}}function t(J){return J.length===0?null:J[0]}function i(J){if(J.length===0)return null;var ue=J[0],de=J.pop();if(de!==ue){J[0]=de;e:for(var Ie=0,L=J.length,re=L>>>1;Ie<re;){var ce=2*(Ie+1)-1,fe=J[ce],be=ce+1,Oe=J[be];if(0>s(fe,de))be<L&&0>s(Oe,fe)?(J[Ie]=Oe,J[be]=de,Ie=be):(J[Ie]=fe,J[ce]=de,Ie=ce);else if(be<L&&0>s(Oe,de))J[Ie]=Oe,J[be]=de,Ie=be;else break e}}return ue}function s(J,ue){var de=J.sortIndex-ue.sortIndex;return de!==0?de:J.id-ue.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var m=[],g=[],v=1,E=null,b=3,I=!1,M=!1,V=!1,D=!1,Z=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function te(J){for(var ue=t(g);ue!==null;){if(ue.callback===null)i(g);else if(ue.startTime<=J)i(g),ue.sortIndex=ue.expirationTime,e(m,ue);else break;ue=t(g)}}function K(J){if(V=!1,te(J),!M)if(t(m)!==null)M=!0,he||(he=!0,k());else{var ue=t(g);ue!==null&&De(K,ue.startTime-J)}}var he=!1,S=-1,w=5,C=-1;function x(){return D?!0:!(n.unstable_now()-C<w)}function U(){if(D=!1,he){var J=n.unstable_now();C=J;var ue=!0;try{e:{M=!1,V&&(V=!1,j(S),S=-1),I=!0;var de=b;try{t:{for(te(J),E=t(m);E!==null&&!(E.expirationTime>J&&x());){var Ie=E.callback;if(typeof Ie=="function"){E.callback=null,b=E.priorityLevel;var L=Ie(E.expirationTime<=J);if(J=n.unstable_now(),typeof L=="function"){E.callback=L,te(J),ue=!0;break t}E===t(m)&&i(m),te(J)}else i(m);E=t(m)}if(E!==null)ue=!0;else{var re=t(g);re!==null&&De(K,re.startTime-J),ue=!1}}break e}finally{E=null,b=de,I=!1}ue=void 0}}finally{ue?k():he=!1}}}var k;if(typeof Y=="function")k=function(){Y(U)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,Se=O.port2;O.port1.onmessage=U,k=function(){Se.postMessage(null)}}else k=function(){Z(U,0)};function De(J,ue){S=Z(function(){J(n.unstable_now())},ue)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(J){J.callback=null},n.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<J?Math.floor(1e3/J):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(J){switch(b){case 1:case 2:case 3:var ue=3;break;default:ue=b}var de=b;b=ue;try{return J()}finally{b=de}},n.unstable_requestPaint=function(){D=!0},n.unstable_runWithPriority=function(J,ue){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var de=b;b=J;try{return ue()}finally{b=de}},n.unstable_scheduleCallback=function(J,ue,de){var Ie=n.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Ie+de:Ie):de=Ie,J){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=de+L,J={id:v++,callback:ue,priorityLevel:J,startTime:de,expirationTime:L,sortIndex:-1},de>Ie?(J.sortIndex=de,e(g,J),t(m)===null&&J===t(g)&&(V?(j(S),S=-1):V=!0,De(K,de-Ie))):(J.sortIndex=L,e(m,J),M||I||(M=!0,he||(he=!0,k()))),J},n.unstable_shouldYield=x,n.unstable_wrapCallback=function(J){var ue=b;return function(){var de=b;b=ue;try{return J.apply(this,arguments)}finally{b=de}}}}(wp)),wp}var BE;function nC(){return BE||(BE=1,Ap.exports=tC()),Ap.exports}var Rp={exports:{}},xn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jE;function rC(){if(jE)return xn;jE=1;var n=ry();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(m,g,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:E==null?null:""+E,children:m,containerInfo:g,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return xn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,xn.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,v)},xn.flushSync=function(m){var g=c.T,v=i.p;try{if(c.T=null,i.p=2,m)return m()}finally{c.T=g,i.p=v,i.d.f()}},xn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(m,g))},xn.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},xn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,E=d(v,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,I=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?i.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:b,fetchPriority:I}):v==="script"&&i.d.X(m,{crossOrigin:E,integrity:b,fetchPriority:I,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},xn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);i.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(m)},xn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,E=d(v,g.crossOrigin);i.d.L(m,v,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},xn.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=d(g.as,g.crossOrigin);i.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(m)},xn.requestFormReset=function(m){i.d.r(m)},xn.unstable_batchedUpdates=function(m,g){return m(g)},xn.useFormState=function(m,g,v){return c.H.useFormState(m,g,v)},xn.useFormStatus=function(){return c.H.useHostTransitionStatus()},xn.version="19.1.0",xn}var HE;function OS(){if(HE)return Rp.exports;HE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Rp.exports=rC(),Rp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FE;function iC(){if(FE)return xu;FE=1;var n=nC(),e=ry(),t=OS();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)a+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var a=r,o=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(o=a.return),r=a.return;while(r)}return a.tag===3?o:null}function c(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function d(r){if(l(r)!==r)throw Error(i(188))}function m(r){var a=r.alternate;if(!a){if(a=l(r),a===null)throw Error(i(188));return a!==r?null:r}for(var o=r,u=a;;){var h=o.return;if(h===null)break;var p=h.alternate;if(p===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===o)return d(h),r;if(p===u)return d(h),a;p=p.sibling}throw Error(i(188))}if(o.return!==u.return)o=h,u=p;else{for(var T=!1,A=h.child;A;){if(A===o){T=!0,o=h,u=p;break}if(A===u){T=!0,u=h,o=p;break}A=A.sibling}if(!T){for(A=p.child;A;){if(A===o){T=!0,o=p,u=h;break}if(A===u){T=!0,u=p,o=h;break}A=A.sibling}if(!T)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:a}function g(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=g(r),a!==null)return a;r=r.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),Z=Symbol.for("react.provider"),j=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function k(r){return r===null||typeof r!="object"?null:(r=U&&r[U]||r["@@iterator"],typeof r=="function"?r:null)}var O=Symbol.for("react.client.reference");function Se(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===O?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case M:return"Fragment";case D:return"Profiler";case V:return"StrictMode";case K:return"Suspense";case he:return"SuspenseList";case C:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case I:return"Portal";case Y:return(r.displayName||"Context")+".Provider";case j:return(r._context.displayName||"Context")+".Consumer";case te:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case S:return a=r.displayName||null,a!==null?a:Se(r.type)||"Memo";case w:a=r._payload,r=r._init;try{return Se(r(a))}catch{}}return null}var De=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Ie=[],L=-1;function re(r){return{current:r}}function ce(r){0>L||(r.current=Ie[L],Ie[L]=null,L--)}function fe(r,a){L++,Ie[L]=r.current,r.current=a}var be=re(null),Oe=re(null),Ce=re(null),st=re(null);function ot(r,a){switch(fe(Ce,a),fe(Oe,r),fe(be,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?uE(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=uE(a),r=cE(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ce(be),fe(be,r)}function Ln(){ce(be),ce(Oe),ce(Ce)}function Jn(r){r.memoizedState!==null&&fe(st,r);var a=be.current,o=cE(a,r.type);a!==o&&(fe(Oe,r),fe(be,o))}function er(r){Oe.current===r&&(ce(be),ce(Oe)),st.current===r&&(ce(st),wu._currentValue=de)}var xt=Object.prototype.hasOwnProperty,_n=n.unstable_scheduleCallback,Yr=n.unstable_cancelCallback,ds=n.unstable_shouldYield,_r=n.unstable_requestPaint,jn=n.unstable_now,Ml=n.unstable_getCurrentPriorityLevel,sa=n.unstable_ImmediatePriority,oa=n.unstable_UserBlockingPriority,Si=n.unstable_NormalPriority,Nl=n.unstable_LowPriority,la=n.unstable_IdlePriority,tr=n.log,Wr=n.unstable_setDisableYieldValue,Mt=null,lt=null;function zt(r){if(typeof tr=="function"&&Wr(r),lt&&typeof lt.setStrictMode=="function")try{lt.setStrictMode(Mt,r)}catch{}}var It=Math.clz32?Math.clz32:Ai,ms=Math.log,ua=Math.LN2;function Ai(r){return r>>>=0,r===0?32:31-(ms(r)/ua|0)|0}var Cn=256,Zr=4194304;function Hn(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function wi(r,a,o){var u=r.pendingLanes;if(u===0)return 0;var h=0,p=r.suspendedLanes,T=r.pingedLanes;r=r.warmLanes;var A=u&134217727;return A!==0?(u=A&~p,u!==0?h=Hn(u):(T&=A,T!==0?h=Hn(T):o||(o=A&~r,o!==0&&(h=Hn(o))))):(A=u&~p,A!==0?h=Hn(A):T!==0?h=Hn(T):o||(o=u&~r,o!==0&&(h=Hn(o)))),h===0?0:a!==0&&a!==h&&(a&p)===0&&(p=h&-h,o=a&-a,p>=o||p===32&&(o&4194048)!==0)?a:h}function Ri(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function ca(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jr(){var r=Cn;return Cn<<=1,(Cn&4194048)===0&&(Cn=256),r}function fa(){var r=Zr;return Zr<<=1,(Zr&62914560)===0&&(Zr=4194304),r}function nr(r){for(var a=[],o=0;31>o;o++)a.push(r);return a}function rr(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function ps(r,a,o,u,h,p){var T=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var A=r.entanglements,N=r.expirationTimes,G=r.hiddenUpdates;for(o=T&~o;0<o;){var ne=31-It(o),ae=1<<ne;A[ne]=0,N[ne]=-1;var X=G[ne];if(X!==null)for(G[ne]=null,ne=0;ne<X.length;ne++){var W=X[ne];W!==null&&(W.lane&=-536870913)}o&=~ae}u!==0&&ir(r,u,0),p!==0&&h===0&&r.tag!==0&&(r.suspendedLanes|=p&~(T&~a))}function ir(r,a,o){r.pendingLanes|=a,r.suspendedLanes&=~a;var u=31-It(a);r.entangledLanes|=a,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194090}function gs(r,a){var o=r.entangledLanes|=a;for(r=r.entanglements;o;){var u=31-It(o),h=1<<u;h&a|r[u]&a&&(r[u]|=a),o&=~h}}function Lr(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Ur(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function ar(){var r=ue.p;return r!==0?r:(r=window.event,r===void 0?32:DE(r.type))}function uo(r,a){var o=ue.p;try{return ue.p=r,a()}finally{ue.p=o}}var Ct=Math.random().toString(36).slice(2),P="__reactFiber$"+Ct,B="__reactProps$"+Ct,Q="__reactContainer$"+Ct,le="__reactEvents$"+Ct,pe="__reactListeners$"+Ct,we="__reactHandles$"+Ct,Ne="__reactResources$"+Ct,ye="__reactMarker$"+Ct;function ve(r){delete r[P],delete r[B],delete r[le],delete r[pe],delete r[we]}function ge(r){var a=r[P];if(a)return a;for(var o=r.parentNode;o;){if(a=o[Q]||o[P]){if(o=a.alternate,a.child!==null||o!==null&&o.child!==null)for(r=mE(r);r!==null;){if(o=r[P])return o;r=mE(r)}return a}r=o,o=r.parentNode}return null}function _e(r){if(r=r[P]||r[Q]){var a=r.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return r}return null}function Me(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function ke(r){var a=r[Ne];return a||(a=r[Ne]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function qe(r){r[ye]=!0}var ut=new Set,Ke={};function tt(r,a){Dn(r,a),Dn(r+"Capture",a)}function Dn(r,a){for(Ke[r]=a,r=0;r<a.length;r++)ut.add(a[r])}var ei=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fn={},ln={};function ha(r){return xt.call(ln,r)?!0:xt.call(Fn,r)?!1:ei.test(r)?ln[r]=!0:(Fn[r]=!0,!1)}function qn(r,a,o){if(ha(a))if(o===null)r.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+o)}}function un(r,a,o){if(o===null)r.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+o)}}function Bt(r,a,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(a,o,""+u)}}var Er,Xe;function ct(r){if(Er===void 0)try{throw Error()}catch(o){var a=o.stack.trim().match(/\n( *(at )?)/);Er=a&&a[1]||"",Xe=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Er+r+Xe}var sr=!1;function Tr(r,a){if(!r||sr)return"";sr=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(W){var X=W}Reflect.construct(r,[],ae)}else{try{ae.call()}catch(W){X=W}r.call(ae.prototype)}}else{try{throw Error()}catch(W){X=W}(ae=r())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(W){if(W&&X&&typeof W.stack=="string")return[W.stack,X.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),T=p[0],A=p[1];if(T&&A){var N=T.split(`
`),G=A.split(`
`);for(h=u=0;u<N.length&&!N[u].includes("DetermineComponentFrameRoot");)u++;for(;h<G.length&&!G[h].includes("DetermineComponentFrameRoot");)h++;if(u===N.length||h===G.length)for(u=N.length-1,h=G.length-1;1<=u&&0<=h&&N[u]!==G[h];)h--;for(;1<=u&&0<=h;u--,h--)if(N[u]!==G[h]){if(u!==1||h!==1)do if(u--,h--,0>h||N[u]!==G[h]){var ne=`
`+N[u].replace(" at new "," at ");return r.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",r.displayName)),ne}while(1<=u&&0<=h);break}}}finally{sr=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?ct(o):""}function Dt(r){switch(r.tag){case 26:case 27:case 5:return ct(r.type);case 16:return ct("Lazy");case 13:return ct("Suspense");case 19:return ct("SuspenseList");case 0:case 15:return Tr(r.type,!1);case 11:return Tr(r.type.render,!1);case 1:return Tr(r.type,!0);case 31:return ct("Activity");default:return""}}function or(r){try{var a="";do a+=Dt(r),r=r.return;while(r);return a}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function cn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ys(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function wd(r){var a=ys(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),u=""+r[a];if(!r.hasOwnProperty(a)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,p=o.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return h.call(this)},set:function(T){u=""+T,p.call(this,T)}}),Object.defineProperty(r,a,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function co(r){r._valueTracker||(r._valueTracker=wd(r))}function Pl(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var o=a.getValue(),u="";return r&&(u=ys(r)?r.checked?"true":"false":r.value),r=u,r!==o?(a.setValue(r),!0):!1}function vs(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Rd=/[\n"\\]/g;function Qt(r){return r.replace(Rd,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function lr(r,a,o,u,h,p,T,A){r.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.type=T:r.removeAttribute("type"),a!=null?T==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+cn(a)):r.value!==""+cn(a)&&(r.value=""+cn(a)):T!=="submit"&&T!=="reset"||r.removeAttribute("value"),a!=null?da(r,T,cn(a)):o!=null?da(r,T,cn(o)):u!=null&&r.removeAttribute("value"),h==null&&p!=null&&(r.defaultChecked=!!p),h!=null&&(r.checked=h&&typeof h!="function"&&typeof h!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?r.name=""+cn(A):r.removeAttribute("name")}function _s(r,a,o,u,h,p,T,A){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(r.type=p),a!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||a!=null))return;o=o!=null?""+cn(o):"",a=a!=null?""+cn(a):o,A||a===r.value||(r.value=a),r.defaultValue=a}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=A?r.checked:!!u,r.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(r.name=T)}function da(r,a,o){a==="number"&&vs(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function Ii(r,a,o,u){if(r=r.options,a){a={};for(var h=0;h<o.length;h++)a["$"+o[h]]=!0;for(o=0;o<r.length;o++)h=a.hasOwnProperty("$"+r[o].value),r[o].selected!==h&&(r[o].selected=h),h&&u&&(r[o].defaultSelected=!0)}else{for(o=""+cn(o),a=null,h=0;h<r.length;h++){if(r[h].value===o){r[h].selected=!0,u&&(r[h].defaultSelected=!0);return}a!==null||r[h].disabled||(a=r[h])}a!==null&&(a.selected=!0)}}function _t(r,a,o){if(a!=null&&(a=""+cn(a),a!==r.value&&(r.value=a),o==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=o!=null?""+cn(o):""}function Es(r,a,o,u){if(a==null){if(u!=null){if(o!=null)throw Error(i(92));if(De(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),a=o}o=cn(a),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function br(r,a){if(a){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=a;return}}r.textContent=a}var Ts=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cc(r,a,o){var u=a.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":u?r.setProperty(a,o):typeof o!="number"||o===0||Ts.has(a)?a==="float"?r.cssFloat=o:r[a]=(""+o).trim():r[a]=o+"px"}function kl(r,a,o){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var h in a)u=a[h],a.hasOwnProperty(h)&&o[h]!==u&&Cc(r,h,u)}else for(var p in a)a.hasOwnProperty(p)&&Cc(r,p,a[p])}function Vl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Id=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fo(r){return Cd.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Ci=null;function Sr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Di=null,Oi=null;function Ll(r){var a=_e(r);if(a&&(r=a.stateNode)){var o=r[B]||null;e:switch(r=a.stateNode,a.type){case"input":if(lr(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),a=o.name,o.type==="radio"&&a!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Qt(""+a)+'"][type="radio"]'),a=0;a<o.length;a++){var u=o[a];if(u!==r&&u.form===r.form){var h=u[B]||null;if(!h)throw Error(i(90));lr(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(a=0;a<o.length;a++)u=o[a],u.form===r.form&&Pl(u)}break e;case"textarea":_t(r,o.value,o.defaultValue);break e;case"select":a=o.value,a!=null&&Ii(r,!!o.multiple,a,!1)}}}var ti=!1;function Dc(r,a,o){if(ti)return r(a,o);ti=!0;try{var u=r(a);return u}finally{if(ti=!1,(Di!==null||Oi!==null)&&(Sf(),Di&&(a=Di,r=Oi,Oi=Di=null,Ll(a),r)))for(a=0;a<r.length;a++)Ll(r[a])}}function bs(r,a){var o=r.stateNode;if(o===null)return null;var u=o[B]||null;if(u===null)return null;o=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,a,typeof o));return o}var zr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ar=!1;if(zr)try{var Ss={};Object.defineProperty(Ss,"passive",{get:function(){Ar=!0}}),window.addEventListener("test",Ss,Ss),window.removeEventListener("test",Ss,Ss)}catch{Ar=!1}var ni=null,ma=null,xi=null;function Ul(){if(xi)return xi;var r,a=ma,o=a.length,u,h="value"in ni?ni.value:ni.textContent,p=h.length;for(r=0;r<o&&a[r]===h[r];r++);var T=o-r;for(u=1;u<=T&&a[o-u]===h[p-u];u++);return xi=h.slice(r,1<u?1-u:void 0)}function ri(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function ii(){return!0}function zl(){return!1}function fn(r){function a(o,u,h,p,T){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=p,this.target=T,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(o=r[A],this[A]=o?o(p):p[A]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?ii:zl,this.isPropagationStopped=zl,this}return v(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ii)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ii)},persist:function(){},isPersistent:ii}),a}var dt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ho=fn(dt),As=v({},dt,{view:0,detail:0}),Oc=fn(As),mo,po,ai,ws=v({},As,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cs,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ai&&(ai&&r.type==="mousemove"?(mo=r.screenX-ai.screenX,po=r.screenY-ai.screenY):po=mo=0,ai=r),mo)},movementY:function(r){return"movementY"in r?r.movementY:po}}),wr=fn(ws),xc=v({},ws,{dataTransfer:0}),Dd=fn(xc),Rs=v({},As,{relatedTarget:0}),go=fn(Rs),Bl=v({},dt,{animationName:0,elapsedTime:0,pseudoElement:0}),yo=fn(Bl),Mc=v({},dt,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),vo=fn(Mc),Od=v({},dt,{data:0}),jl=fn(Od),Is={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hl(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=Pc[r])?!!a[r]:!1}function Cs(){return Hl}var kc=v({},As,{key:function(r){if(r.key){var a=Is[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=ri(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Nc[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cs,charCode:function(r){return r.type==="keypress"?ri(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ri(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),_o=fn(kc),Vc=v({},ws,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fl=fn(Vc),Mi=v({},As,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cs}),Lc=fn(Mi),Uc=v({},dt,{propertyName:0,elapsedTime:0,pseudoElement:0}),zc=fn(Uc),Bc=v({},ws,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Eo=fn(Bc),Un=v({},dt,{newState:0,oldState:0}),jc=fn(Un),Hc=[9,13,27,32],si=zr&&"CompositionEvent"in window,f=null;zr&&"documentMode"in document&&(f=document.documentMode);var y=zr&&"TextEvent"in window&&!f,_=zr&&(!si||f&&8<f&&11>=f),R=" ",F=!1;function ee(r,a){switch(r){case"keyup":return Hc.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function me(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var nt=!1;function tn(r,a){switch(r){case"compositionend":return me(a);case"keypress":return a.which!==32?null:(F=!0,R);case"textInput":return r=a.data,r===R&&F?null:r;default:return null}}function rt(r,a){if(nt)return r==="compositionend"||!si&&ee(r,a)?(r=Ul(),xi=ma=ni=null,nt=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return _&&a.locale!=="ko"?null:a.data;default:return null}}var hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nn(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!hn[r.type]:a==="textarea"}function Ni(r,a,o,u){Di?Oi?Oi.push(u):Oi=[u]:Di=u,a=Df(a,"onChange"),0<a.length&&(o=new ho("onChange","change",null,o,u),r.push({event:o,listeners:a}))}var En=null,oi=null;function ql(r){iE(r,0)}function Fc(r){var a=Me(r);if(Pl(a))return r}function wv(r,a){if(r==="change")return a}var Rv=!1;if(zr){var xd;if(zr){var Md="oninput"in document;if(!Md){var Iv=document.createElement("div");Iv.setAttribute("oninput","return;"),Md=typeof Iv.oninput=="function"}xd=Md}else xd=!1;Rv=xd&&(!document.documentMode||9<document.documentMode)}function Cv(){En&&(En.detachEvent("onpropertychange",Dv),oi=En=null)}function Dv(r){if(r.propertyName==="value"&&Fc(oi)){var a=[];Ni(a,oi,r,Sr(r)),Dc(ql,a)}}function C1(r,a,o){r==="focusin"?(Cv(),En=a,oi=o,En.attachEvent("onpropertychange",Dv)):r==="focusout"&&Cv()}function D1(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Fc(oi)}function O1(r,a){if(r==="click")return Fc(a)}function x1(r,a){if(r==="input"||r==="change")return Fc(a)}function M1(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var ur=typeof Object.is=="function"?Object.is:M1;function Gl(r,a){if(ur(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var o=Object.keys(r),u=Object.keys(a);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!xt.call(a,h)||!ur(r[h],a[h]))return!1}return!0}function Ov(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function xv(r,a){var o=Ov(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=a&&u>=a)return{node:o,offset:a-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Ov(o)}}function Mv(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?Mv(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function Nv(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=vs(r.document);a instanceof r.HTMLIFrameElement;){try{var o=typeof a.contentWindow.location.href=="string"}catch{o=!1}if(o)r=a.contentWindow;else break;a=vs(r.document)}return a}function Nd(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var N1=zr&&"documentMode"in document&&11>=document.documentMode,To=null,Pd=null,$l=null,kd=!1;function Pv(r,a,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;kd||To==null||To!==vs(u)||(u=To,"selectionStart"in u&&Nd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),$l&&Gl($l,u)||($l=u,u=Df(Pd,"onSelect"),0<u.length&&(a=new ho("onSelect","select",null,a,o),r.push({event:a,listeners:u}),a.target=To)))}function Ds(r,a){var o={};return o[r.toLowerCase()]=a.toLowerCase(),o["Webkit"+r]="webkit"+a,o["Moz"+r]="moz"+a,o}var bo={animationend:Ds("Animation","AnimationEnd"),animationiteration:Ds("Animation","AnimationIteration"),animationstart:Ds("Animation","AnimationStart"),transitionrun:Ds("Transition","TransitionRun"),transitionstart:Ds("Transition","TransitionStart"),transitioncancel:Ds("Transition","TransitionCancel"),transitionend:Ds("Transition","TransitionEnd")},Vd={},kv={};zr&&(kv=document.createElement("div").style,"AnimationEvent"in window||(delete bo.animationend.animation,delete bo.animationiteration.animation,delete bo.animationstart.animation),"TransitionEvent"in window||delete bo.transitionend.transition);function Os(r){if(Vd[r])return Vd[r];if(!bo[r])return r;var a=bo[r],o;for(o in a)if(a.hasOwnProperty(o)&&o in kv)return Vd[r]=a[o];return r}var Vv=Os("animationend"),Lv=Os("animationiteration"),Uv=Os("animationstart"),P1=Os("transitionrun"),k1=Os("transitionstart"),V1=Os("transitioncancel"),zv=Os("transitionend"),Bv=new Map,Ld="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ld.push("scrollEnd");function Br(r,a){Bv.set(r,a),tt(a,[r])}var jv=new WeakMap;function Rr(r,a){if(typeof r=="object"&&r!==null){var o=jv.get(r);return o!==void 0?o:(a={value:r,source:a,stack:or(a)},jv.set(r,a),a)}return{value:r,source:a,stack:or(a)}}var Ir=[],So=0,Ud=0;function qc(){for(var r=So,a=Ud=So=0;a<r;){var o=Ir[a];Ir[a++]=null;var u=Ir[a];Ir[a++]=null;var h=Ir[a];Ir[a++]=null;var p=Ir[a];if(Ir[a++]=null,u!==null&&h!==null){var T=u.pending;T===null?h.next=h:(h.next=T.next,T.next=h),u.pending=h}p!==0&&Hv(o,h,p)}}function Gc(r,a,o,u){Ir[So++]=r,Ir[So++]=a,Ir[So++]=o,Ir[So++]=u,Ud|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function zd(r,a,o,u){return Gc(r,a,o,u),$c(r)}function Ao(r,a){return Gc(r,null,null,a),$c(r)}function Hv(r,a,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var h=!1,p=r.return;p!==null;)p.childLanes|=o,u=p.alternate,u!==null&&(u.childLanes|=o),p.tag===22&&(r=p.stateNode,r===null||r._visibility&1||(h=!0)),r=p,p=p.return;return r.tag===3?(p=r.stateNode,h&&a!==null&&(h=31-It(o),r=p.hiddenUpdates,u=r[h],u===null?r[h]=[a]:u.push(a),a.lane=o|536870912),p):null}function $c(r){if(50<yu)throw yu=0,Gm=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var wo={};function L1(r,a,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cr(r,a,o,u){return new L1(r,a,o,u)}function Bd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Pi(r,a){var o=r.alternate;return o===null?(o=cr(r.tag,a,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=a,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,a=r.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function Fv(r,a){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,a=o.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function Kc(r,a,o,u,h,p){var T=0;if(u=r,typeof r=="function")Bd(r)&&(T=1);else if(typeof r=="string")T=zI(r,o,be.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case C:return r=cr(31,o,a,h),r.elementType=C,r.lanes=p,r;case M:return xs(o.children,h,p,a);case V:T=8,h|=24;break;case D:return r=cr(12,o,a,h|2),r.elementType=D,r.lanes=p,r;case K:return r=cr(13,o,a,h),r.elementType=K,r.lanes=p,r;case he:return r=cr(19,o,a,h),r.elementType=he,r.lanes=p,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case Z:case Y:T=10;break e;case j:T=9;break e;case te:T=11;break e;case S:T=14;break e;case w:T=16,u=null;break e}T=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return a=cr(T,o,a,h),a.elementType=r,a.type=u,a.lanes=p,a}function xs(r,a,o,u){return r=cr(7,r,u,a),r.lanes=o,r}function jd(r,a,o){return r=cr(6,r,null,a),r.lanes=o,r}function Hd(r,a,o){return a=cr(4,r.children!==null?r.children:[],r.key,a),a.lanes=o,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var Ro=[],Io=0,Qc=null,Xc=0,Cr=[],Dr=0,Ms=null,ki=1,Vi="";function Ns(r,a){Ro[Io++]=Xc,Ro[Io++]=Qc,Qc=r,Xc=a}function qv(r,a,o){Cr[Dr++]=ki,Cr[Dr++]=Vi,Cr[Dr++]=Ms,Ms=r;var u=ki;r=Vi;var h=32-It(u)-1;u&=~(1<<h),o+=1;var p=32-It(a)+h;if(30<p){var T=h-h%5;p=(u&(1<<T)-1).toString(32),u>>=T,h-=T,ki=1<<32-It(a)+h|o<<h|u,Vi=p+r}else ki=1<<p|o<<h|u,Vi=r}function Fd(r){r.return!==null&&(Ns(r,1),qv(r,1,0))}function qd(r){for(;r===Qc;)Qc=Ro[--Io],Ro[Io]=null,Xc=Ro[--Io],Ro[Io]=null;for(;r===Ms;)Ms=Cr[--Dr],Cr[Dr]=null,Vi=Cr[--Dr],Cr[Dr]=null,ki=Cr[--Dr],Cr[Dr]=null}var zn=null,jt=null,ht=!1,Ps=null,li=!1,Gd=Error(i(519));function ks(r){var a=Error(i(418,""));throw Xl(Rr(a,r)),Gd}function Gv(r){var a=r.stateNode,o=r.type,u=r.memoizedProps;switch(a[P]=r,a[B]=u,o){case"dialog":We("cancel",a),We("close",a);break;case"iframe":case"object":case"embed":We("load",a);break;case"video":case"audio":for(o=0;o<_u.length;o++)We(_u[o],a);break;case"source":We("error",a);break;case"img":case"image":case"link":We("error",a),We("load",a);break;case"details":We("toggle",a);break;case"input":We("invalid",a),_s(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),co(a);break;case"select":We("invalid",a);break;case"textarea":We("invalid",a),Es(a,u.value,u.defaultValue,u.children),co(a)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||a.textContent===""+o||u.suppressHydrationWarning===!0||lE(a.textContent,o)?(u.popover!=null&&(We("beforetoggle",a),We("toggle",a)),u.onScroll!=null&&We("scroll",a),u.onScrollEnd!=null&&We("scrollend",a),u.onClick!=null&&(a.onclick=Of),a=!0):a=!1,a||ks(r)}function $v(r){for(zn=r.return;zn;)switch(zn.tag){case 5:case 13:li=!1;return;case 27:case 3:li=!0;return;default:zn=zn.return}}function Kl(r){if(r!==zn)return!1;if(!ht)return $v(r),ht=!0,!1;var a=r.tag,o;if((o=a!==3&&a!==27)&&((o=a===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||op(r.type,r.memoizedProps)),o=!o),o&&jt&&ks(r),$v(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(a===0){jt=Hr(r.nextSibling);break e}a--}else o!=="$"&&o!=="$!"&&o!=="$?"||a++;r=r.nextSibling}jt=null}}else a===27?(a=jt,Oa(r.type)?(r=fp,fp=null,jt=r):jt=a):jt=zn?Hr(r.stateNode.nextSibling):null;return!0}function Ql(){jt=zn=null,ht=!1}function Kv(){var r=Ps;return r!==null&&(Kn===null?Kn=r:Kn.push.apply(Kn,r),Ps=null),r}function Xl(r){Ps===null?Ps=[r]:Ps.push(r)}var $d=re(null),Vs=null,Li=null;function pa(r,a,o){fe($d,a._currentValue),a._currentValue=o}function Ui(r){r._currentValue=$d.current,ce($d)}function Kd(r,a,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),r===o)break;r=r.return}}function Qd(r,a,o,u){var h=r.child;for(h!==null&&(h.return=r);h!==null;){var p=h.dependencies;if(p!==null){var T=h.child;p=p.firstContext;e:for(;p!==null;){var A=p;p=h;for(var N=0;N<a.length;N++)if(A.context===a[N]){p.lanes|=o,A=p.alternate,A!==null&&(A.lanes|=o),Kd(p.return,o,r),u||(T=null);break e}p=A.next}}else if(h.tag===18){if(T=h.return,T===null)throw Error(i(341));T.lanes|=o,p=T.alternate,p!==null&&(p.lanes|=o),Kd(T,o,r),T=null}else T=h.child;if(T!==null)T.return=h;else for(T=h;T!==null;){if(T===r){T=null;break}if(h=T.sibling,h!==null){h.return=T.return,T=h;break}T=T.return}h=T}}function Yl(r,a,o,u){r=null;for(var h=a,p=!1;h!==null;){if(!p){if((h.flags&524288)!==0)p=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var T=h.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var A=h.type;ur(h.pendingProps.value,T.value)||(r!==null?r.push(A):r=[A])}}else if(h===st.current){if(T=h.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(r!==null?r.push(wu):r=[wu])}h=h.return}r!==null&&Qd(a,r,o,u),a.flags|=262144}function Yc(r){for(r=r.firstContext;r!==null;){if(!ur(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Ls(r){Vs=r,Li=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function On(r){return Qv(Vs,r)}function Wc(r,a){return Vs===null&&Ls(r),Qv(r,a)}function Qv(r,a){var o=a._currentValue;if(a={context:a,memoizedValue:o,next:null},Li===null){if(r===null)throw Error(i(308));Li=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else Li=Li.next=a;return o}var U1=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){a.aborted=!0,r.forEach(function(o){return o()})}},z1=n.unstable_scheduleCallback,B1=n.unstable_NormalPriority,rn={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xd(){return{controller:new U1,data:new Map,refCount:0}}function Wl(r){r.refCount--,r.refCount===0&&z1(B1,function(){r.controller.abort()})}var Zl=null,Yd=0,Co=0,Do=null;function j1(r,a){if(Zl===null){var o=Zl=[];Yd=0,Co=Zm(),Do={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Yd++,a.then(Xv,Xv),a}function Xv(){if(--Yd===0&&Zl!==null){Do!==null&&(Do.status="fulfilled");var r=Zl;Zl=null,Co=0,Do=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function H1(r,a){var o=[],u={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return r.then(function(){u.status="fulfilled",u.value=a;for(var h=0;h<o.length;h++)(0,o[h])(a)},function(h){for(u.status="rejected",u.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),u}var Yv=J.S;J.S=function(r,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&j1(r,a),Yv!==null&&Yv(r,a)};var Us=re(null);function Wd(){var r=Us.current;return r!==null?r:Ot.pooledCache}function Zc(r,a){a===null?fe(Us,Us.current):fe(Us,a.pool)}function Wv(){var r=Wd();return r===null?null:{parent:rn._currentValue,pool:r}}var Jl=Error(i(460)),Zv=Error(i(474)),Jc=Error(i(542)),Zd={then:function(){}};function Jv(r){return r=r.status,r==="fulfilled"||r==="rejected"}function ef(){}function e_(r,a,o){switch(o=r[o],o===void 0?r.push(a):o!==a&&(a.then(ef,ef),a=o),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,n_(r),r;default:if(typeof a.status=="string")a.then(ef,ef);else{if(r=Ot,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(u){if(a.status==="pending"){var h=a;h.status="fulfilled",h.value=u}},function(u){if(a.status==="pending"){var h=a;h.status="rejected",h.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,n_(r),r}throw eu=a,Jl}}var eu=null;function t_(){if(eu===null)throw Error(i(459));var r=eu;return eu=null,r}function n_(r){if(r===Jl||r===Jc)throw Error(i(483))}var ga=!1;function Jd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function em(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ya(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function va(r,a,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(gt&2)!==0){var h=u.pending;return h===null?a.next=a:(a.next=h.next,h.next=a),u.pending=a,a=$c(r),Hv(r,null,o),a}return Gc(r,u,a,o),$c(r)}function tu(r,a,o){if(a=a.updateQueue,a!==null&&(a=a.shared,(o&4194048)!==0)){var u=a.lanes;u&=r.pendingLanes,o|=u,a.lanes=o,gs(r,o)}}function tm(r,a){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?h=p=T:p=p.next=T,o=o.next}while(o!==null);p===null?h=p=a:p=p.next=a}else h=p=a;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=a:r.next=a,o.lastBaseUpdate=a}var nm=!1;function nu(){if(nm){var r=Do;if(r!==null)throw r}}function ru(r,a,o,u){nm=!1;var h=r.updateQueue;ga=!1;var p=h.firstBaseUpdate,T=h.lastBaseUpdate,A=h.shared.pending;if(A!==null){h.shared.pending=null;var N=A,G=N.next;N.next=null,T===null?p=G:T.next=G,T=N;var ne=r.alternate;ne!==null&&(ne=ne.updateQueue,A=ne.lastBaseUpdate,A!==T&&(A===null?ne.firstBaseUpdate=G:A.next=G,ne.lastBaseUpdate=N))}if(p!==null){var ae=h.baseState;T=0,ne=G=N=null,A=p;do{var X=A.lane&-536870913,W=X!==A.lane;if(W?(it&X)===X:(u&X)===X){X!==0&&X===Co&&(nm=!0),ne!==null&&(ne=ne.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var ze=r,Pe=A;X=a;var bt=o;switch(Pe.tag){case 1:if(ze=Pe.payload,typeof ze=="function"){ae=ze.call(bt,ae,X);break e}ae=ze;break e;case 3:ze.flags=ze.flags&-65537|128;case 0:if(ze=Pe.payload,X=typeof ze=="function"?ze.call(bt,ae,X):ze,X==null)break e;ae=v({},ae,X);break e;case 2:ga=!0}}X=A.callback,X!==null&&(r.flags|=64,W&&(r.flags|=8192),W=h.callbacks,W===null?h.callbacks=[X]:W.push(X))}else W={lane:X,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ne===null?(G=ne=W,N=ae):ne=ne.next=W,T|=X;if(A=A.next,A===null){if(A=h.shared.pending,A===null)break;W=A,A=W.next,W.next=null,h.lastBaseUpdate=W,h.shared.pending=null}}while(!0);ne===null&&(N=ae),h.baseState=N,h.firstBaseUpdate=G,h.lastBaseUpdate=ne,p===null&&(h.shared.lanes=0),Ra|=T,r.lanes=T,r.memoizedState=ae}}function r_(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function i_(r,a){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)r_(o[r],a)}var Oo=re(null),tf=re(0);function a_(r,a){r=Gi,fe(tf,r),fe(Oo,a),Gi=r|a.baseLanes}function rm(){fe(tf,Gi),fe(Oo,Oo.current)}function im(){Gi=tf.current,ce(Oo),ce(tf)}var _a=0,Ge=null,Et=null,Xt=null,nf=!1,xo=!1,zs=!1,rf=0,iu=0,Mo=null,F1=0;function Gt(){throw Error(i(321))}function am(r,a){if(a===null)return!1;for(var o=0;o<a.length&&o<r.length;o++)if(!ur(r[o],a[o]))return!1;return!0}function sm(r,a,o,u,h,p){return _a=p,Ge=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,J.H=r===null||r.memoizedState===null?H_:F_,zs=!1,p=o(u,h),zs=!1,xo&&(p=o_(a,o,u,h)),s_(r),p}function s_(r){J.H=cf;var a=Et!==null&&Et.next!==null;if(_a=0,Xt=Et=Ge=null,nf=!1,iu=0,Mo=null,a)throw Error(i(300));r===null||dn||(r=r.dependencies,r!==null&&Yc(r)&&(dn=!0))}function o_(r,a,o,u){Ge=r;var h=0;do{if(xo&&(Mo=null),iu=0,xo=!1,25<=h)throw Error(i(301));if(h+=1,Xt=Et=null,r.updateQueue!=null){var p=r.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}J.H=Y1,p=a(o,u)}while(xo);return p}function q1(){var r=J.H,a=r.useState()[0];return a=typeof a.then=="function"?au(a):a,r=r.useState()[0],(Et!==null?Et.memoizedState:null)!==r&&(Ge.flags|=1024),a}function om(){var r=rf!==0;return rf=0,r}function lm(r,a,o){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~o}function um(r){if(nf){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}nf=!1}_a=0,Xt=Et=Ge=null,xo=!1,iu=rf=0,Mo=null}function Gn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xt===null?Ge.memoizedState=Xt=r:Xt=Xt.next=r,Xt}function Yt(){if(Et===null){var r=Ge.alternate;r=r!==null?r.memoizedState:null}else r=Et.next;var a=Xt===null?Ge.memoizedState:Xt.next;if(a!==null)Xt=a,Et=r;else{if(r===null)throw Ge.alternate===null?Error(i(467)):Error(i(310));Et=r,r={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},Xt===null?Ge.memoizedState=Xt=r:Xt=Xt.next=r}return Xt}function cm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function au(r){var a=iu;return iu+=1,Mo===null&&(Mo=[]),r=e_(Mo,r,a),a=Ge,(Xt===null?a.memoizedState:Xt.next)===null&&(a=a.alternate,J.H=a===null||a.memoizedState===null?H_:F_),r}function af(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return au(r);if(r.$$typeof===Y)return On(r)}throw Error(i(438,String(r)))}function fm(r){var a=null,o=Ge.updateQueue;if(o!==null&&(a=o.memoCache),a==null){var u=Ge.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(h){return h.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),o===null&&(o=cm(),Ge.updateQueue=o),o.memoCache=a,o=a.data[a.index],o===void 0)for(o=a.data[a.index]=Array(r),u=0;u<r;u++)o[u]=x;return a.index++,o}function zi(r,a){return typeof a=="function"?a(r):a}function sf(r){var a=Yt();return hm(a,Et,r)}function hm(r,a,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var h=r.baseQueue,p=u.pending;if(p!==null){if(h!==null){var T=h.next;h.next=p.next,p.next=T}a.baseQueue=h=p,u.pending=null}if(p=r.baseState,h===null)r.memoizedState=p;else{a=h.next;var A=T=null,N=null,G=a,ne=!1;do{var ae=G.lane&-536870913;if(ae!==G.lane?(it&ae)===ae:(_a&ae)===ae){var X=G.revertLane;if(X===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),ae===Co&&(ne=!0);else if((_a&X)===X){G=G.next,X===Co&&(ne=!0);continue}else ae={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},N===null?(A=N=ae,T=p):N=N.next=ae,Ge.lanes|=X,Ra|=X;ae=G.action,zs&&o(p,ae),p=G.hasEagerState?G.eagerState:o(p,ae)}else X={lane:ae,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},N===null?(A=N=X,T=p):N=N.next=X,Ge.lanes|=ae,Ra|=ae;G=G.next}while(G!==null&&G!==a);if(N===null?T=p:N.next=A,!ur(p,r.memoizedState)&&(dn=!0,ne&&(o=Do,o!==null)))throw o;r.memoizedState=p,r.baseState=T,r.baseQueue=N,u.lastRenderedState=p}return h===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function dm(r){var a=Yt(),o=a.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,h=o.pending,p=a.memoizedState;if(h!==null){o.pending=null;var T=h=h.next;do p=r(p,T.action),T=T.next;while(T!==h);ur(p,a.memoizedState)||(dn=!0),a.memoizedState=p,a.baseQueue===null&&(a.baseState=p),o.lastRenderedState=p}return[p,u]}function l_(r,a,o){var u=Ge,h=Yt(),p=ht;if(p){if(o===void 0)throw Error(i(407));o=o()}else o=a();var T=!ur((Et||h).memoizedState,o);T&&(h.memoizedState=o,dn=!0),h=h.queue;var A=f_.bind(null,u,h,r);if(su(2048,8,A,[r]),h.getSnapshot!==a||T||Xt!==null&&Xt.memoizedState.tag&1){if(u.flags|=2048,No(9,of(),c_.bind(null,u,h,o,a),null),Ot===null)throw Error(i(349));p||(_a&124)!==0||u_(u,a,o)}return o}function u_(r,a,o){r.flags|=16384,r={getSnapshot:a,value:o},a=Ge.updateQueue,a===null?(a=cm(),Ge.updateQueue=a,a.stores=[r]):(o=a.stores,o===null?a.stores=[r]:o.push(r))}function c_(r,a,o,u){a.value=o,a.getSnapshot=u,h_(a)&&d_(r)}function f_(r,a,o){return o(function(){h_(a)&&d_(r)})}function h_(r){var a=r.getSnapshot;r=r.value;try{var o=a();return!ur(r,o)}catch{return!0}}function d_(r){var a=Ao(r,2);a!==null&&pr(a,r,2)}function mm(r){var a=Gn();if(typeof r=="function"){var o=r;if(r=o(),zs){zt(!0);try{o()}finally{zt(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:r},a}function m_(r,a,o,u){return r.baseState=o,hm(r,Et,typeof u=="function"?u:zi)}function G1(r,a,o,u,h){if(uf(r))throw Error(i(485));if(r=a.action,r!==null){var p={payload:h,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){p.listeners.push(T)}};J.T!==null?o(!0):p.isTransition=!1,u(p),o=a.pending,o===null?(p.next=a.pending=p,p_(a,p)):(p.next=o.next,a.pending=o.next=p)}}function p_(r,a){var o=a.action,u=a.payload,h=r.state;if(a.isTransition){var p=J.T,T={};J.T=T;try{var A=o(h,u),N=J.S;N!==null&&N(T,A),g_(r,a,A)}catch(G){pm(r,a,G)}finally{J.T=p}}else try{p=o(h,u),g_(r,a,p)}catch(G){pm(r,a,G)}}function g_(r,a,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){y_(r,a,u)},function(u){return pm(r,a,u)}):y_(r,a,o)}function y_(r,a,o){a.status="fulfilled",a.value=o,v_(a),r.state=o,a=r.pending,a!==null&&(o=a.next,o===a?r.pending=null:(o=o.next,a.next=o,p_(r,o)))}function pm(r,a,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=o,v_(a),a=a.next;while(a!==u)}r.action=null}function v_(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function __(r,a){return a}function E_(r,a){if(ht){var o=Ot.formState;if(o!==null){e:{var u=Ge;if(ht){if(jt){t:{for(var h=jt,p=li;h.nodeType!==8;){if(!p){h=null;break t}if(h=Hr(h.nextSibling),h===null){h=null;break t}}p=h.data,h=p==="F!"||p==="F"?h:null}if(h){jt=Hr(h.nextSibling),u=h.data==="F!";break e}}ks(u)}u=!1}u&&(a=o[0])}}return o=Gn(),o.memoizedState=o.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:__,lastRenderedState:a},o.queue=u,o=z_.bind(null,Ge,u),u.dispatch=o,u=mm(!1),p=Em.bind(null,Ge,!1,u.queue),u=Gn(),h={state:a,dispatch:null,action:r,pending:null},u.queue=h,o=G1.bind(null,Ge,h,p,o),h.dispatch=o,u.memoizedState=r,[a,o,!1]}function T_(r){var a=Yt();return b_(a,Et,r)}function b_(r,a,o){if(a=hm(r,a,__)[0],r=sf(zi)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=au(a)}catch(T){throw T===Jl?Jc:T}else u=a;a=Yt();var h=a.queue,p=h.dispatch;return o!==a.memoizedState&&(Ge.flags|=2048,No(9,of(),$1.bind(null,h,o),null)),[u,p,r]}function $1(r,a){r.action=a}function S_(r){var a=Yt(),o=Et;if(o!==null)return b_(a,o,r);Yt(),a=a.memoizedState,o=Yt();var u=o.queue.dispatch;return o.memoizedState=r,[a,u,!1]}function No(r,a,o,u){return r={tag:r,create:o,deps:u,inst:a,next:null},a=Ge.updateQueue,a===null&&(a=cm(),Ge.updateQueue=a),o=a.lastEffect,o===null?a.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,a.lastEffect=r),r}function of(){return{destroy:void 0,resource:void 0}}function A_(){return Yt().memoizedState}function lf(r,a,o,u){var h=Gn();u=u===void 0?null:u,Ge.flags|=r,h.memoizedState=No(1|a,of(),o,u)}function su(r,a,o,u){var h=Yt();u=u===void 0?null:u;var p=h.memoizedState.inst;Et!==null&&u!==null&&am(u,Et.memoizedState.deps)?h.memoizedState=No(a,p,o,u):(Ge.flags|=r,h.memoizedState=No(1|a,p,o,u))}function w_(r,a){lf(8390656,8,r,a)}function R_(r,a){su(2048,8,r,a)}function I_(r,a){return su(4,2,r,a)}function C_(r,a){return su(4,4,r,a)}function D_(r,a){if(typeof a=="function"){r=r();var o=a(r);return function(){typeof o=="function"?o():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function O_(r,a,o){o=o!=null?o.concat([r]):null,su(4,4,D_.bind(null,a,r),o)}function gm(){}function x_(r,a){var o=Yt();a=a===void 0?null:a;var u=o.memoizedState;return a!==null&&am(a,u[1])?u[0]:(o.memoizedState=[r,a],r)}function M_(r,a){var o=Yt();a=a===void 0?null:a;var u=o.memoizedState;if(a!==null&&am(a,u[1]))return u[0];if(u=r(),zs){zt(!0);try{r()}finally{zt(!1)}}return o.memoizedState=[u,a],u}function ym(r,a,o){return o===void 0||(_a&1073741824)!==0?r.memoizedState=a:(r.memoizedState=o,r=k0(),Ge.lanes|=r,Ra|=r,o)}function N_(r,a,o,u){return ur(o,a)?o:Oo.current!==null?(r=ym(r,o,u),ur(r,a)||(dn=!0),r):(_a&42)===0?(dn=!0,r.memoizedState=o):(r=k0(),Ge.lanes|=r,Ra|=r,a)}function P_(r,a,o,u,h){var p=ue.p;ue.p=p!==0&&8>p?p:8;var T=J.T,A={};J.T=A,Em(r,!1,a,o);try{var N=h(),G=J.S;if(G!==null&&G(A,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var ne=H1(N,u);ou(r,a,ne,mr(r))}else ou(r,a,u,mr(r))}catch(ae){ou(r,a,{then:function(){},status:"rejected",reason:ae},mr())}finally{ue.p=p,J.T=T}}function K1(){}function vm(r,a,o,u){if(r.tag!==5)throw Error(i(476));var h=k_(r).queue;P_(r,h,a,de,o===null?K1:function(){return V_(r),o(u)})}function k_(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:de},next:null};var o={};return a.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:o},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function V_(r){var a=k_(r).next.queue;ou(r,a,{},mr())}function _m(){return On(wu)}function L_(){return Yt().memoizedState}function U_(){return Yt().memoizedState}function Q1(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var o=mr();r=ya(o);var u=va(a,r,o);u!==null&&(pr(u,a,o),tu(u,a,o)),a={cache:Xd()},r.payload=a;return}a=a.return}}function X1(r,a,o){var u=mr();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},uf(r)?B_(a,o):(o=zd(r,a,o,u),o!==null&&(pr(o,r,u),j_(o,a,u)))}function z_(r,a,o){var u=mr();ou(r,a,o,u)}function ou(r,a,o,u){var h={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(uf(r))B_(a,h);else{var p=r.alternate;if(r.lanes===0&&(p===null||p.lanes===0)&&(p=a.lastRenderedReducer,p!==null))try{var T=a.lastRenderedState,A=p(T,o);if(h.hasEagerState=!0,h.eagerState=A,ur(A,T))return Gc(r,a,h,0),Ot===null&&qc(),!1}catch{}finally{}if(o=zd(r,a,h,u),o!==null)return pr(o,r,u),j_(o,a,u),!0}return!1}function Em(r,a,o,u){if(u={lane:2,revertLane:Zm(),action:u,hasEagerState:!1,eagerState:null,next:null},uf(r)){if(a)throw Error(i(479))}else a=zd(r,o,u,2),a!==null&&pr(a,r,2)}function uf(r){var a=r.alternate;return r===Ge||a!==null&&a===Ge}function B_(r,a){xo=nf=!0;var o=r.pending;o===null?a.next=a:(a.next=o.next,o.next=a),r.pending=a}function j_(r,a,o){if((o&4194048)!==0){var u=a.lanes;u&=r.pendingLanes,o|=u,a.lanes=o,gs(r,o)}}var cf={readContext:On,use:af,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useLayoutEffect:Gt,useInsertionEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useSyncExternalStore:Gt,useId:Gt,useHostTransitionStatus:Gt,useFormState:Gt,useActionState:Gt,useOptimistic:Gt,useMemoCache:Gt,useCacheRefresh:Gt},H_={readContext:On,use:af,useCallback:function(r,a){return Gn().memoizedState=[r,a===void 0?null:a],r},useContext:On,useEffect:w_,useImperativeHandle:function(r,a,o){o=o!=null?o.concat([r]):null,lf(4194308,4,D_.bind(null,a,r),o)},useLayoutEffect:function(r,a){return lf(4194308,4,r,a)},useInsertionEffect:function(r,a){lf(4,2,r,a)},useMemo:function(r,a){var o=Gn();a=a===void 0?null:a;var u=r();if(zs){zt(!0);try{r()}finally{zt(!1)}}return o.memoizedState=[u,a],u},useReducer:function(r,a,o){var u=Gn();if(o!==void 0){var h=o(a);if(zs){zt(!0);try{o(a)}finally{zt(!1)}}}else h=a;return u.memoizedState=u.baseState=h,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:h},u.queue=r,r=r.dispatch=X1.bind(null,Ge,r),[u.memoizedState,r]},useRef:function(r){var a=Gn();return r={current:r},a.memoizedState=r},useState:function(r){r=mm(r);var a=r.queue,o=z_.bind(null,Ge,a);return a.dispatch=o,[r.memoizedState,o]},useDebugValue:gm,useDeferredValue:function(r,a){var o=Gn();return ym(o,r,a)},useTransition:function(){var r=mm(!1);return r=P_.bind(null,Ge,r.queue,!0,!1),Gn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,o){var u=Ge,h=Gn();if(ht){if(o===void 0)throw Error(i(407));o=o()}else{if(o=a(),Ot===null)throw Error(i(349));(it&124)!==0||u_(u,a,o)}h.memoizedState=o;var p={value:o,getSnapshot:a};return h.queue=p,w_(f_.bind(null,u,p,r),[r]),u.flags|=2048,No(9,of(),c_.bind(null,u,p,o,a),null),o},useId:function(){var r=Gn(),a=Ot.identifierPrefix;if(ht){var o=Vi,u=ki;o=(u&~(1<<32-It(u)-1)).toString(32)+o,a=""+a+"R"+o,o=rf++,0<o&&(a+="H"+o.toString(32)),a+=""}else o=F1++,a=""+a+"r"+o.toString(32)+"";return r.memoizedState=a},useHostTransitionStatus:_m,useFormState:E_,useActionState:E_,useOptimistic:function(r){var a=Gn();a.memoizedState=a.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=o,a=Em.bind(null,Ge,!0,o),o.dispatch=a,[r,a]},useMemoCache:fm,useCacheRefresh:function(){return Gn().memoizedState=Q1.bind(null,Ge)}},F_={readContext:On,use:af,useCallback:x_,useContext:On,useEffect:R_,useImperativeHandle:O_,useInsertionEffect:I_,useLayoutEffect:C_,useMemo:M_,useReducer:sf,useRef:A_,useState:function(){return sf(zi)},useDebugValue:gm,useDeferredValue:function(r,a){var o=Yt();return N_(o,Et.memoizedState,r,a)},useTransition:function(){var r=sf(zi)[0],a=Yt().memoizedState;return[typeof r=="boolean"?r:au(r),a]},useSyncExternalStore:l_,useId:L_,useHostTransitionStatus:_m,useFormState:T_,useActionState:T_,useOptimistic:function(r,a){var o=Yt();return m_(o,Et,r,a)},useMemoCache:fm,useCacheRefresh:U_},Y1={readContext:On,use:af,useCallback:x_,useContext:On,useEffect:R_,useImperativeHandle:O_,useInsertionEffect:I_,useLayoutEffect:C_,useMemo:M_,useReducer:dm,useRef:A_,useState:function(){return dm(zi)},useDebugValue:gm,useDeferredValue:function(r,a){var o=Yt();return Et===null?ym(o,r,a):N_(o,Et.memoizedState,r,a)},useTransition:function(){var r=dm(zi)[0],a=Yt().memoizedState;return[typeof r=="boolean"?r:au(r),a]},useSyncExternalStore:l_,useId:L_,useHostTransitionStatus:_m,useFormState:S_,useActionState:S_,useOptimistic:function(r,a){var o=Yt();return Et!==null?m_(o,Et,r,a):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:fm,useCacheRefresh:U_},Po=null,lu=0;function ff(r){var a=lu;return lu+=1,Po===null&&(Po=[]),e_(Po,r,a)}function uu(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function hf(r,a){throw a.$$typeof===E?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function q_(r){var a=r._init;return a(r._payload)}function G_(r){function a(H,z){if(r){var q=H.deletions;q===null?(H.deletions=[z],H.flags|=16):q.push(z)}}function o(H,z){if(!r)return null;for(;z!==null;)a(H,z),z=z.sibling;return null}function u(H){for(var z=new Map;H!==null;)H.key!==null?z.set(H.key,H):z.set(H.index,H),H=H.sibling;return z}function h(H,z){return H=Pi(H,z),H.index=0,H.sibling=null,H}function p(H,z,q){return H.index=q,r?(q=H.alternate,q!==null?(q=q.index,q<z?(H.flags|=67108866,z):q):(H.flags|=67108866,z)):(H.flags|=1048576,z)}function T(H){return r&&H.alternate===null&&(H.flags|=67108866),H}function A(H,z,q,ie){return z===null||z.tag!==6?(z=jd(q,H.mode,ie),z.return=H,z):(z=h(z,q),z.return=H,z)}function N(H,z,q,ie){var Ae=q.type;return Ae===M?ne(H,z,q.props.children,ie,q.key):z!==null&&(z.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===w&&q_(Ae)===z.type)?(z=h(z,q.props),uu(z,q),z.return=H,z):(z=Kc(q.type,q.key,q.props,null,H.mode,ie),uu(z,q),z.return=H,z)}function G(H,z,q,ie){return z===null||z.tag!==4||z.stateNode.containerInfo!==q.containerInfo||z.stateNode.implementation!==q.implementation?(z=Hd(q,H.mode,ie),z.return=H,z):(z=h(z,q.children||[]),z.return=H,z)}function ne(H,z,q,ie,Ae){return z===null||z.tag!==7?(z=xs(q,H.mode,ie,Ae),z.return=H,z):(z=h(z,q),z.return=H,z)}function ae(H,z,q){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=jd(""+z,H.mode,q),z.return=H,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case b:return q=Kc(z.type,z.key,z.props,null,H.mode,q),uu(q,z),q.return=H,q;case I:return z=Hd(z,H.mode,q),z.return=H,z;case w:var ie=z._init;return z=ie(z._payload),ae(H,z,q)}if(De(z)||k(z))return z=xs(z,H.mode,q,null),z.return=H,z;if(typeof z.then=="function")return ae(H,ff(z),q);if(z.$$typeof===Y)return ae(H,Wc(H,z),q);hf(H,z)}return null}function X(H,z,q,ie){var Ae=z!==null?z.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return Ae!==null?null:A(H,z,""+q,ie);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case b:return q.key===Ae?N(H,z,q,ie):null;case I:return q.key===Ae?G(H,z,q,ie):null;case w:return Ae=q._init,q=Ae(q._payload),X(H,z,q,ie)}if(De(q)||k(q))return Ae!==null?null:ne(H,z,q,ie,null);if(typeof q.then=="function")return X(H,z,ff(q),ie);if(q.$$typeof===Y)return X(H,z,Wc(H,q),ie);hf(H,q)}return null}function W(H,z,q,ie,Ae){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return H=H.get(q)||null,A(z,H,""+ie,Ae);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case b:return H=H.get(ie.key===null?q:ie.key)||null,N(z,H,ie,Ae);case I:return H=H.get(ie.key===null?q:ie.key)||null,G(z,H,ie,Ae);case w:var Qe=ie._init;return ie=Qe(ie._payload),W(H,z,q,ie,Ae)}if(De(ie)||k(ie))return H=H.get(q)||null,ne(z,H,ie,Ae,null);if(typeof ie.then=="function")return W(H,z,q,ff(ie),Ae);if(ie.$$typeof===Y)return W(H,z,q,Wc(z,ie),Ae);hf(z,ie)}return null}function ze(H,z,q,ie){for(var Ae=null,Qe=null,Re=z,Ve=z=0,pn=null;Re!==null&&Ve<q.length;Ve++){Re.index>Ve?(pn=Re,Re=null):pn=Re.sibling;var ft=X(H,Re,q[Ve],ie);if(ft===null){Re===null&&(Re=pn);break}r&&Re&&ft.alternate===null&&a(H,Re),z=p(ft,z,Ve),Qe===null?Ae=ft:Qe.sibling=ft,Qe=ft,Re=pn}if(Ve===q.length)return o(H,Re),ht&&Ns(H,Ve),Ae;if(Re===null){for(;Ve<q.length;Ve++)Re=ae(H,q[Ve],ie),Re!==null&&(z=p(Re,z,Ve),Qe===null?Ae=Re:Qe.sibling=Re,Qe=Re);return ht&&Ns(H,Ve),Ae}for(Re=u(Re);Ve<q.length;Ve++)pn=W(Re,H,Ve,q[Ve],ie),pn!==null&&(r&&pn.alternate!==null&&Re.delete(pn.key===null?Ve:pn.key),z=p(pn,z,Ve),Qe===null?Ae=pn:Qe.sibling=pn,Qe=pn);return r&&Re.forEach(function(ka){return a(H,ka)}),ht&&Ns(H,Ve),Ae}function Pe(H,z,q,ie){if(q==null)throw Error(i(151));for(var Ae=null,Qe=null,Re=z,Ve=z=0,pn=null,ft=q.next();Re!==null&&!ft.done;Ve++,ft=q.next()){Re.index>Ve?(pn=Re,Re=null):pn=Re.sibling;var ka=X(H,Re,ft.value,ie);if(ka===null){Re===null&&(Re=pn);break}r&&Re&&ka.alternate===null&&a(H,Re),z=p(ka,z,Ve),Qe===null?Ae=ka:Qe.sibling=ka,Qe=ka,Re=pn}if(ft.done)return o(H,Re),ht&&Ns(H,Ve),Ae;if(Re===null){for(;!ft.done;Ve++,ft=q.next())ft=ae(H,ft.value,ie),ft!==null&&(z=p(ft,z,Ve),Qe===null?Ae=ft:Qe.sibling=ft,Qe=ft);return ht&&Ns(H,Ve),Ae}for(Re=u(Re);!ft.done;Ve++,ft=q.next())ft=W(Re,H,Ve,ft.value,ie),ft!==null&&(r&&ft.alternate!==null&&Re.delete(ft.key===null?Ve:ft.key),z=p(ft,z,Ve),Qe===null?Ae=ft:Qe.sibling=ft,Qe=ft);return r&&Re.forEach(function(WI){return a(H,WI)}),ht&&Ns(H,Ve),Ae}function bt(H,z,q,ie){if(typeof q=="object"&&q!==null&&q.type===M&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case b:e:{for(var Ae=q.key;z!==null;){if(z.key===Ae){if(Ae=q.type,Ae===M){if(z.tag===7){o(H,z.sibling),ie=h(z,q.props.children),ie.return=H,H=ie;break e}}else if(z.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===w&&q_(Ae)===z.type){o(H,z.sibling),ie=h(z,q.props),uu(ie,q),ie.return=H,H=ie;break e}o(H,z);break}else a(H,z);z=z.sibling}q.type===M?(ie=xs(q.props.children,H.mode,ie,q.key),ie.return=H,H=ie):(ie=Kc(q.type,q.key,q.props,null,H.mode,ie),uu(ie,q),ie.return=H,H=ie)}return T(H);case I:e:{for(Ae=q.key;z!==null;){if(z.key===Ae)if(z.tag===4&&z.stateNode.containerInfo===q.containerInfo&&z.stateNode.implementation===q.implementation){o(H,z.sibling),ie=h(z,q.children||[]),ie.return=H,H=ie;break e}else{o(H,z);break}else a(H,z);z=z.sibling}ie=Hd(q,H.mode,ie),ie.return=H,H=ie}return T(H);case w:return Ae=q._init,q=Ae(q._payload),bt(H,z,q,ie)}if(De(q))return ze(H,z,q,ie);if(k(q)){if(Ae=k(q),typeof Ae!="function")throw Error(i(150));return q=Ae.call(q),Pe(H,z,q,ie)}if(typeof q.then=="function")return bt(H,z,ff(q),ie);if(q.$$typeof===Y)return bt(H,z,Wc(H,q),ie);hf(H,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,z!==null&&z.tag===6?(o(H,z.sibling),ie=h(z,q),ie.return=H,H=ie):(o(H,z),ie=jd(q,H.mode,ie),ie.return=H,H=ie),T(H)):o(H,z)}return function(H,z,q,ie){try{lu=0;var Ae=bt(H,z,q,ie);return Po=null,Ae}catch(Re){if(Re===Jl||Re===Jc)throw Re;var Qe=cr(29,Re,null,H.mode);return Qe.lanes=ie,Qe.return=H,Qe}finally{}}}var ko=G_(!0),$_=G_(!1),Or=re(null),ui=null;function Ea(r){var a=r.alternate;fe(an,an.current&1),fe(Or,r),ui===null&&(a===null||Oo.current!==null||a.memoizedState!==null)&&(ui=r)}function K_(r){if(r.tag===22){if(fe(an,an.current),fe(Or,r),ui===null){var a=r.alternate;a!==null&&a.memoizedState!==null&&(ui=r)}}else Ta()}function Ta(){fe(an,an.current),fe(Or,Or.current)}function Bi(r){ce(Or),ui===r&&(ui=null),ce(an)}var an=re(0);function df(r){for(var a=r;a!==null;){if(a.tag===13){var o=a.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||cp(o)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Tm(r,a,o,u){a=r.memoizedState,o=o(u,a),o=o==null?a:v({},a,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var bm={enqueueSetState:function(r,a,o){r=r._reactInternals;var u=mr(),h=ya(u);h.payload=a,o!=null&&(h.callback=o),a=va(r,h,u),a!==null&&(pr(a,r,u),tu(a,r,u))},enqueueReplaceState:function(r,a,o){r=r._reactInternals;var u=mr(),h=ya(u);h.tag=1,h.payload=a,o!=null&&(h.callback=o),a=va(r,h,u),a!==null&&(pr(a,r,u),tu(a,r,u))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var o=mr(),u=ya(o);u.tag=2,a!=null&&(u.callback=a),a=va(r,u,o),a!==null&&(pr(a,r,o),tu(a,r,o))}};function Q_(r,a,o,u,h,p,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,p,T):a.prototype&&a.prototype.isPureReactComponent?!Gl(o,u)||!Gl(h,p):!0}function X_(r,a,o,u){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(o,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(o,u),a.state!==r&&bm.enqueueReplaceState(a,a.state,null)}function Bs(r,a){var o=a;if("ref"in a){o={};for(var u in a)u!=="ref"&&(o[u]=a[u])}if(r=r.defaultProps){o===a&&(o=v({},o));for(var h in r)o[h]===void 0&&(o[h]=r[h])}return o}var mf=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Y_(r){mf(r)}function W_(r){console.error(r)}function Z_(r){mf(r)}function pf(r,a){try{var o=r.onUncaughtError;o(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function J_(r,a,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Sm(r,a,o){return o=ya(o),o.tag=3,o.payload={element:null},o.callback=function(){pf(r,a)},o}function e0(r){return r=ya(r),r.tag=3,r}function t0(r,a,o,u){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var p=u.value;r.payload=function(){return h(p)},r.callback=function(){J_(a,o,u)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(r.callback=function(){J_(a,o,u),typeof h!="function"&&(Ia===null?Ia=new Set([this]):Ia.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function W1(r,a,o,u,h){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=o.alternate,a!==null&&Yl(a,o,h,!0),o=Or.current,o!==null){switch(o.tag){case 13:return ui===null?Km():o.alternate===null&&Ht===0&&(Ht=3),o.flags&=-257,o.flags|=65536,o.lanes=h,u===Zd?o.flags|=16384:(a=o.updateQueue,a===null?o.updateQueue=new Set([u]):a.add(u),Xm(r,u,h)),!1;case 22:return o.flags|=65536,u===Zd?o.flags|=16384:(a=o.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=a):(o=a.retryQueue,o===null?a.retryQueue=new Set([u]):o.add(u)),Xm(r,u,h)),!1}throw Error(i(435,o.tag))}return Xm(r,u,h),Km(),!1}if(ht)return a=Or.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=h,u!==Gd&&(r=Error(i(422),{cause:u}),Xl(Rr(r,o)))):(u!==Gd&&(a=Error(i(423),{cause:u}),Xl(Rr(a,o))),r=r.current.alternate,r.flags|=65536,h&=-h,r.lanes|=h,u=Rr(u,o),h=Sm(r.stateNode,u,h),tm(r,h),Ht!==4&&(Ht=2)),!1;var p=Error(i(520),{cause:u});if(p=Rr(p,o),gu===null?gu=[p]:gu.push(p),Ht!==4&&(Ht=2),a===null)return!0;u=Rr(u,o),o=a;do{switch(o.tag){case 3:return o.flags|=65536,r=h&-h,o.lanes|=r,r=Sm(o.stateNode,u,r),tm(o,r),!1;case 1:if(a=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Ia===null||!Ia.has(p))))return o.flags|=65536,h&=-h,o.lanes|=h,h=e0(h),t0(h,r,o,u),tm(o,h),!1}o=o.return}while(o!==null);return!1}var n0=Error(i(461)),dn=!1;function Tn(r,a,o,u){a.child=r===null?$_(a,null,o,u):ko(a,r.child,o,u)}function r0(r,a,o,u,h){o=o.render;var p=a.ref;if("ref"in u){var T={};for(var A in u)A!=="ref"&&(T[A]=u[A])}else T=u;return Ls(a),u=sm(r,a,o,T,p,h),A=om(),r!==null&&!dn?(lm(r,a,h),ji(r,a,h)):(ht&&A&&Fd(a),a.flags|=1,Tn(r,a,u,h),a.child)}function i0(r,a,o,u,h){if(r===null){var p=o.type;return typeof p=="function"&&!Bd(p)&&p.defaultProps===void 0&&o.compare===null?(a.tag=15,a.type=p,a0(r,a,p,u,h)):(r=Kc(o.type,null,u,a,a.mode,h),r.ref=a.ref,r.return=a,a.child=r)}if(p=r.child,!xm(r,h)){var T=p.memoizedProps;if(o=o.compare,o=o!==null?o:Gl,o(T,u)&&r.ref===a.ref)return ji(r,a,h)}return a.flags|=1,r=Pi(p,u),r.ref=a.ref,r.return=a,a.child=r}function a0(r,a,o,u,h){if(r!==null){var p=r.memoizedProps;if(Gl(p,u)&&r.ref===a.ref)if(dn=!1,a.pendingProps=u=p,xm(r,h))(r.flags&131072)!==0&&(dn=!0);else return a.lanes=r.lanes,ji(r,a,h)}return Am(r,a,o,u,h)}function s0(r,a,o){var u=a.pendingProps,h=u.children,p=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((a.flags&128)!==0){if(u=p!==null?p.baseLanes|o:o,r!==null){for(h=a.child=r.child,p=0;h!==null;)p=p|h.lanes|h.childLanes,h=h.sibling;a.childLanes=p&~u}else a.childLanes=0,a.child=null;return o0(r,a,u,o)}if((o&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&Zc(a,p!==null?p.cachePool:null),p!==null?a_(a,p):rm(),K_(a);else return a.lanes=a.childLanes=536870912,o0(r,a,p!==null?p.baseLanes|o:o,o)}else p!==null?(Zc(a,p.cachePool),a_(a,p),Ta(),a.memoizedState=null):(r!==null&&Zc(a,null),rm(),Ta());return Tn(r,a,h,o),a.child}function o0(r,a,o,u){var h=Wd();return h=h===null?null:{parent:rn._currentValue,pool:h},a.memoizedState={baseLanes:o,cachePool:h},r!==null&&Zc(a,null),rm(),K_(a),r!==null&&Yl(r,a,u,!0),null}function gf(r,a){var o=a.ref;if(o===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(a.flags|=4194816)}}function Am(r,a,o,u,h){return Ls(a),o=sm(r,a,o,u,void 0,h),u=om(),r!==null&&!dn?(lm(r,a,h),ji(r,a,h)):(ht&&u&&Fd(a),a.flags|=1,Tn(r,a,o,h),a.child)}function l0(r,a,o,u,h,p){return Ls(a),a.updateQueue=null,o=o_(a,u,o,h),s_(r),u=om(),r!==null&&!dn?(lm(r,a,p),ji(r,a,p)):(ht&&u&&Fd(a),a.flags|=1,Tn(r,a,o,p),a.child)}function u0(r,a,o,u,h){if(Ls(a),a.stateNode===null){var p=wo,T=o.contextType;typeof T=="object"&&T!==null&&(p=On(T)),p=new o(u,p),a.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=bm,a.stateNode=p,p._reactInternals=a,p=a.stateNode,p.props=u,p.state=a.memoizedState,p.refs={},Jd(a),T=o.contextType,p.context=typeof T=="object"&&T!==null?On(T):wo,p.state=a.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(Tm(a,o,T,u),p.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(T=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),T!==p.state&&bm.enqueueReplaceState(p,p.state,null),ru(a,u,p,h),nu(),p.state=a.memoizedState),typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(r===null){p=a.stateNode;var A=a.memoizedProps,N=Bs(o,A);p.props=N;var G=p.context,ne=o.contextType;T=wo,typeof ne=="object"&&ne!==null&&(T=On(ne));var ae=o.getDerivedStateFromProps;ne=typeof ae=="function"||typeof p.getSnapshotBeforeUpdate=="function",A=a.pendingProps!==A,ne||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(A||G!==T)&&X_(a,p,u,T),ga=!1;var X=a.memoizedState;p.state=X,ru(a,u,p,h),nu(),G=a.memoizedState,A||X!==G||ga?(typeof ae=="function"&&(Tm(a,o,ae,u),G=a.memoizedState),(N=ga||Q_(a,o,N,u,X,G,T))?(ne||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(a.flags|=4194308)):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=G),p.props=u,p.state=G,p.context=T,u=N):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{p=a.stateNode,em(r,a),T=a.memoizedProps,ne=Bs(o,T),p.props=ne,ae=a.pendingProps,X=p.context,G=o.contextType,N=wo,typeof G=="object"&&G!==null&&(N=On(G)),A=o.getDerivedStateFromProps,(G=typeof A=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T!==ae||X!==N)&&X_(a,p,u,N),ga=!1,X=a.memoizedState,p.state=X,ru(a,u,p,h),nu();var W=a.memoizedState;T!==ae||X!==W||ga||r!==null&&r.dependencies!==null&&Yc(r.dependencies)?(typeof A=="function"&&(Tm(a,o,A,u),W=a.memoizedState),(ne=ga||Q_(a,o,ne,u,X,W,N)||r!==null&&r.dependencies!==null&&Yc(r.dependencies))?(G||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,W,N),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,W,N)),typeof p.componentDidUpdate=="function"&&(a.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof p.componentDidUpdate!="function"||T===r.memoizedProps&&X===r.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&X===r.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=W),p.props=u,p.state=W,p.context=N,u=ne):(typeof p.componentDidUpdate!="function"||T===r.memoizedProps&&X===r.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&X===r.memoizedState||(a.flags|=1024),u=!1)}return p=u,gf(r,a),u=(a.flags&128)!==0,p||u?(p=a.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:p.render(),a.flags|=1,r!==null&&u?(a.child=ko(a,r.child,null,h),a.child=ko(a,null,o,h)):Tn(r,a,o,h),a.memoizedState=p.state,r=a.child):r=ji(r,a,h),r}function c0(r,a,o,u){return Ql(),a.flags|=256,Tn(r,a,o,u),a.child}var wm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rm(r){return{baseLanes:r,cachePool:Wv()}}function Im(r,a,o){return r=r!==null?r.childLanes&~o:0,a&&(r|=xr),r}function f0(r,a,o){var u=a.pendingProps,h=!1,p=(a.flags&128)!==0,T;if((T=p)||(T=r!==null&&r.memoizedState===null?!1:(an.current&2)!==0),T&&(h=!0,a.flags&=-129),T=(a.flags&32)!==0,a.flags&=-33,r===null){if(ht){if(h?Ea(a):Ta(),ht){var A=jt,N;if(N=A){e:{for(N=A,A=li;N.nodeType!==8;){if(!A){A=null;break e}if(N=Hr(N.nextSibling),N===null){A=null;break e}}A=N}A!==null?(a.memoizedState={dehydrated:A,treeContext:Ms!==null?{id:ki,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},N=cr(18,null,null,0),N.stateNode=A,N.return=a,a.child=N,zn=a,jt=null,N=!0):N=!1}N||ks(a)}if(A=a.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return cp(A)?a.lanes=32:a.lanes=536870912,null;Bi(a)}return A=u.children,u=u.fallback,h?(Ta(),h=a.mode,A=yf({mode:"hidden",children:A},h),u=xs(u,h,o,null),A.return=a,u.return=a,A.sibling=u,a.child=A,h=a.child,h.memoizedState=Rm(o),h.childLanes=Im(r,T,o),a.memoizedState=wm,u):(Ea(a),Cm(a,A))}if(N=r.memoizedState,N!==null&&(A=N.dehydrated,A!==null)){if(p)a.flags&256?(Ea(a),a.flags&=-257,a=Dm(r,a,o)):a.memoizedState!==null?(Ta(),a.child=r.child,a.flags|=128,a=null):(Ta(),h=u.fallback,A=a.mode,u=yf({mode:"visible",children:u.children},A),h=xs(h,A,o,null),h.flags|=2,u.return=a,h.return=a,u.sibling=h,a.child=u,ko(a,r.child,null,o),u=a.child,u.memoizedState=Rm(o),u.childLanes=Im(r,T,o),a.memoizedState=wm,a=h);else if(Ea(a),cp(A)){if(T=A.nextSibling&&A.nextSibling.dataset,T)var G=T.dgst;T=G,u=Error(i(419)),u.stack="",u.digest=T,Xl({value:u,source:null,stack:null}),a=Dm(r,a,o)}else if(dn||Yl(r,a,o,!1),T=(o&r.childLanes)!==0,dn||T){if(T=Ot,T!==null&&(u=o&-o,u=(u&42)!==0?1:Lr(u),u=(u&(T.suspendedLanes|o))!==0?0:u,u!==0&&u!==N.retryLane))throw N.retryLane=u,Ao(r,u),pr(T,r,u),n0;A.data==="$?"||Km(),a=Dm(r,a,o)}else A.data==="$?"?(a.flags|=192,a.child=r.child,a=null):(r=N.treeContext,jt=Hr(A.nextSibling),zn=a,ht=!0,Ps=null,li=!1,r!==null&&(Cr[Dr++]=ki,Cr[Dr++]=Vi,Cr[Dr++]=Ms,ki=r.id,Vi=r.overflow,Ms=a),a=Cm(a,u.children),a.flags|=4096);return a}return h?(Ta(),h=u.fallback,A=a.mode,N=r.child,G=N.sibling,u=Pi(N,{mode:"hidden",children:u.children}),u.subtreeFlags=N.subtreeFlags&65011712,G!==null?h=Pi(G,h):(h=xs(h,A,o,null),h.flags|=2),h.return=a,u.return=a,u.sibling=h,a.child=u,u=h,h=a.child,A=r.child.memoizedState,A===null?A=Rm(o):(N=A.cachePool,N!==null?(G=rn._currentValue,N=N.parent!==G?{parent:G,pool:G}:N):N=Wv(),A={baseLanes:A.baseLanes|o,cachePool:N}),h.memoizedState=A,h.childLanes=Im(r,T,o),a.memoizedState=wm,u):(Ea(a),o=r.child,r=o.sibling,o=Pi(o,{mode:"visible",children:u.children}),o.return=a,o.sibling=null,r!==null&&(T=a.deletions,T===null?(a.deletions=[r],a.flags|=16):T.push(r)),a.child=o,a.memoizedState=null,o)}function Cm(r,a){return a=yf({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function yf(r,a){return r=cr(22,r,null,a),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Dm(r,a,o){return ko(a,r.child,null,o),r=Cm(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function h0(r,a,o){r.lanes|=a;var u=r.alternate;u!==null&&(u.lanes|=a),Kd(r.return,a,o)}function Om(r,a,o,u,h){var p=r.memoizedState;p===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(p.isBackwards=a,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=h)}function d0(r,a,o){var u=a.pendingProps,h=u.revealOrder,p=u.tail;if(Tn(r,a,u.children,o),u=an.current,(u&2)!==0)u=u&1|2,a.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&h0(r,o,a);else if(r.tag===19)h0(r,o,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(fe(an,u),h){case"forwards":for(o=a.child,h=null;o!==null;)r=o.alternate,r!==null&&df(r)===null&&(h=o),o=o.sibling;o=h,o===null?(h=a.child,a.child=null):(h=o.sibling,o.sibling=null),Om(a,!1,h,o,p);break;case"backwards":for(o=null,h=a.child,a.child=null;h!==null;){if(r=h.alternate,r!==null&&df(r)===null){a.child=h;break}r=h.sibling,h.sibling=o,o=h,h=r}Om(a,!0,o,null,p);break;case"together":Om(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function ji(r,a,o){if(r!==null&&(a.dependencies=r.dependencies),Ra|=a.lanes,(o&a.childLanes)===0)if(r!==null){if(Yl(r,a,o,!1),(o&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,o=Pi(r,r.pendingProps),a.child=o,o.return=a;r.sibling!==null;)r=r.sibling,o=o.sibling=Pi(r,r.pendingProps),o.return=a;o.sibling=null}return a.child}function xm(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&Yc(r)))}function Z1(r,a,o){switch(a.tag){case 3:ot(a,a.stateNode.containerInfo),pa(a,rn,r.memoizedState.cache),Ql();break;case 27:case 5:Jn(a);break;case 4:ot(a,a.stateNode.containerInfo);break;case 10:pa(a,a.type,a.memoizedProps.value);break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(Ea(a),a.flags|=128,null):(o&a.child.childLanes)!==0?f0(r,a,o):(Ea(a),r=ji(r,a,o),r!==null?r.sibling:null);Ea(a);break;case 19:var h=(r.flags&128)!==0;if(u=(o&a.childLanes)!==0,u||(Yl(r,a,o,!1),u=(o&a.childLanes)!==0),h){if(u)return d0(r,a,o);a.flags|=128}if(h=a.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),fe(an,an.current),u)break;return null;case 22:case 23:return a.lanes=0,s0(r,a,o);case 24:pa(a,rn,r.memoizedState.cache)}return ji(r,a,o)}function m0(r,a,o){if(r!==null)if(r.memoizedProps!==a.pendingProps)dn=!0;else{if(!xm(r,o)&&(a.flags&128)===0)return dn=!1,Z1(r,a,o);dn=(r.flags&131072)!==0}else dn=!1,ht&&(a.flags&1048576)!==0&&qv(a,Xc,a.index);switch(a.lanes=0,a.tag){case 16:e:{r=a.pendingProps;var u=a.elementType,h=u._init;if(u=h(u._payload),a.type=u,typeof u=="function")Bd(u)?(r=Bs(u,r),a.tag=1,a=u0(null,a,u,r,o)):(a.tag=0,a=Am(null,a,u,r,o));else{if(u!=null){if(h=u.$$typeof,h===te){a.tag=11,a=r0(null,a,u,r,o);break e}else if(h===S){a.tag=14,a=i0(null,a,u,r,o);break e}}throw a=Se(u)||u,Error(i(306,a,""))}}return a;case 0:return Am(r,a,a.type,a.pendingProps,o);case 1:return u=a.type,h=Bs(u,a.pendingProps),u0(r,a,u,h,o);case 3:e:{if(ot(a,a.stateNode.containerInfo),r===null)throw Error(i(387));u=a.pendingProps;var p=a.memoizedState;h=p.element,em(r,a),ru(a,u,null,o);var T=a.memoizedState;if(u=T.cache,pa(a,rn,u),u!==p.cache&&Qd(a,[rn],o,!0),nu(),u=T.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:T.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=c0(r,a,u,o);break e}else if(u!==h){h=Rr(Error(i(424)),a),Xl(h),a=c0(r,a,u,o);break e}else{switch(r=a.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(jt=Hr(r.firstChild),zn=a,ht=!0,Ps=null,li=!0,o=$_(a,null,u,o),a.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ql(),u===h){a=ji(r,a,o);break e}Tn(r,a,u,o)}a=a.child}return a;case 26:return gf(r,a),r===null?(o=vE(a.type,null,a.pendingProps,null))?a.memoizedState=o:ht||(o=a.type,r=a.pendingProps,u=xf(Ce.current).createElement(o),u[P]=a,u[B]=r,Sn(u,o,r),qe(u),a.stateNode=u):a.memoizedState=vE(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return Jn(a),r===null&&ht&&(u=a.stateNode=pE(a.type,a.pendingProps,Ce.current),zn=a,li=!0,h=jt,Oa(a.type)?(fp=h,jt=Hr(u.firstChild)):jt=h),Tn(r,a,a.pendingProps.children,o),gf(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&ht&&((h=u=jt)&&(u=RI(u,a.type,a.pendingProps,li),u!==null?(a.stateNode=u,zn=a,jt=Hr(u.firstChild),li=!1,h=!0):h=!1),h||ks(a)),Jn(a),h=a.type,p=a.pendingProps,T=r!==null?r.memoizedProps:null,u=p.children,op(h,p)?u=null:T!==null&&op(h,T)&&(a.flags|=32),a.memoizedState!==null&&(h=sm(r,a,q1,null,null,o),wu._currentValue=h),gf(r,a),Tn(r,a,u,o),a.child;case 6:return r===null&&ht&&((r=o=jt)&&(o=II(o,a.pendingProps,li),o!==null?(a.stateNode=o,zn=a,jt=null,r=!0):r=!1),r||ks(a)),null;case 13:return f0(r,a,o);case 4:return ot(a,a.stateNode.containerInfo),u=a.pendingProps,r===null?a.child=ko(a,null,u,o):Tn(r,a,u,o),a.child;case 11:return r0(r,a,a.type,a.pendingProps,o);case 7:return Tn(r,a,a.pendingProps,o),a.child;case 8:return Tn(r,a,a.pendingProps.children,o),a.child;case 12:return Tn(r,a,a.pendingProps.children,o),a.child;case 10:return u=a.pendingProps,pa(a,a.type,u.value),Tn(r,a,u.children,o),a.child;case 9:return h=a.type._context,u=a.pendingProps.children,Ls(a),h=On(h),u=u(h),a.flags|=1,Tn(r,a,u,o),a.child;case 14:return i0(r,a,a.type,a.pendingProps,o);case 15:return a0(r,a,a.type,a.pendingProps,o);case 19:return d0(r,a,o);case 31:return u=a.pendingProps,o=a.mode,u={mode:u.mode,children:u.children},r===null?(o=yf(u,o),o.ref=a.ref,a.child=o,o.return=a,a=o):(o=Pi(r.child,u),o.ref=a.ref,a.child=o,o.return=a,a=o),a;case 22:return s0(r,a,o);case 24:return Ls(a),u=On(rn),r===null?(h=Wd(),h===null&&(h=Ot,p=Xd(),h.pooledCache=p,p.refCount++,p!==null&&(h.pooledCacheLanes|=o),h=p),a.memoizedState={parent:u,cache:h},Jd(a),pa(a,rn,h)):((r.lanes&o)!==0&&(em(r,a),ru(a,null,null,o),nu()),h=r.memoizedState,p=a.memoizedState,h.parent!==u?(h={parent:u,cache:u},a.memoizedState=h,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=h),pa(a,rn,u)):(u=p.cache,pa(a,rn,u),u!==h.cache&&Qd(a,[rn],o,!0))),Tn(r,a,a.pendingProps.children,o),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Hi(r){r.flags|=4}function p0(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!SE(a)){if(a=Or.current,a!==null&&((it&4194048)===it?ui!==null:(it&62914560)!==it&&(it&536870912)===0||a!==ui))throw eu=Zd,Zv;r.flags|=8192}}function vf(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?fa():536870912,r.lanes|=a,zo|=a)}function cu(r,a){if(!ht)switch(r.tailMode){case"hidden":a=r.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function Lt(r){var a=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(a)for(var h=r.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&65011712,u|=h.flags&65011712,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=u,r.childLanes=o,a}function J1(r,a,o){var u=a.pendingProps;switch(qd(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(a),null;case 1:return Lt(a),null;case 3:return o=a.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Ui(rn),Ln(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Kl(a)?Hi(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Kv())),Lt(a),null;case 26:return o=a.memoizedState,r===null?(Hi(a),o!==null?(Lt(a),p0(a,o)):(Lt(a),a.flags&=-16777217)):o?o!==r.memoizedState?(Hi(a),Lt(a),p0(a,o)):(Lt(a),a.flags&=-16777217):(r.memoizedProps!==u&&Hi(a),Lt(a),a.flags&=-16777217),null;case 27:er(a),o=Ce.current;var h=a.type;if(r!==null&&a.stateNode!=null)r.memoizedProps!==u&&Hi(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return Lt(a),null}r=be.current,Kl(a)?Gv(a):(r=pE(h,u,o),a.stateNode=r,Hi(a))}return Lt(a),null;case 5:if(er(a),o=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==u&&Hi(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return Lt(a),null}if(r=be.current,Kl(a))Gv(a);else{switch(h=xf(Ce.current),r){case 1:r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=h.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?h.createElement("select",{is:u.is}):h.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?h.createElement(o,{is:u.is}):h.createElement(o)}}r[P]=a,r[B]=u;e:for(h=a.child;h!==null;){if(h.tag===5||h.tag===6)r.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===a)break e;for(;h.sibling===null;){if(h.return===null||h.return===a)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}a.stateNode=r;e:switch(Sn(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Hi(a)}}return Lt(a),a.flags&=-16777217,null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==u&&Hi(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(i(166));if(r=Ce.current,Kl(a)){if(r=a.stateNode,o=a.memoizedProps,u=null,h=zn,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}r[P]=a,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||lE(r.nodeValue,o)),r||ks(a)}else r=xf(r).createTextNode(u),r[P]=a,a.stateNode=r}return Lt(a),null;case 13:if(u=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(h=Kl(a),u!==null&&u.dehydrated!==null){if(r===null){if(!h)throw Error(i(318));if(h=a.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[P]=a}else Ql(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Lt(a),h=!1}else h=Kv(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=h),h=!0;if(!h)return a.flags&256?(Bi(a),a):(Bi(a),null)}if(Bi(a),(a.flags&128)!==0)return a.lanes=o,a;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=a.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool);var p=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==h&&(u.flags|=2048)}return o!==r&&o&&(a.child.flags|=8192),vf(a,a.updateQueue),Lt(a),null;case 4:return Ln(),r===null&&np(a.stateNode.containerInfo),Lt(a),null;case 10:return Ui(a.type),Lt(a),null;case 19:if(ce(an),h=a.memoizedState,h===null)return Lt(a),null;if(u=(a.flags&128)!==0,p=h.rendering,p===null)if(u)cu(h,!1);else{if(Ht!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(p=df(r),p!==null){for(a.flags|=128,cu(h,!1),r=p.updateQueue,a.updateQueue=r,vf(a,r),a.subtreeFlags=0,r=o,o=a.child;o!==null;)Fv(o,r),o=o.sibling;return fe(an,an.current&1|2),a.child}r=r.sibling}h.tail!==null&&jn()>Tf&&(a.flags|=128,u=!0,cu(h,!1),a.lanes=4194304)}else{if(!u)if(r=df(p),r!==null){if(a.flags|=128,u=!0,r=r.updateQueue,a.updateQueue=r,vf(a,r),cu(h,!0),h.tail===null&&h.tailMode==="hidden"&&!p.alternate&&!ht)return Lt(a),null}else 2*jn()-h.renderingStartTime>Tf&&o!==536870912&&(a.flags|=128,u=!0,cu(h,!1),a.lanes=4194304);h.isBackwards?(p.sibling=a.child,a.child=p):(r=h.last,r!==null?r.sibling=p:a.child=p,h.last=p)}return h.tail!==null?(a=h.tail,h.rendering=a,h.tail=a.sibling,h.renderingStartTime=jn(),a.sibling=null,r=an.current,fe(an,u?r&1|2:r&1),a):(Lt(a),null);case 22:case 23:return Bi(a),im(),u=a.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(o&536870912)!==0&&(a.flags&128)===0&&(Lt(a),a.subtreeFlags&6&&(a.flags|=8192)):Lt(a),o=a.updateQueue,o!==null&&vf(a,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==o&&(a.flags|=2048),r!==null&&ce(Us),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),Ui(rn),Lt(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function eI(r,a){switch(qd(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return Ui(rn),Ln(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return er(a),null;case 13:if(Bi(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Ql()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return ce(an),null;case 4:return Ln(),null;case 10:return Ui(a.type),null;case 22:case 23:return Bi(a),im(),r!==null&&ce(Us),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return Ui(rn),null;case 25:return null;default:return null}}function g0(r,a){switch(qd(a),a.tag){case 3:Ui(rn),Ln();break;case 26:case 27:case 5:er(a);break;case 4:Ln();break;case 13:Bi(a);break;case 19:ce(an);break;case 10:Ui(a.type);break;case 22:case 23:Bi(a),im(),r!==null&&ce(Us);break;case 24:Ui(rn)}}function fu(r,a){try{var o=a.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var h=u.next;o=h;do{if((o.tag&r)===r){u=void 0;var p=o.create,T=o.inst;u=p(),T.destroy=u}o=o.next}while(o!==h)}}catch(A){At(a,a.return,A)}}function ba(r,a,o){try{var u=a.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var p=h.next;u=p;do{if((u.tag&r)===r){var T=u.inst,A=T.destroy;if(A!==void 0){T.destroy=void 0,h=a;var N=o,G=A;try{G()}catch(ne){At(h,N,ne)}}}u=u.next}while(u!==p)}}catch(ne){At(a,a.return,ne)}}function y0(r){var a=r.updateQueue;if(a!==null){var o=r.stateNode;try{i_(a,o)}catch(u){At(r,r.return,u)}}}function v0(r,a,o){o.props=Bs(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){At(r,a,u)}}function hu(r,a){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof o=="function"?r.refCleanup=o(u):o.current=u}}catch(h){At(r,a,h)}}function ci(r,a){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(h){At(r,a,h)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){At(r,a,h)}else o.current=null}function _0(r){var a=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(h){At(r,r.return,h)}}function Mm(r,a,o){try{var u=r.stateNode;TI(u,r.type,o,a),u[B]=a}catch(h){At(r,r.return,h)}}function E0(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Oa(r.type)||r.tag===4}function Nm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||E0(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Oa(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Pm(r,a,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,a?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,a):(a=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,a.appendChild(r),o=o._reactRootContainer,o!=null||a.onclick!==null||(a.onclick=Of));else if(u!==4&&(u===27&&Oa(r.type)&&(o=r.stateNode,a=null),r=r.child,r!==null))for(Pm(r,a,o),r=r.sibling;r!==null;)Pm(r,a,o),r=r.sibling}function _f(r,a,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,a?o.insertBefore(r,a):o.appendChild(r);else if(u!==4&&(u===27&&Oa(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(_f(r,a,o),r=r.sibling;r!==null;)_f(r,a,o),r=r.sibling}function T0(r){var a=r.stateNode,o=r.memoizedProps;try{for(var u=r.type,h=a.attributes;h.length;)a.removeAttributeNode(h[0]);Sn(a,u,o),a[P]=r,a[B]=o}catch(p){At(r,r.return,p)}}var Fi=!1,$t=!1,km=!1,b0=typeof WeakSet=="function"?WeakSet:Set,mn=null;function tI(r,a){if(r=r.containerInfo,ap=Lf,r=Nv(r),Nd(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var T=0,A=-1,N=-1,G=0,ne=0,ae=r,X=null;t:for(;;){for(var W;ae!==o||h!==0&&ae.nodeType!==3||(A=T+h),ae!==p||u!==0&&ae.nodeType!==3||(N=T+u),ae.nodeType===3&&(T+=ae.nodeValue.length),(W=ae.firstChild)!==null;)X=ae,ae=W;for(;;){if(ae===r)break t;if(X===o&&++G===h&&(A=T),X===p&&++ne===u&&(N=T),(W=ae.nextSibling)!==null)break;ae=X,X=ae.parentNode}ae=W}o=A===-1||N===-1?null:{start:A,end:N}}else o=null}o=o||{start:0,end:0}}else o=null;for(sp={focusedElem:r,selectionRange:o},Lf=!1,mn=a;mn!==null;)if(a=mn,r=a.child,(a.subtreeFlags&1024)!==0&&r!==null)r.return=a,mn=r;else for(;mn!==null;){switch(a=mn,p=a.alternate,r=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&p!==null){r=void 0,o=a,h=p.memoizedProps,p=p.memoizedState,u=o.stateNode;try{var ze=Bs(o.type,h,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(ze,p),u.__reactInternalSnapshotBeforeUpdate=r}catch(Pe){At(o,o.return,Pe)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,o=r.nodeType,o===9)up(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":up(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,mn=r;break}mn=a.return}}function S0(r,a,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Sa(r,o),u&4&&fu(5,o);break;case 1:if(Sa(r,o),u&4)if(r=o.stateNode,a===null)try{r.componentDidMount()}catch(T){At(o,o.return,T)}else{var h=Bs(o.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(h,a,r.__reactInternalSnapshotBeforeUpdate)}catch(T){At(o,o.return,T)}}u&64&&y0(o),u&512&&hu(o,o.return);break;case 3:if(Sa(r,o),u&64&&(r=o.updateQueue,r!==null)){if(a=null,o.child!==null)switch(o.child.tag){case 27:case 5:a=o.child.stateNode;break;case 1:a=o.child.stateNode}try{i_(r,a)}catch(T){At(o,o.return,T)}}break;case 27:a===null&&u&4&&T0(o);case 26:case 5:Sa(r,o),a===null&&u&4&&_0(o),u&512&&hu(o,o.return);break;case 12:Sa(r,o);break;case 13:Sa(r,o),u&4&&R0(r,o),u&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=cI.bind(null,o),CI(r,o))));break;case 22:if(u=o.memoizedState!==null||Fi,!u){a=a!==null&&a.memoizedState!==null||$t,h=Fi;var p=$t;Fi=u,($t=a)&&!p?Aa(r,o,(o.subtreeFlags&8772)!==0):Sa(r,o),Fi=h,$t=p}break;case 30:break;default:Sa(r,o)}}function A0(r){var a=r.alternate;a!==null&&(r.alternate=null,A0(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&ve(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Pt=null,$n=!1;function qi(r,a,o){for(o=o.child;o!==null;)w0(r,a,o),o=o.sibling}function w0(r,a,o){if(lt&&typeof lt.onCommitFiberUnmount=="function")try{lt.onCommitFiberUnmount(Mt,o)}catch{}switch(o.tag){case 26:$t||ci(o,a),qi(r,a,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:$t||ci(o,a);var u=Pt,h=$n;Oa(o.type)&&(Pt=o.stateNode,$n=!1),qi(r,a,o),Tu(o.stateNode),Pt=u,$n=h;break;case 5:$t||ci(o,a);case 6:if(u=Pt,h=$n,Pt=null,qi(r,a,o),Pt=u,$n=h,Pt!==null)if($n)try{(Pt.nodeType===9?Pt.body:Pt.nodeName==="HTML"?Pt.ownerDocument.body:Pt).removeChild(o.stateNode)}catch(p){At(o,a,p)}else try{Pt.removeChild(o.stateNode)}catch(p){At(o,a,p)}break;case 18:Pt!==null&&($n?(r=Pt,dE(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),Du(r)):dE(Pt,o.stateNode));break;case 4:u=Pt,h=$n,Pt=o.stateNode.containerInfo,$n=!0,qi(r,a,o),Pt=u,$n=h;break;case 0:case 11:case 14:case 15:$t||ba(2,o,a),$t||ba(4,o,a),qi(r,a,o);break;case 1:$t||(ci(o,a),u=o.stateNode,typeof u.componentWillUnmount=="function"&&v0(o,a,u)),qi(r,a,o);break;case 21:qi(r,a,o);break;case 22:$t=(u=$t)||o.memoizedState!==null,qi(r,a,o),$t=u;break;default:qi(r,a,o)}}function R0(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Du(r)}catch(o){At(a,a.return,o)}}function nI(r){switch(r.tag){case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new b0),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new b0),a;default:throw Error(i(435,r.tag))}}function Vm(r,a){var o=nI(r);a.forEach(function(u){var h=fI.bind(null,r,u);o.has(u)||(o.add(u),u.then(h,h))})}function fr(r,a){var o=a.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u],p=r,T=a,A=T;e:for(;A!==null;){switch(A.tag){case 27:if(Oa(A.type)){Pt=A.stateNode,$n=!1;break e}break;case 5:Pt=A.stateNode,$n=!1;break e;case 3:case 4:Pt=A.stateNode.containerInfo,$n=!0;break e}A=A.return}if(Pt===null)throw Error(i(160));w0(p,T,h),Pt=null,$n=!1,p=h.alternate,p!==null&&(p.return=null),h.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)I0(a,r),a=a.sibling}var jr=null;function I0(r,a){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:fr(a,r),hr(r),u&4&&(ba(3,r,r.return),fu(3,r),ba(5,r,r.return));break;case 1:fr(a,r),hr(r),u&512&&($t||o===null||ci(o,o.return)),u&64&&Fi&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var h=jr;if(fr(a,r),hr(r),u&512&&($t||o===null||ci(o,o.return)),u&4){var p=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":p=h.getElementsByTagName("title")[0],(!p||p[ye]||p[P]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=h.createElement(u),h.head.insertBefore(p,h.querySelector("head > title"))),Sn(p,u,o),p[P]=r,qe(p),u=p;break e;case"link":var T=TE("link","href",h).get(u+(o.href||""));if(T){for(var A=0;A<T.length;A++)if(p=T[A],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(A,1);break t}}p=h.createElement(u),Sn(p,u,o),h.head.appendChild(p);break;case"meta":if(T=TE("meta","content",h).get(u+(o.content||""))){for(A=0;A<T.length;A++)if(p=T[A],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(A,1);break t}}p=h.createElement(u),Sn(p,u,o),h.head.appendChild(p);break;default:throw Error(i(468,u))}p[P]=r,qe(p),u=p}r.stateNode=u}else bE(h,r.type,r.stateNode);else r.stateNode=EE(h,u,r.memoizedProps);else p!==u?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,u===null?bE(h,r.type,r.stateNode):EE(h,u,r.memoizedProps)):u===null&&r.stateNode!==null&&Mm(r,r.memoizedProps,o.memoizedProps)}break;case 27:fr(a,r),hr(r),u&512&&($t||o===null||ci(o,o.return)),o!==null&&u&4&&Mm(r,r.memoizedProps,o.memoizedProps);break;case 5:if(fr(a,r),hr(r),u&512&&($t||o===null||ci(o,o.return)),r.flags&32){h=r.stateNode;try{br(h,"")}catch(W){At(r,r.return,W)}}u&4&&r.stateNode!=null&&(h=r.memoizedProps,Mm(r,h,o!==null?o.memoizedProps:h)),u&1024&&(km=!0);break;case 6:if(fr(a,r),hr(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(W){At(r,r.return,W)}}break;case 3:if(Pf=null,h=jr,jr=Mf(a.containerInfo),fr(a,r),jr=h,hr(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Du(a.containerInfo)}catch(W){At(r,r.return,W)}km&&(km=!1,C0(r));break;case 4:u=jr,jr=Mf(r.stateNode.containerInfo),fr(a,r),hr(r),jr=u;break;case 12:fr(a,r),hr(r);break;case 13:fr(a,r),hr(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Hm=jn()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Vm(r,u)));break;case 22:h=r.memoizedState!==null;var N=o!==null&&o.memoizedState!==null,G=Fi,ne=$t;if(Fi=G||h,$t=ne||N,fr(a,r),$t=ne,Fi=G,hr(r),u&8192)e:for(a=r.stateNode,a._visibility=h?a._visibility&-2:a._visibility|1,h&&(o===null||N||Fi||$t||js(r)),o=null,a=r;;){if(a.tag===5||a.tag===26){if(o===null){N=o=a;try{if(p=N.stateNode,h)T=p.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{A=N.stateNode;var ae=N.memoizedProps.style,X=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;A.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(W){At(N,N.return,W)}}}else if(a.tag===6){if(o===null){N=a;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(W){At(N,N.return,W)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;o===a&&(o=null),a=a.return}o===a&&(o=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Vm(r,o))));break;case 19:fr(a,r),hr(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Vm(r,u)));break;case 30:break;case 21:break;default:fr(a,r),hr(r)}}function hr(r){var a=r.flags;if(a&2){try{for(var o,u=r.return;u!==null;){if(E0(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var h=o.stateNode,p=Nm(r);_f(r,p,h);break;case 5:var T=o.stateNode;o.flags&32&&(br(T,""),o.flags&=-33);var A=Nm(r);_f(r,A,T);break;case 3:case 4:var N=o.stateNode.containerInfo,G=Nm(r);Pm(r,G,N);break;default:throw Error(i(161))}}catch(ne){At(r,r.return,ne)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function C0(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;C0(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function Sa(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)S0(r,a.alternate,a),a=a.sibling}function js(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:ba(4,a,a.return),js(a);break;case 1:ci(a,a.return);var o=a.stateNode;typeof o.componentWillUnmount=="function"&&v0(a,a.return,o),js(a);break;case 27:Tu(a.stateNode);case 26:case 5:ci(a,a.return),js(a);break;case 22:a.memoizedState===null&&js(a);break;case 30:js(a);break;default:js(a)}r=r.sibling}}function Aa(r,a,o){for(o=o&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,h=r,p=a,T=p.flags;switch(p.tag){case 0:case 11:case 15:Aa(h,p,o),fu(4,p);break;case 1:if(Aa(h,p,o),u=p,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(G){At(u,u.return,G)}if(u=p,h=u.updateQueue,h!==null){var A=u.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)r_(N[h],A)}catch(G){At(u,u.return,G)}}o&&T&64&&y0(p),hu(p,p.return);break;case 27:T0(p);case 26:case 5:Aa(h,p,o),o&&u===null&&T&4&&_0(p),hu(p,p.return);break;case 12:Aa(h,p,o);break;case 13:Aa(h,p,o),o&&T&4&&R0(h,p);break;case 22:p.memoizedState===null&&Aa(h,p,o),hu(p,p.return);break;case 30:break;default:Aa(h,p,o)}a=a.sibling}}function Lm(r,a){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Wl(o))}function Um(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Wl(r))}function fi(r,a,o,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)D0(r,a,o,u),a=a.sibling}function D0(r,a,o,u){var h=a.flags;switch(a.tag){case 0:case 11:case 15:fi(r,a,o,u),h&2048&&fu(9,a);break;case 1:fi(r,a,o,u);break;case 3:fi(r,a,o,u),h&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Wl(r)));break;case 12:if(h&2048){fi(r,a,o,u),r=a.stateNode;try{var p=a.memoizedProps,T=p.id,A=p.onPostCommit;typeof A=="function"&&A(T,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(N){At(a,a.return,N)}}else fi(r,a,o,u);break;case 13:fi(r,a,o,u);break;case 23:break;case 22:p=a.stateNode,T=a.alternate,a.memoizedState!==null?p._visibility&2?fi(r,a,o,u):du(r,a):p._visibility&2?fi(r,a,o,u):(p._visibility|=2,Vo(r,a,o,u,(a.subtreeFlags&10256)!==0)),h&2048&&Lm(T,a);break;case 24:fi(r,a,o,u),h&2048&&Um(a.alternate,a);break;default:fi(r,a,o,u)}}function Vo(r,a,o,u,h){for(h=h&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var p=r,T=a,A=o,N=u,G=T.flags;switch(T.tag){case 0:case 11:case 15:Vo(p,T,A,N,h),fu(8,T);break;case 23:break;case 22:var ne=T.stateNode;T.memoizedState!==null?ne._visibility&2?Vo(p,T,A,N,h):du(p,T):(ne._visibility|=2,Vo(p,T,A,N,h)),h&&G&2048&&Lm(T.alternate,T);break;case 24:Vo(p,T,A,N,h),h&&G&2048&&Um(T.alternate,T);break;default:Vo(p,T,A,N,h)}a=a.sibling}}function du(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var o=r,u=a,h=u.flags;switch(u.tag){case 22:du(o,u),h&2048&&Lm(u.alternate,u);break;case 24:du(o,u),h&2048&&Um(u.alternate,u);break;default:du(o,u)}a=a.sibling}}var mu=8192;function Lo(r){if(r.subtreeFlags&mu)for(r=r.child;r!==null;)O0(r),r=r.sibling}function O0(r){switch(r.tag){case 26:Lo(r),r.flags&mu&&r.memoizedState!==null&&jI(jr,r.memoizedState,r.memoizedProps);break;case 5:Lo(r);break;case 3:case 4:var a=jr;jr=Mf(r.stateNode.containerInfo),Lo(r),jr=a;break;case 22:r.memoizedState===null&&(a=r.alternate,a!==null&&a.memoizedState!==null?(a=mu,mu=16777216,Lo(r),mu=a):Lo(r));break;default:Lo(r)}}function x0(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function pu(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var u=a[o];mn=u,N0(u,r)}x0(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)M0(r),r=r.sibling}function M0(r){switch(r.tag){case 0:case 11:case 15:pu(r),r.flags&2048&&ba(9,r,r.return);break;case 3:pu(r);break;case 12:pu(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,Ef(r)):pu(r);break;default:pu(r)}}function Ef(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var u=a[o];mn=u,N0(u,r)}x0(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:ba(8,a,a.return),Ef(a);break;case 22:o=a.stateNode,o._visibility&2&&(o._visibility&=-3,Ef(a));break;default:Ef(a)}r=r.sibling}}function N0(r,a){for(;mn!==null;){var o=mn;switch(o.tag){case 0:case 11:case 15:ba(8,o,a);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Wl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,mn=u;else e:for(o=r;mn!==null;){u=mn;var h=u.sibling,p=u.return;if(A0(u),u===o){mn=null;break e}if(h!==null){h.return=p,mn=h;break e}mn=p}}}var rI={getCacheForType:function(r){var a=On(rn),o=a.data.get(r);return o===void 0&&(o=r(),a.data.set(r,o)),o}},iI=typeof WeakMap=="function"?WeakMap:Map,gt=0,Ot=null,Ye=null,it=0,yt=0,dr=null,wa=!1,Uo=!1,zm=!1,Gi=0,Ht=0,Ra=0,Hs=0,Bm=0,xr=0,zo=0,gu=null,Kn=null,jm=!1,Hm=0,Tf=1/0,bf=null,Ia=null,bn=0,Ca=null,Bo=null,jo=0,Fm=0,qm=null,P0=null,yu=0,Gm=null;function mr(){if((gt&2)!==0&&it!==0)return it&-it;if(J.T!==null){var r=Co;return r!==0?r:Zm()}return ar()}function k0(){xr===0&&(xr=(it&536870912)===0||ht?Jr():536870912);var r=Or.current;return r!==null&&(r.flags|=32),xr}function pr(r,a,o){(r===Ot&&(yt===2||yt===9)||r.cancelPendingCommit!==null)&&(Ho(r,0),Da(r,it,xr,!1)),rr(r,o),((gt&2)===0||r!==Ot)&&(r===Ot&&((gt&2)===0&&(Hs|=o),Ht===4&&Da(r,it,xr,!1)),hi(r))}function V0(r,a,o){if((gt&6)!==0)throw Error(i(327));var u=!o&&(a&124)===0&&(a&r.expiredLanes)===0||Ri(r,a),h=u?oI(r,a):Qm(r,a,!0),p=u;do{if(h===0){Uo&&!u&&Da(r,a,0,!1);break}else{if(o=r.current.alternate,p&&!aI(o)){h=Qm(r,a,!1),p=!1;continue}if(h===2){if(p=a,r.errorRecoveryDisabledLanes&p)var T=0;else T=r.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){a=T;e:{var A=r;h=gu;var N=A.current.memoizedState.isDehydrated;if(N&&(Ho(A,T).flags|=256),T=Qm(A,T,!1),T!==2){if(zm&&!N){A.errorRecoveryDisabledLanes|=p,Hs|=p,h=4;break e}p=Kn,Kn=h,p!==null&&(Kn===null?Kn=p:Kn.push.apply(Kn,p))}h=T}if(p=!1,h!==2)continue}}if(h===1){Ho(r,0),Da(r,a,0,!0);break}e:{switch(u=r,p=h,p){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:Da(u,a,xr,!wa);break e;case 2:Kn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(h=Hm+300-jn(),10<h)){if(Da(u,a,xr,!wa),wi(u,0,!0)!==0)break e;u.timeoutHandle=fE(L0.bind(null,u,o,Kn,bf,jm,a,xr,Hs,zo,wa,p,2,-0,0),h);break e}L0(u,o,Kn,bf,jm,a,xr,Hs,zo,wa,p,0,-0,0)}}break}while(!0);hi(r)}function L0(r,a,o,u,h,p,T,A,N,G,ne,ae,X,W){if(r.timeoutHandle=-1,ae=a.subtreeFlags,(ae&8192||(ae&16785408)===16785408)&&(Au={stylesheets:null,count:0,unsuspend:BI},O0(a),ae=HI(),ae!==null)){r.cancelPendingCommit=ae(q0.bind(null,r,a,p,o,u,h,T,A,N,ne,1,X,W)),Da(r,p,T,!G);return}q0(r,a,p,o,u,h,T,A,N)}function aI(r){for(var a=r;;){var o=a.tag;if((o===0||o===11||o===15)&&a.flags&16384&&(o=a.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var h=o[u],p=h.getSnapshot;h=h.value;try{if(!ur(p(),h))return!1}catch{return!1}}if(o=a.child,a.subtreeFlags&16384&&o!==null)o.return=a,a=o;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Da(r,a,o,u){a&=~Bm,a&=~Hs,r.suspendedLanes|=a,r.pingedLanes&=~a,u&&(r.warmLanes|=a),u=r.expirationTimes;for(var h=a;0<h;){var p=31-It(h),T=1<<p;u[p]=-1,h&=~T}o!==0&&ir(r,o,a)}function Sf(){return(gt&6)===0?(vu(0),!1):!0}function $m(){if(Ye!==null){if(yt===0)var r=Ye.return;else r=Ye,Li=Vs=null,um(r),Po=null,lu=0,r=Ye;for(;r!==null;)g0(r.alternate,r),r=r.return;Ye=null}}function Ho(r,a){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,SI(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),$m(),Ot=r,Ye=o=Pi(r.current,null),it=a,yt=0,dr=null,wa=!1,Uo=Ri(r,a),zm=!1,zo=xr=Bm=Hs=Ra=Ht=0,Kn=gu=null,jm=!1,(a&8)!==0&&(a|=a&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=a;0<u;){var h=31-It(u),p=1<<h;a|=r[h],u&=~p}return Gi=a,qc(),o}function U0(r,a){Ge=null,J.H=cf,a===Jl||a===Jc?(a=t_(),yt=3):a===Zv?(a=t_(),yt=4):yt=a===n0?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,dr=a,Ye===null&&(Ht=1,pf(r,Rr(a,r.current)))}function z0(){var r=J.H;return J.H=cf,r===null?cf:r}function B0(){var r=J.A;return J.A=rI,r}function Km(){Ht=4,wa||(it&4194048)!==it&&Or.current!==null||(Uo=!0),(Ra&134217727)===0&&(Hs&134217727)===0||Ot===null||Da(Ot,it,xr,!1)}function Qm(r,a,o){var u=gt;gt|=2;var h=z0(),p=B0();(Ot!==r||it!==a)&&(bf=null,Ho(r,a)),a=!1;var T=Ht;e:do try{if(yt!==0&&Ye!==null){var A=Ye,N=dr;switch(yt){case 8:$m(),T=6;break e;case 3:case 2:case 9:case 6:Or.current===null&&(a=!0);var G=yt;if(yt=0,dr=null,Fo(r,A,N,G),o&&Uo){T=0;break e}break;default:G=yt,yt=0,dr=null,Fo(r,A,N,G)}}sI(),T=Ht;break}catch(ne){U0(r,ne)}while(!0);return a&&r.shellSuspendCounter++,Li=Vs=null,gt=u,J.H=h,J.A=p,Ye===null&&(Ot=null,it=0,qc()),T}function sI(){for(;Ye!==null;)j0(Ye)}function oI(r,a){var o=gt;gt|=2;var u=z0(),h=B0();Ot!==r||it!==a?(bf=null,Tf=jn()+500,Ho(r,a)):Uo=Ri(r,a);e:do try{if(yt!==0&&Ye!==null){a=Ye;var p=dr;t:switch(yt){case 1:yt=0,dr=null,Fo(r,a,p,1);break;case 2:case 9:if(Jv(p)){yt=0,dr=null,H0(a);break}a=function(){yt!==2&&yt!==9||Ot!==r||(yt=7),hi(r)},p.then(a,a);break e;case 3:yt=7;break e;case 4:yt=5;break e;case 7:Jv(p)?(yt=0,dr=null,H0(a)):(yt=0,dr=null,Fo(r,a,p,7));break;case 5:var T=null;switch(Ye.tag){case 26:T=Ye.memoizedState;case 5:case 27:var A=Ye;if(!T||SE(T)){yt=0,dr=null;var N=A.sibling;if(N!==null)Ye=N;else{var G=A.return;G!==null?(Ye=G,Af(G)):Ye=null}break t}}yt=0,dr=null,Fo(r,a,p,5);break;case 6:yt=0,dr=null,Fo(r,a,p,6);break;case 8:$m(),Ht=6;break e;default:throw Error(i(462))}}lI();break}catch(ne){U0(r,ne)}while(!0);return Li=Vs=null,J.H=u,J.A=h,gt=o,Ye!==null?0:(Ot=null,it=0,qc(),Ht)}function lI(){for(;Ye!==null&&!ds();)j0(Ye)}function j0(r){var a=m0(r.alternate,r,Gi);r.memoizedProps=r.pendingProps,a===null?Af(r):Ye=a}function H0(r){var a=r,o=a.alternate;switch(a.tag){case 15:case 0:a=l0(o,a,a.pendingProps,a.type,void 0,it);break;case 11:a=l0(o,a,a.pendingProps,a.type.render,a.ref,it);break;case 5:um(a);default:g0(o,a),a=Ye=Fv(a,Gi),a=m0(o,a,Gi)}r.memoizedProps=r.pendingProps,a===null?Af(r):Ye=a}function Fo(r,a,o,u){Li=Vs=null,um(a),Po=null,lu=0;var h=a.return;try{if(W1(r,h,a,o,it)){Ht=1,pf(r,Rr(o,r.current)),Ye=null;return}}catch(p){if(h!==null)throw Ye=h,p;Ht=1,pf(r,Rr(o,r.current)),Ye=null;return}a.flags&32768?(ht||u===1?r=!0:Uo||(it&536870912)!==0?r=!1:(wa=r=!0,(u===2||u===9||u===3||u===6)&&(u=Or.current,u!==null&&u.tag===13&&(u.flags|=16384))),F0(a,r)):Af(a)}function Af(r){var a=r;do{if((a.flags&32768)!==0){F0(a,wa);return}r=a.return;var o=J1(a.alternate,a,Gi);if(o!==null){Ye=o;return}if(a=a.sibling,a!==null){Ye=a;return}Ye=a=r}while(a!==null);Ht===0&&(Ht=5)}function F0(r,a){do{var o=eI(r.alternate,r);if(o!==null){o.flags&=32767,Ye=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!a&&(r=r.sibling,r!==null)){Ye=r;return}Ye=r=o}while(r!==null);Ht=6,Ye=null}function q0(r,a,o,u,h,p,T,A,N){r.cancelPendingCommit=null;do wf();while(bn!==0);if((gt&6)!==0)throw Error(i(327));if(a!==null){if(a===r.current)throw Error(i(177));if(p=a.lanes|a.childLanes,p|=Ud,ps(r,o,p,T,A,N),r===Ot&&(Ye=Ot=null,it=0),Bo=a,Ca=r,jo=o,Fm=p,qm=h,P0=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,hI(Si,function(){return X0(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=J.T,J.T=null,h=ue.p,ue.p=2,T=gt,gt|=4;try{tI(r,a,o)}finally{gt=T,ue.p=h,J.T=u}}bn=1,G0(),$0(),K0()}}function G0(){if(bn===1){bn=0;var r=Ca,a=Bo,o=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||o){o=J.T,J.T=null;var u=ue.p;ue.p=2;var h=gt;gt|=4;try{I0(a,r);var p=sp,T=Nv(r.containerInfo),A=p.focusedElem,N=p.selectionRange;if(T!==A&&A&&A.ownerDocument&&Mv(A.ownerDocument.documentElement,A)){if(N!==null&&Nd(A)){var G=N.start,ne=N.end;if(ne===void 0&&(ne=G),"selectionStart"in A)A.selectionStart=G,A.selectionEnd=Math.min(ne,A.value.length);else{var ae=A.ownerDocument||document,X=ae&&ae.defaultView||window;if(X.getSelection){var W=X.getSelection(),ze=A.textContent.length,Pe=Math.min(N.start,ze),bt=N.end===void 0?Pe:Math.min(N.end,ze);!W.extend&&Pe>bt&&(T=bt,bt=Pe,Pe=T);var H=xv(A,Pe),z=xv(A,bt);if(H&&z&&(W.rangeCount!==1||W.anchorNode!==H.node||W.anchorOffset!==H.offset||W.focusNode!==z.node||W.focusOffset!==z.offset)){var q=ae.createRange();q.setStart(H.node,H.offset),W.removeAllRanges(),Pe>bt?(W.addRange(q),W.extend(z.node,z.offset)):(q.setEnd(z.node,z.offset),W.addRange(q))}}}}for(ae=[],W=A;W=W.parentNode;)W.nodeType===1&&ae.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ae.length;A++){var ie=ae[A];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}Lf=!!ap,sp=ap=null}finally{gt=h,ue.p=u,J.T=o}}r.current=a,bn=2}}function $0(){if(bn===2){bn=0;var r=Ca,a=Bo,o=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||o){o=J.T,J.T=null;var u=ue.p;ue.p=2;var h=gt;gt|=4;try{S0(r,a.alternate,a)}finally{gt=h,ue.p=u,J.T=o}}bn=3}}function K0(){if(bn===4||bn===3){bn=0,_r();var r=Ca,a=Bo,o=jo,u=P0;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?bn=5:(bn=0,Bo=Ca=null,Q0(r,r.pendingLanes));var h=r.pendingLanes;if(h===0&&(Ia=null),Ur(o),a=a.stateNode,lt&&typeof lt.onCommitFiberRoot=="function")try{lt.onCommitFiberRoot(Mt,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=J.T,h=ue.p,ue.p=2,J.T=null;try{for(var p=r.onRecoverableError,T=0;T<u.length;T++){var A=u[T];p(A.value,{componentStack:A.stack})}}finally{J.T=a,ue.p=h}}(jo&3)!==0&&wf(),hi(r),h=r.pendingLanes,(o&4194090)!==0&&(h&42)!==0?r===Gm?yu++:(yu=0,Gm=r):yu=0,vu(0)}}function Q0(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,Wl(a)))}function wf(r){return G0(),$0(),K0(),X0()}function X0(){if(bn!==5)return!1;var r=Ca,a=Fm;Fm=0;var o=Ur(jo),u=J.T,h=ue.p;try{ue.p=32>o?32:o,J.T=null,o=qm,qm=null;var p=Ca,T=jo;if(bn=0,Bo=Ca=null,jo=0,(gt&6)!==0)throw Error(i(331));var A=gt;if(gt|=4,M0(p.current),D0(p,p.current,T,o),gt=A,vu(0,!1),lt&&typeof lt.onPostCommitFiberRoot=="function")try{lt.onPostCommitFiberRoot(Mt,p)}catch{}return!0}finally{ue.p=h,J.T=u,Q0(r,a)}}function Y0(r,a,o){a=Rr(o,a),a=Sm(r.stateNode,a,2),r=va(r,a,2),r!==null&&(rr(r,2),hi(r))}function At(r,a,o){if(r.tag===3)Y0(r,r,o);else for(;a!==null;){if(a.tag===3){Y0(a,r,o);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ia===null||!Ia.has(u))){r=Rr(o,r),o=e0(2),u=va(a,o,2),u!==null&&(t0(o,u,a,r),rr(u,2),hi(u));break}}a=a.return}}function Xm(r,a,o){var u=r.pingCache;if(u===null){u=r.pingCache=new iI;var h=new Set;u.set(a,h)}else h=u.get(a),h===void 0&&(h=new Set,u.set(a,h));h.has(o)||(zm=!0,h.add(o),r=uI.bind(null,r,a,o),a.then(r,r))}function uI(r,a,o){var u=r.pingCache;u!==null&&u.delete(a),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,Ot===r&&(it&o)===o&&(Ht===4||Ht===3&&(it&62914560)===it&&300>jn()-Hm?(gt&2)===0&&Ho(r,0):Bm|=o,zo===it&&(zo=0)),hi(r)}function W0(r,a){a===0&&(a=fa()),r=Ao(r,a),r!==null&&(rr(r,a),hi(r))}function cI(r){var a=r.memoizedState,o=0;a!==null&&(o=a.retryLane),W0(r,o)}function fI(r,a){var o=0;switch(r.tag){case 13:var u=r.stateNode,h=r.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(a),W0(r,o)}function hI(r,a){return _n(r,a)}var Rf=null,qo=null,Ym=!1,If=!1,Wm=!1,Fs=0;function hi(r){r!==qo&&r.next===null&&(qo===null?Rf=qo=r:qo=qo.next=r),If=!0,Ym||(Ym=!0,mI())}function vu(r,a){if(!Wm&&If){Wm=!0;do for(var o=!1,u=Rf;u!==null;){if(r!==0){var h=u.pendingLanes;if(h===0)var p=0;else{var T=u.suspendedLanes,A=u.pingedLanes;p=(1<<31-It(42|r)+1)-1,p&=h&~(T&~A),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,tE(u,p))}else p=it,p=wi(u,u===Ot?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||Ri(u,p)||(o=!0,tE(u,p));u=u.next}while(o);Wm=!1}}function dI(){Z0()}function Z0(){If=Ym=!1;var r=0;Fs!==0&&(bI()&&(r=Fs),Fs=0);for(var a=jn(),o=null,u=Rf;u!==null;){var h=u.next,p=J0(u,a);p===0?(u.next=null,o===null?Rf=h:o.next=h,h===null&&(qo=o)):(o=u,(r!==0||(p&3)!==0)&&(If=!0)),u=h}vu(r)}function J0(r,a){for(var o=r.suspendedLanes,u=r.pingedLanes,h=r.expirationTimes,p=r.pendingLanes&-62914561;0<p;){var T=31-It(p),A=1<<T,N=h[T];N===-1?((A&o)===0||(A&u)!==0)&&(h[T]=ca(A,a)):N<=a&&(r.expiredLanes|=A),p&=~A}if(a=Ot,o=it,o=wi(r,r===a?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,o===0||r===a&&(yt===2||yt===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&Yr(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||Ri(r,o)){if(a=o&-o,a===r.callbackPriority)return a;switch(u!==null&&Yr(u),Ur(o)){case 2:case 8:o=oa;break;case 32:o=Si;break;case 268435456:o=la;break;default:o=Si}return u=eE.bind(null,r),o=_n(o,u),r.callbackPriority=a,r.callbackNode=o,a}return u!==null&&u!==null&&Yr(u),r.callbackPriority=2,r.callbackNode=null,2}function eE(r,a){if(bn!==0&&bn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(wf()&&r.callbackNode!==o)return null;var u=it;return u=wi(r,r===Ot?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(V0(r,u,a),J0(r,jn()),r.callbackNode!=null&&r.callbackNode===o?eE.bind(null,r):null)}function tE(r,a){if(wf())return null;V0(r,a,!0)}function mI(){AI(function(){(gt&6)!==0?_n(sa,dI):Z0()})}function Zm(){return Fs===0&&(Fs=Jr()),Fs}function nE(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:fo(""+r)}function rE(r,a){var o=a.ownerDocument.createElement("input");return o.name=a.name,o.value=a.value,r.id&&o.setAttribute("form",r.id),a.parentNode.insertBefore(o,a),r=new FormData(r),o.parentNode.removeChild(o),r}function pI(r,a,o,u,h){if(a==="submit"&&o&&o.stateNode===h){var p=nE((h[B]||null).action),T=u.submitter;T&&(a=(a=T[B]||null)?nE(a.formAction):T.getAttribute("formAction"),a!==null&&(p=a,T=null));var A=new ho("action","action",null,u,h);r.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Fs!==0){var N=T?rE(h,T):new FormData(h);vm(o,{pending:!0,data:N,method:h.method,action:p},null,N)}}else typeof p=="function"&&(A.preventDefault(),N=T?rE(h,T):new FormData(h),vm(o,{pending:!0,data:N,method:h.method,action:p},p,N))},currentTarget:h}]})}}for(var Jm=0;Jm<Ld.length;Jm++){var ep=Ld[Jm],gI=ep.toLowerCase(),yI=ep[0].toUpperCase()+ep.slice(1);Br(gI,"on"+yI)}Br(Vv,"onAnimationEnd"),Br(Lv,"onAnimationIteration"),Br(Uv,"onAnimationStart"),Br("dblclick","onDoubleClick"),Br("focusin","onFocus"),Br("focusout","onBlur"),Br(P1,"onTransitionRun"),Br(k1,"onTransitionStart"),Br(V1,"onTransitionCancel"),Br(zv,"onTransitionEnd"),Dn("onMouseEnter",["mouseout","mouseover"]),Dn("onMouseLeave",["mouseout","mouseover"]),Dn("onPointerEnter",["pointerout","pointerover"]),Dn("onPointerLeave",["pointerout","pointerover"]),tt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),tt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),tt("onBeforeInput",["compositionend","keypress","textInput","paste"]),tt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),tt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),tt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _u="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_u));function iE(r,a){a=(a&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],h=u.event;u=u.listeners;e:{var p=void 0;if(a)for(var T=u.length-1;0<=T;T--){var A=u[T],N=A.instance,G=A.currentTarget;if(A=A.listener,N!==p&&h.isPropagationStopped())break e;p=A,h.currentTarget=G;try{p(h)}catch(ne){mf(ne)}h.currentTarget=null,p=N}else for(T=0;T<u.length;T++){if(A=u[T],N=A.instance,G=A.currentTarget,A=A.listener,N!==p&&h.isPropagationStopped())break e;p=A,h.currentTarget=G;try{p(h)}catch(ne){mf(ne)}h.currentTarget=null,p=N}}}}function We(r,a){var o=a[le];o===void 0&&(o=a[le]=new Set);var u=r+"__bubble";o.has(u)||(aE(a,r,2,!1),o.add(u))}function tp(r,a,o){var u=0;a&&(u|=4),aE(o,r,u,a)}var Cf="_reactListening"+Math.random().toString(36).slice(2);function np(r){if(!r[Cf]){r[Cf]=!0,ut.forEach(function(o){o!=="selectionchange"&&(vI.has(o)||tp(o,!1,r),tp(o,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[Cf]||(a[Cf]=!0,tp("selectionchange",!1,a))}}function aE(r,a,o,u){switch(DE(a)){case 2:var h=GI;break;case 8:h=$I;break;default:h=gp}o=h.bind(null,a,o,r),h=void 0,!Ar||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(h=!0),u?h!==void 0?r.addEventListener(a,o,{capture:!0,passive:h}):r.addEventListener(a,o,!0):h!==void 0?r.addEventListener(a,o,{passive:h}):r.addEventListener(a,o,!1)}function rp(r,a,o,u,h){var p=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var A=u.stateNode.containerInfo;if(A===h)break;if(T===4)for(T=u.return;T!==null;){var N=T.tag;if((N===3||N===4)&&T.stateNode.containerInfo===h)return;T=T.return}for(;A!==null;){if(T=ge(A),T===null)return;if(N=T.tag,N===5||N===6||N===26||N===27){u=p=T;continue e}A=A.parentNode}}u=u.return}Dc(function(){var G=p,ne=Sr(o),ae=[];e:{var X=Bv.get(r);if(X!==void 0){var W=ho,ze=r;switch(r){case"keypress":if(ri(o)===0)break e;case"keydown":case"keyup":W=_o;break;case"focusin":ze="focus",W=go;break;case"focusout":ze="blur",W=go;break;case"beforeblur":case"afterblur":W=go;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=wr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=Lc;break;case Vv:case Lv:case Uv:W=yo;break;case zv:W=zc;break;case"scroll":case"scrollend":W=Oc;break;case"wheel":W=Eo;break;case"copy":case"cut":case"paste":W=vo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=Fl;break;case"toggle":case"beforetoggle":W=jc}var Pe=(a&4)!==0,bt=!Pe&&(r==="scroll"||r==="scrollend"),H=Pe?X!==null?X+"Capture":null:X;Pe=[];for(var z=G,q;z!==null;){var ie=z;if(q=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||q===null||H===null||(ie=bs(z,H),ie!=null&&Pe.push(Eu(z,ie,q))),bt)break;z=z.return}0<Pe.length&&(X=new W(X,ze,null,o,ne),ae.push({event:X,listeners:Pe}))}}if((a&7)===0){e:{if(X=r==="mouseover"||r==="pointerover",W=r==="mouseout"||r==="pointerout",X&&o!==Ci&&(ze=o.relatedTarget||o.fromElement)&&(ge(ze)||ze[Q]))break e;if((W||X)&&(X=ne.window===ne?ne:(X=ne.ownerDocument)?X.defaultView||X.parentWindow:window,W?(ze=o.relatedTarget||o.toElement,W=G,ze=ze?ge(ze):null,ze!==null&&(bt=l(ze),Pe=ze.tag,ze!==bt||Pe!==5&&Pe!==27&&Pe!==6)&&(ze=null)):(W=null,ze=G),W!==ze)){if(Pe=wr,ie="onMouseLeave",H="onMouseEnter",z="mouse",(r==="pointerout"||r==="pointerover")&&(Pe=Fl,ie="onPointerLeave",H="onPointerEnter",z="pointer"),bt=W==null?X:Me(W),q=ze==null?X:Me(ze),X=new Pe(ie,z+"leave",W,o,ne),X.target=bt,X.relatedTarget=q,ie=null,ge(ne)===G&&(Pe=new Pe(H,z+"enter",ze,o,ne),Pe.target=q,Pe.relatedTarget=bt,ie=Pe),bt=ie,W&&ze)t:{for(Pe=W,H=ze,z=0,q=Pe;q;q=Go(q))z++;for(q=0,ie=H;ie;ie=Go(ie))q++;for(;0<z-q;)Pe=Go(Pe),z--;for(;0<q-z;)H=Go(H),q--;for(;z--;){if(Pe===H||H!==null&&Pe===H.alternate)break t;Pe=Go(Pe),H=Go(H)}Pe=null}else Pe=null;W!==null&&sE(ae,X,W,Pe,!1),ze!==null&&bt!==null&&sE(ae,bt,ze,Pe,!0)}}e:{if(X=G?Me(G):window,W=X.nodeName&&X.nodeName.toLowerCase(),W==="select"||W==="input"&&X.type==="file")var Ae=wv;else if(nn(X))if(Rv)Ae=x1;else{Ae=D1;var Qe=C1}else W=X.nodeName,!W||W.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?G&&Vl(G.elementType)&&(Ae=wv):Ae=O1;if(Ae&&(Ae=Ae(r,G))){Ni(ae,Ae,o,ne);break e}Qe&&Qe(r,X,G),r==="focusout"&&G&&X.type==="number"&&G.memoizedProps.value!=null&&da(X,"number",X.value)}switch(Qe=G?Me(G):window,r){case"focusin":(nn(Qe)||Qe.contentEditable==="true")&&(To=Qe,Pd=G,$l=null);break;case"focusout":$l=Pd=To=null;break;case"mousedown":kd=!0;break;case"contextmenu":case"mouseup":case"dragend":kd=!1,Pv(ae,o,ne);break;case"selectionchange":if(N1)break;case"keydown":case"keyup":Pv(ae,o,ne)}var Re;if(si)e:{switch(r){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else nt?ee(r,o)&&(Ve="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Ve="onCompositionStart");Ve&&(_&&o.locale!=="ko"&&(nt||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&nt&&(Re=Ul()):(ni=ne,ma="value"in ni?ni.value:ni.textContent,nt=!0)),Qe=Df(G,Ve),0<Qe.length&&(Ve=new jl(Ve,r,null,o,ne),ae.push({event:Ve,listeners:Qe}),Re?Ve.data=Re:(Re=me(o),Re!==null&&(Ve.data=Re)))),(Re=y?tn(r,o):rt(r,o))&&(Ve=Df(G,"onBeforeInput"),0<Ve.length&&(Qe=new jl("onBeforeInput","beforeinput",null,o,ne),ae.push({event:Qe,listeners:Ve}),Qe.data=Re)),pI(ae,r,G,o,ne)}iE(ae,a)})}function Eu(r,a,o){return{instance:r,listener:a,currentTarget:o}}function Df(r,a){for(var o=a+"Capture",u=[];r!==null;){var h=r,p=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||p===null||(h=bs(r,o),h!=null&&u.unshift(Eu(r,h,p)),h=bs(r,a),h!=null&&u.push(Eu(r,h,p))),r.tag===3)return u;r=r.return}return[]}function Go(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function sE(r,a,o,u,h){for(var p=a._reactName,T=[];o!==null&&o!==u;){var A=o,N=A.alternate,G=A.stateNode;if(A=A.tag,N!==null&&N===u)break;A!==5&&A!==26&&A!==27||G===null||(N=G,h?(G=bs(o,p),G!=null&&T.unshift(Eu(o,G,N))):h||(G=bs(o,p),G!=null&&T.push(Eu(o,G,N)))),o=o.return}T.length!==0&&r.push({event:a,listeners:T})}var _I=/\r\n?/g,EI=/\u0000|\uFFFD/g;function oE(r){return(typeof r=="string"?r:""+r).replace(_I,`
`).replace(EI,"")}function lE(r,a){return a=oE(a),oE(r)===a}function Of(){}function Tt(r,a,o,u,h,p){switch(o){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||br(r,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&br(r,""+u);break;case"className":un(r,"class",u);break;case"tabIndex":un(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":un(r,o,u);break;case"style":kl(r,u,p);break;case"data":if(a!=="object"){un(r,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=fo(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(a!=="input"&&Tt(r,a,"name",h.name,h,null),Tt(r,a,"formEncType",h.formEncType,h,null),Tt(r,a,"formMethod",h.formMethod,h,null),Tt(r,a,"formTarget",h.formTarget,h,null)):(Tt(r,a,"encType",h.encType,h,null),Tt(r,a,"method",h.method,h,null),Tt(r,a,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=fo(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=Of);break;case"onScroll":u!=null&&We("scroll",r);break;case"onScrollEnd":u!=null&&We("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=fo(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":We("beforetoggle",r),We("toggle",r),qn(r,"popover",u);break;case"xlinkActuate":Bt(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Bt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Bt(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Bt(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Bt(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Bt(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Bt(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Bt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Bt(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":qn(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Id.get(o)||o,qn(r,o,u))}}function ip(r,a,o,u,h,p){switch(o){case"style":kl(r,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?br(r,u):(typeof u=="number"||typeof u=="bigint")&&br(r,""+u);break;case"onScroll":u!=null&&We("scroll",r);break;case"onScrollEnd":u!=null&&We("scrollend",r);break;case"onClick":u!=null&&(r.onclick=Of);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ke.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),a=o.slice(2,h?o.length-7:void 0),p=r[B]||null,p=p!=null?p[o]:null,typeof p=="function"&&r.removeEventListener(a,p,h),typeof u=="function")){typeof p!="function"&&p!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(a,u,h);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):qn(r,o,u)}}}function Sn(r,a,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":We("error",r),We("load",r);var u=!1,h=!1,p;for(p in o)if(o.hasOwnProperty(p)){var T=o[p];if(T!=null)switch(p){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Tt(r,a,p,T,o,null)}}h&&Tt(r,a,"srcSet",o.srcSet,o,null),u&&Tt(r,a,"src",o.src,o,null);return;case"input":We("invalid",r);var A=p=T=h=null,N=null,G=null;for(u in o)if(o.hasOwnProperty(u)){var ne=o[u];if(ne!=null)switch(u){case"name":h=ne;break;case"type":T=ne;break;case"checked":N=ne;break;case"defaultChecked":G=ne;break;case"value":p=ne;break;case"defaultValue":A=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,a));break;default:Tt(r,a,u,ne,o,null)}}_s(r,p,A,N,G,T,h,!1),co(r);return;case"select":We("invalid",r),u=T=p=null;for(h in o)if(o.hasOwnProperty(h)&&(A=o[h],A!=null))switch(h){case"value":p=A;break;case"defaultValue":T=A;break;case"multiple":u=A;default:Tt(r,a,h,A,o,null)}a=p,o=T,r.multiple=!!u,a!=null?Ii(r,!!u,a,!1):o!=null&&Ii(r,!!u,o,!0);return;case"textarea":We("invalid",r),p=h=u=null;for(T in o)if(o.hasOwnProperty(T)&&(A=o[T],A!=null))switch(T){case"value":u=A;break;case"defaultValue":h=A;break;case"children":p=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:Tt(r,a,T,A,o,null)}Es(r,u,h,p),co(r);return;case"option":for(N in o)if(o.hasOwnProperty(N)&&(u=o[N],u!=null))switch(N){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Tt(r,a,N,u,o,null)}return;case"dialog":We("beforetoggle",r),We("toggle",r),We("cancel",r),We("close",r);break;case"iframe":case"object":We("load",r);break;case"video":case"audio":for(u=0;u<_u.length;u++)We(_u[u],r);break;case"image":We("error",r),We("load",r);break;case"details":We("toggle",r);break;case"embed":case"source":case"link":We("error",r),We("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in o)if(o.hasOwnProperty(G)&&(u=o[G],u!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Tt(r,a,G,u,o,null)}return;default:if(Vl(a)){for(ne in o)o.hasOwnProperty(ne)&&(u=o[ne],u!==void 0&&ip(r,a,ne,u,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(u=o[A],u!=null&&Tt(r,a,A,u,o,null))}function TI(r,a,o,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,p=null,T=null,A=null,N=null,G=null,ne=null;for(W in o){var ae=o[W];if(o.hasOwnProperty(W)&&ae!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":N=ae;default:u.hasOwnProperty(W)||Tt(r,a,W,null,u,ae)}}for(var X in u){var W=u[X];if(ae=o[X],u.hasOwnProperty(X)&&(W!=null||ae!=null))switch(X){case"type":p=W;break;case"name":h=W;break;case"checked":G=W;break;case"defaultChecked":ne=W;break;case"value":T=W;break;case"defaultValue":A=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,a));break;default:W!==ae&&Tt(r,a,X,W,u,ae)}}lr(r,T,A,N,G,ne,p,h);return;case"select":W=T=A=X=null;for(p in o)if(N=o[p],o.hasOwnProperty(p)&&N!=null)switch(p){case"value":break;case"multiple":W=N;default:u.hasOwnProperty(p)||Tt(r,a,p,null,u,N)}for(h in u)if(p=u[h],N=o[h],u.hasOwnProperty(h)&&(p!=null||N!=null))switch(h){case"value":X=p;break;case"defaultValue":A=p;break;case"multiple":T=p;default:p!==N&&Tt(r,a,h,p,u,N)}a=A,o=T,u=W,X!=null?Ii(r,!!o,X,!1):!!u!=!!o&&(a!=null?Ii(r,!!o,a,!0):Ii(r,!!o,o?[]:"",!1));return;case"textarea":W=X=null;for(A in o)if(h=o[A],o.hasOwnProperty(A)&&h!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Tt(r,a,A,null,u,h)}for(T in u)if(h=u[T],p=o[T],u.hasOwnProperty(T)&&(h!=null||p!=null))switch(T){case"value":X=h;break;case"defaultValue":W=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==p&&Tt(r,a,T,h,u,p)}_t(r,X,W);return;case"option":for(var ze in o)if(X=o[ze],o.hasOwnProperty(ze)&&X!=null&&!u.hasOwnProperty(ze))switch(ze){case"selected":r.selected=!1;break;default:Tt(r,a,ze,null,u,X)}for(N in u)if(X=u[N],W=o[N],u.hasOwnProperty(N)&&X!==W&&(X!=null||W!=null))switch(N){case"selected":r.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:Tt(r,a,N,X,u,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in o)X=o[Pe],o.hasOwnProperty(Pe)&&X!=null&&!u.hasOwnProperty(Pe)&&Tt(r,a,Pe,null,u,X);for(G in u)if(X=u[G],W=o[G],u.hasOwnProperty(G)&&X!==W&&(X!=null||W!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,a));break;default:Tt(r,a,G,X,u,W)}return;default:if(Vl(a)){for(var bt in o)X=o[bt],o.hasOwnProperty(bt)&&X!==void 0&&!u.hasOwnProperty(bt)&&ip(r,a,bt,void 0,u,X);for(ne in u)X=u[ne],W=o[ne],!u.hasOwnProperty(ne)||X===W||X===void 0&&W===void 0||ip(r,a,ne,X,u,W);return}}for(var H in o)X=o[H],o.hasOwnProperty(H)&&X!=null&&!u.hasOwnProperty(H)&&Tt(r,a,H,null,u,X);for(ae in u)X=u[ae],W=o[ae],!u.hasOwnProperty(ae)||X===W||X==null&&W==null||Tt(r,a,ae,X,u,W)}var ap=null,sp=null;function xf(r){return r.nodeType===9?r:r.ownerDocument}function uE(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cE(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function op(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var lp=null;function bI(){var r=window.event;return r&&r.type==="popstate"?r===lp?!1:(lp=r,!0):(lp=null,!1)}var fE=typeof setTimeout=="function"?setTimeout:void 0,SI=typeof clearTimeout=="function"?clearTimeout:void 0,hE=typeof Promise=="function"?Promise:void 0,AI=typeof queueMicrotask=="function"?queueMicrotask:typeof hE<"u"?function(r){return hE.resolve(null).then(r).catch(wI)}:fE;function wI(r){setTimeout(function(){throw r})}function Oa(r){return r==="head"}function dE(r,a){var o=a,u=0,h=0;do{var p=o.nextSibling;if(r.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"){if(0<u&&8>u){o=u;var T=r.ownerDocument;if(o&1&&Tu(T.documentElement),o&2&&Tu(T.body),o&4)for(o=T.head,Tu(o),T=o.firstChild;T;){var A=T.nextSibling,N=T.nodeName;T[ye]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&T.rel.toLowerCase()==="stylesheet"||o.removeChild(T),T=A}}if(h===0){r.removeChild(p),Du(a);return}h--}else o==="$"||o==="$?"||o==="$!"?h++:u=o.charCodeAt(0)-48;else u=0;o=p}while(o);Du(a)}function up(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var o=a;switch(a=a.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":up(o),ve(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function RI(r,a,o,u){for(;r.nodeType===1;){var h=o;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[ye])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(p=r.getAttribute("rel"),p==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(p!==h.rel||r.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||r.getAttribute("title")!==(h.title==null?null:h.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(p=r.getAttribute("src"),(p!==(h.src==null?null:h.src)||r.getAttribute("type")!==(h.type==null?null:h.type)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&p&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var p=h.name==null?null:""+h.name;if(h.type==="hidden"&&r.getAttribute("name")===p)return r}else return r;if(r=Hr(r.nextSibling),r===null)break}return null}function II(r,a,o){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Hr(r.nextSibling),r===null))return null;return r}function cp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function CI(r,a){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")a();else{var u=function(){a(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function Hr(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return r}var fp=null;function mE(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(a===0)return r;a--}else o==="/$"&&a++}r=r.previousSibling}return null}function pE(r,a,o){switch(a=xf(o),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Tu(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);ve(r)}var Mr=new Map,gE=new Set;function Mf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var $i=ue.d;ue.d={f:DI,r:OI,D:xI,C:MI,L:NI,m:PI,X:VI,S:kI,M:LI};function DI(){var r=$i.f(),a=Sf();return r||a}function OI(r){var a=_e(r);a!==null&&a.tag===5&&a.type==="form"?V_(a):$i.r(r)}var $o=typeof document>"u"?null:document;function yE(r,a,o){var u=$o;if(u&&typeof a=="string"&&a){var h=Qt(a);h='link[rel="'+r+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),gE.has(h)||(gE.add(h),r={rel:r,crossOrigin:o,href:a},u.querySelector(h)===null&&(a=u.createElement("link"),Sn(a,"link",r),qe(a),u.head.appendChild(a)))}}function xI(r){$i.D(r),yE("dns-prefetch",r,null)}function MI(r,a){$i.C(r,a),yE("preconnect",r,a)}function NI(r,a,o){$i.L(r,a,o);var u=$o;if(u&&r&&a){var h='link[rel="preload"][as="'+Qt(a)+'"]';a==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+Qt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+Qt(o.imageSizes)+'"]')):h+='[href="'+Qt(r)+'"]';var p=h;switch(a){case"style":p=Ko(r);break;case"script":p=Qo(r)}Mr.has(p)||(r=v({rel:"preload",href:a==="image"&&o&&o.imageSrcSet?void 0:r,as:a},o),Mr.set(p,r),u.querySelector(h)!==null||a==="style"&&u.querySelector(bu(p))||a==="script"&&u.querySelector(Su(p))||(a=u.createElement("link"),Sn(a,"link",r),qe(a),u.head.appendChild(a)))}}function PI(r,a){$i.m(r,a);var o=$o;if(o&&r){var u=a&&typeof a.as=="string"?a.as:"script",h='link[rel="modulepreload"][as="'+Qt(u)+'"][href="'+Qt(r)+'"]',p=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Qo(r)}if(!Mr.has(p)&&(r=v({rel:"modulepreload",href:r},a),Mr.set(p,r),o.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Su(p)))return}u=o.createElement("link"),Sn(u,"link",r),qe(u),o.head.appendChild(u)}}}function kI(r,a,o){$i.S(r,a,o);var u=$o;if(u&&r){var h=ke(u).hoistableStyles,p=Ko(r);a=a||"default";var T=h.get(p);if(!T){var A={loading:0,preload:null};if(T=u.querySelector(bu(p)))A.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":a},o),(o=Mr.get(p))&&hp(r,o);var N=T=u.createElement("link");qe(N),Sn(N,"link",r),N._p=new Promise(function(G,ne){N.onload=G,N.onerror=ne}),N.addEventListener("load",function(){A.loading|=1}),N.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Nf(T,a,u)}T={type:"stylesheet",instance:T,count:1,state:A},h.set(p,T)}}}function VI(r,a){$i.X(r,a);var o=$o;if(o&&r){var u=ke(o).hoistableScripts,h=Qo(r),p=u.get(h);p||(p=o.querySelector(Su(h)),p||(r=v({src:r,async:!0},a),(a=Mr.get(h))&&dp(r,a),p=o.createElement("script"),qe(p),Sn(p,"link",r),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(h,p))}}function LI(r,a){$i.M(r,a);var o=$o;if(o&&r){var u=ke(o).hoistableScripts,h=Qo(r),p=u.get(h);p||(p=o.querySelector(Su(h)),p||(r=v({src:r,async:!0,type:"module"},a),(a=Mr.get(h))&&dp(r,a),p=o.createElement("script"),qe(p),Sn(p,"link",r),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(h,p))}}function vE(r,a,o,u){var h=(h=Ce.current)?Mf(h):null;if(!h)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(a=Ko(o.href),o=ke(h).hoistableStyles,u=o.get(a),u||(u={type:"style",instance:null,count:0,state:null},o.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Ko(o.href);var p=ke(h).hoistableStyles,T=p.get(r);if(T||(h=h.ownerDocument||h,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(r,T),(p=h.querySelector(bu(r)))&&!p._p&&(T.instance=p,T.state.loading=5),Mr.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Mr.set(r,o),p||UI(h,r,o,T.state))),a&&u===null)throw Error(i(528,""));return T}if(a&&u!==null)throw Error(i(529,""));return null;case"script":return a=o.async,o=o.src,typeof o=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Qo(o),o=ke(h).hoistableScripts,u=o.get(a),u||(u={type:"script",instance:null,count:0,state:null},o.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Ko(r){return'href="'+Qt(r)+'"'}function bu(r){return'link[rel="stylesheet"]['+r+"]"}function _E(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function UI(r,a,o,u){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=r.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),Sn(a,"link",o),qe(a),r.head.appendChild(a))}function Qo(r){return'[src="'+Qt(r)+'"]'}function Su(r){return"script[async]"+r}function EE(r,a,o){if(a.count++,a.instance===null)switch(a.type){case"style":var u=r.querySelector('style[data-href~="'+Qt(o.href)+'"]');if(u)return a.instance=u,qe(u),u;var h=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),qe(u),Sn(u,"style",h),Nf(u,o.precedence,r),a.instance=u;case"stylesheet":h=Ko(o.href);var p=r.querySelector(bu(h));if(p)return a.state.loading|=4,a.instance=p,qe(p),p;u=_E(o),(h=Mr.get(h))&&hp(u,h),p=(r.ownerDocument||r).createElement("link"),qe(p);var T=p;return T._p=new Promise(function(A,N){T.onload=A,T.onerror=N}),Sn(p,"link",u),a.state.loading|=4,Nf(p,o.precedence,r),a.instance=p;case"script":return p=Qo(o.src),(h=r.querySelector(Su(p)))?(a.instance=h,qe(h),h):(u=o,(h=Mr.get(p))&&(u=v({},o),dp(u,h)),r=r.ownerDocument||r,h=r.createElement("script"),qe(h),Sn(h,"link",u),r.head.appendChild(h),a.instance=h);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,Nf(u,o.precedence,r));return a.instance}function Nf(r,a,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,p=h,T=0;T<u.length;T++){var A=u[T];if(A.dataset.precedence===a)p=A;else if(p!==h)break}p?p.parentNode.insertBefore(r,p.nextSibling):(a=o.nodeType===9?o.head:o,a.insertBefore(r,a.firstChild))}function hp(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function dp(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var Pf=null;function TE(r,a,o){if(Pf===null){var u=new Map,h=Pf=new Map;h.set(o,u)}else h=Pf,u=h.get(o),u||(u=new Map,h.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),h=0;h<o.length;h++){var p=o[h];if(!(p[ye]||p[P]||r==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var T=p.getAttribute(a)||"";T=r+T;var A=u.get(T);A?A.push(p):u.set(T,[p])}}return u}function bE(r,a,o){r=r.ownerDocument||r,r.head.insertBefore(o,a==="title"?r.querySelector("head > title"):null)}function zI(r,a,o){if(o===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function SE(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Au=null;function BI(){}function jI(r,a,o){if(Au===null)throw Error(i(475));var u=Au;if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ko(o.href),p=r.querySelector(bu(h));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=kf.bind(u),r.then(u,u)),a.state.loading|=4,a.instance=p,qe(p);return}p=r.ownerDocument||r,o=_E(o),(h=Mr.get(h))&&hp(o,h),p=p.createElement("link"),qe(p);var T=p;T._p=new Promise(function(A,N){T.onload=A,T.onerror=N}),Sn(p,"link",o),a.instance=p}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(u.count++,a=kf.bind(u),r.addEventListener("load",a),r.addEventListener("error",a))}}function HI(){if(Au===null)throw Error(i(475));var r=Au;return r.stylesheets&&r.count===0&&mp(r,r.stylesheets),0<r.count?function(a){var o=setTimeout(function(){if(r.stylesheets&&mp(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=a,function(){r.unsuspend=null,clearTimeout(o)}}:null}function kf(){if(this.count--,this.count===0){if(this.stylesheets)mp(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Vf=null;function mp(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Vf=new Map,a.forEach(FI,r),Vf=null,kf.call(r))}function FI(r,a){if(!(a.state.loading&4)){var o=Vf.get(r);if(o)var u=o.get(null);else{o=new Map,Vf.set(r,o);for(var h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<h.length;p++){var T=h[p];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),u=T)}u&&o.set(null,u)}h=a.instance,T=h.getAttribute("data-precedence"),p=o.get(T)||u,p===u&&o.set(null,h),o.set(T,h),this.count++,u=kf.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),p?p.parentNode.insertBefore(h,p.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(h,r.firstChild)),a.state.loading|=4}}var wu={$$typeof:Y,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function qI(r,a,o,u,h,p,T,A){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=nr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nr(0),this.hiddenUpdates=nr(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=p,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function AE(r,a,o,u,h,p,T,A,N,G,ne,ae){return r=new qI(r,a,o,T,A,N,G,ae),a=1,p===!0&&(a|=24),p=cr(3,null,null,a),r.current=p,p.stateNode=r,a=Xd(),a.refCount++,r.pooledCache=a,a.refCount++,p.memoizedState={element:u,isDehydrated:o,cache:a},Jd(p),r}function wE(r){return r?(r=wo,r):wo}function RE(r,a,o,u,h,p){h=wE(h),u.context===null?u.context=h:u.pendingContext=h,u=ya(a),u.payload={element:o},p=p===void 0?null:p,p!==null&&(u.callback=p),o=va(r,u,a),o!==null&&(pr(o,r,a),tu(o,r,a))}function IE(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<a?o:a}}function pp(r,a){IE(r,a),(r=r.alternate)&&IE(r,a)}function CE(r){if(r.tag===13){var a=Ao(r,67108864);a!==null&&pr(a,r,67108864),pp(r,67108864)}}var Lf=!0;function GI(r,a,o,u){var h=J.T;J.T=null;var p=ue.p;try{ue.p=2,gp(r,a,o,u)}finally{ue.p=p,J.T=h}}function $I(r,a,o,u){var h=J.T;J.T=null;var p=ue.p;try{ue.p=8,gp(r,a,o,u)}finally{ue.p=p,J.T=h}}function gp(r,a,o,u){if(Lf){var h=yp(u);if(h===null)rp(r,a,u,Uf,o),OE(r,u);else if(QI(h,r,a,o,u))u.stopPropagation();else if(OE(r,u),a&4&&-1<KI.indexOf(r)){for(;h!==null;){var p=_e(h);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var T=Hn(p.pendingLanes);if(T!==0){var A=p;for(A.pendingLanes|=2,A.entangledLanes|=2;T;){var N=1<<31-It(T);A.entanglements[1]|=N,T&=~N}hi(p),(gt&6)===0&&(Tf=jn()+500,vu(0))}}break;case 13:A=Ao(p,2),A!==null&&pr(A,p,2),Sf(),pp(p,2)}if(p=yp(u),p===null&&rp(r,a,u,Uf,o),p===h)break;h=p}h!==null&&u.stopPropagation()}else rp(r,a,u,null,o)}}function yp(r){return r=Sr(r),vp(r)}var Uf=null;function vp(r){if(Uf=null,r=ge(r),r!==null){var a=l(r);if(a===null)r=null;else{var o=a.tag;if(o===13){if(r=c(a),r!==null)return r;r=null}else if(o===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return Uf=r,null}function DE(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ml()){case sa:return 2;case oa:return 8;case Si:case Nl:return 32;case la:return 268435456;default:return 32}default:return 32}}var _p=!1,xa=null,Ma=null,Na=null,Ru=new Map,Iu=new Map,Pa=[],KI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function OE(r,a){switch(r){case"focusin":case"focusout":xa=null;break;case"dragenter":case"dragleave":Ma=null;break;case"mouseover":case"mouseout":Na=null;break;case"pointerover":case"pointerout":Ru.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Iu.delete(a.pointerId)}}function Cu(r,a,o,u,h,p){return r===null||r.nativeEvent!==p?(r={blockedOn:a,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[h]},a!==null&&(a=_e(a),a!==null&&CE(a)),r):(r.eventSystemFlags|=u,a=r.targetContainers,h!==null&&a.indexOf(h)===-1&&a.push(h),r)}function QI(r,a,o,u,h){switch(a){case"focusin":return xa=Cu(xa,r,a,o,u,h),!0;case"dragenter":return Ma=Cu(Ma,r,a,o,u,h),!0;case"mouseover":return Na=Cu(Na,r,a,o,u,h),!0;case"pointerover":var p=h.pointerId;return Ru.set(p,Cu(Ru.get(p)||null,r,a,o,u,h)),!0;case"gotpointercapture":return p=h.pointerId,Iu.set(p,Cu(Iu.get(p)||null,r,a,o,u,h)),!0}return!1}function xE(r){var a=ge(r.target);if(a!==null){var o=l(a);if(o!==null){if(a=o.tag,a===13){if(a=c(o),a!==null){r.blockedOn=a,uo(r.priority,function(){if(o.tag===13){var u=mr();u=Lr(u);var h=Ao(o,u);h!==null&&pr(h,o,u),pp(o,u)}});return}}else if(a===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function zf(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var o=yp(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);Ci=u,o.target.dispatchEvent(u),Ci=null}else return a=_e(o),a!==null&&CE(a),r.blockedOn=o,!1;a.shift()}return!0}function ME(r,a,o){zf(r)&&o.delete(a)}function XI(){_p=!1,xa!==null&&zf(xa)&&(xa=null),Ma!==null&&zf(Ma)&&(Ma=null),Na!==null&&zf(Na)&&(Na=null),Ru.forEach(ME),Iu.forEach(ME)}function Bf(r,a){r.blockedOn===a&&(r.blockedOn=null,_p||(_p=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,XI)))}var jf=null;function NE(r){jf!==r&&(jf=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){jf===r&&(jf=null);for(var a=0;a<r.length;a+=3){var o=r[a],u=r[a+1],h=r[a+2];if(typeof u!="function"){if(vp(u||o)===null)continue;break}var p=_e(o);p!==null&&(r.splice(a,3),a-=3,vm(p,{pending:!0,data:h,method:o.method,action:u},u,h))}}))}function Du(r){function a(N){return Bf(N,r)}xa!==null&&Bf(xa,r),Ma!==null&&Bf(Ma,r),Na!==null&&Bf(Na,r),Ru.forEach(a),Iu.forEach(a);for(var o=0;o<Pa.length;o++){var u=Pa[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<Pa.length&&(o=Pa[0],o.blockedOn===null);)xE(o),o.blockedOn===null&&Pa.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var h=o[u],p=o[u+1],T=h[B]||null;if(typeof p=="function")T||NE(o);else if(T){var A=null;if(p&&p.hasAttribute("formAction")){if(h=p,T=p[B]||null)A=T.formAction;else if(vp(h)!==null)continue}else A=T.action;typeof A=="function"?o[u+1]=A:(o.splice(u,3),u-=3),NE(o)}}}function Ep(r){this._internalRoot=r}Hf.prototype.render=Ep.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var o=a.current,u=mr();RE(o,u,r,a,null,null)},Hf.prototype.unmount=Ep.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;RE(r.current,2,null,r,null,null),Sf(),a[Q]=null}};function Hf(r){this._internalRoot=r}Hf.prototype.unstable_scheduleHydration=function(r){if(r){var a=ar();r={blockedOn:null,target:r,priority:a};for(var o=0;o<Pa.length&&a!==0&&a<Pa[o].priority;o++);Pa.splice(o,0,r),o===0&&xE(r)}};var PE=e.version;if(PE!=="19.1.0")throw Error(i(527,PE,"19.1.0"));ue.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=m(a),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var YI={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ff=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ff.isDisabled&&Ff.supportsFiber)try{Mt=Ff.inject(YI),lt=Ff}catch{}}return xu.createRoot=function(r,a){if(!s(r))throw Error(i(299));var o=!1,u="",h=Y_,p=W_,T=Z_,A=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(A=a.unstable_transitionCallbacks)),a=AE(r,1,!1,null,null,o,u,h,p,T,A,null),r[Q]=a.current,np(r),new Ep(a)},xu.hydrateRoot=function(r,a,o){if(!s(r))throw Error(i(299));var u=!1,h="",p=Y_,T=W_,A=Z_,N=null,G=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(N=o.unstable_transitionCallbacks),o.formState!==void 0&&(G=o.formState)),a=AE(r,1,!0,a,o??null,u,h,p,T,A,N,G),a.context=wE(null),o=a.current,u=mr(),u=Lr(u),h=ya(u),h.callback=null,va(o,h,u),o=u,a.current.lanes=o,rr(a,o),hi(a),r[Q]=a.current,np(r),new Hf(a)},xu.version="19.1.0",xu}var qE;function aC(){if(qE)return Sp.exports;qE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Sp.exports=iC(),Sp.exports}var sC=aC();const oC=()=>{};var GE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},lC=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const s=n[t++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const l=n[t++];e[i++]=String.fromCharCode((s&31)<<6|l&63)}else if(s>239&&s<365){const l=n[t++],c=n[t++],d=n[t++],m=((s&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((s&15)<<12|(l&63)<<6|c&63)}}return e.join("")},MS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const l=n[s],c=s+1<n.length,d=c?n[s+1]:0,m=s+2<n.length,g=m?n[s+2]:0,v=l>>2,E=(l&3)<<4|d>>4;let b=(d&15)<<2|g>>6,I=g&63;m||(I=64,c||(b=64)),i.push(t[v],t[E],t[b],t[I])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(xS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):lC(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const l=t[n.charAt(s++)],d=s<n.length?t[n.charAt(s)]:0;++s;const g=s<n.length?t[n.charAt(s)]:64;++s;const E=s<n.length?t[n.charAt(s)]:64;if(++s,l==null||d==null||g==null||E==null)throw new uC;const b=l<<2|d>>4;if(i.push(b),g!==64){const I=d<<4&240|g>>2;if(i.push(I),E!==64){const M=g<<6&192|E;i.push(M)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class uC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cC=function(n){const e=xS(n);return MS.encodeByteArray(e,!0)},vh=function(n){return cC(n).replace(/\./g,"")},NS=function(n){try{return MS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=()=>fC().__FIREBASE_DEFAULTS__,dC=()=>{if(typeof process>"u"||typeof GE>"u")return;const n=GE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},mC=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&NS(n[1]);return e&&JSON.parse(e)},Gh=()=>{try{return oC()||hC()||dC()||mC()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},PS=n=>{var e,t;return(t=(e=Gh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},kS=n=>{const e=PS(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},VS=()=>{var n;return(n=Gh())===null||n===void 0?void 0:n.config},LS=n=>{var e;return(e=Gh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pC=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",s=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[vh(JSON.stringify(t)),vh(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vn())}function yC(){var n;const e=(n=Gh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _C(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function EC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TC(){const n=Vn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function bC(){return!yC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function SC(){try{return typeof indexedDB=="object"}catch{return!1}}function AC(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var l;e(((l=s.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC="FirebaseError";class Ti extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=wC,Object.setPrototypeOf(this,Ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pc.prototype.create)}}class pc{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},s=`${this.service}/${e}`,l=this.errors[e],c=l?RC(l,i):"Error",d=`${this.serviceName}: ${c} (${s}).`;return new Ti(s,d,i)}}function RC(n,e){return n.replace(IC,(t,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const IC=/\{\$([^}]+)}/g;function CC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ya(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const s of t){if(!i.includes(s))return!1;const l=n[s],c=e[s];if($E(l)&&$E(c)){if(!Ya(l,c))return!1}else if(l!==c)return!1}for(const s of i)if(!t.includes(s))return!1;return!0}function $E(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gc(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function zu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,l]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(l)}}),e}function Bu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function DC(n,e){const t=new OC(n,e);return t.subscribe.bind(t)}class OC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let s;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");xC(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:i},s.next===void 0&&(s.next=Ip),s.error===void 0&&(s.error=Ip),s.complete===void 0&&(s.complete=Ip);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xC(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Ip(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(n){return n&&n._delegate?n._delegate:n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _l(n){return n.endsWith(".cloudworkstations.dev")}async function ay(n){return(await fetch(n,{credentials:"include"})).ok}class Wa{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new pC;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(PC(e))try{this.getOrInitializeService({instanceIdentifier:qs})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:s});i.resolve(l)}catch{}}}}clearInstance(e=qs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qs){return this.instances.has(e)}getOptions(e=qs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(s)}return s}onInit(e,t){var i;const s=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&e(c,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const s of i)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:NC(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=qs){return this.component?this.component.multipleInstances?e:qs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NC(n){return n===qs?void 0:n}function PC(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new MC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Je;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Je||(Je={}));const VC={debug:Je.DEBUG,verbose:Je.VERBOSE,info:Je.INFO,warn:Je.WARN,error:Je.ERROR,silent:Je.SILENT},LC=Je.INFO,UC={[Je.DEBUG]:"log",[Je.VERBOSE]:"log",[Je.INFO]:"info",[Je.WARN]:"warn",[Je.ERROR]:"error"},zC=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),s=UC[e];if(s)console[s](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sy{constructor(e){this.name=e,this._logLevel=LC,this._logHandler=zC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Je.DEBUG,...e),this._logHandler(this,Je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Je.VERBOSE,...e),this._logHandler(this,Je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Je.INFO,...e),this._logHandler(this,Je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Je.WARN,...e),this._logHandler(this,Je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Je.ERROR,...e),this._logHandler(this,Je.ERROR,...e)}}const BC=(n,e)=>e.some(t=>n instanceof t);let KE,QE;function jC(){return KE||(KE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HC(){return QE||(QE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zS=new WeakMap,tg=new WeakMap,BS=new WeakMap,Cp=new WeakMap,oy=new WeakMap;function FC(n){const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t($a(n.result)),s()},c=()=>{i(n.error),s()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&zS.set(t,n)}).catch(()=>{}),oy.set(e,n),e}function qC(n){if(tg.has(n))return;const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),s()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});tg.set(n,e)}let ng={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return tg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||BS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return $a(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function GC(n){ng=n(ng)}function $C(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Dp(this),e,...t);return BS.set(i,e.sort?e.sort():[e]),$a(i)}:HC().includes(n)?function(...e){return n.apply(Dp(this),e),$a(zS.get(this))}:function(...e){return $a(n.apply(Dp(this),e))}}function KC(n){return typeof n=="function"?$C(n):(n instanceof IDBTransaction&&qC(n),BC(n,jC())?new Proxy(n,ng):n)}function $a(n){if(n instanceof IDBRequest)return FC(n);if(Cp.has(n))return Cp.get(n);const e=KC(n);return e!==n&&(Cp.set(n,e),oy.set(e,n)),e}const Dp=n=>oy.get(n);function QC(n,e,{blocked:t,upgrade:i,blocking:s,terminated:l}={}){const c=indexedDB.open(n,e),d=$a(c);return i&&c.addEventListener("upgradeneeded",m=>{i($a(c.result),m.oldVersion,m.newVersion,$a(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),s&&m.addEventListener("versionchange",g=>s(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const XC=["get","getKey","getAll","getAllKeys","count"],YC=["put","add","delete","clear"],Op=new Map;function XE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Op.get(e))return Op.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,s=YC.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(s||XC.includes(t)))return;const l=async function(c,...d){const m=this.transaction(c,s?"readwrite":"readonly");let g=m.store;return i&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),s&&m.done]))[0]};return Op.set(e,l),l}GC(n=>({...n,get:(e,t,i)=>XE(e,t)||n.get(e,t,i),has:(e,t)=>!!XE(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(ZC(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function ZC(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const rg="@firebase/app",YE="0.12.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea=new sy("@firebase/app"),JC="@firebase/app-compat",eD="@firebase/analytics-compat",tD="@firebase/analytics",nD="@firebase/app-check-compat",rD="@firebase/app-check",iD="@firebase/auth",aD="@firebase/auth-compat",sD="@firebase/database",oD="@firebase/data-connect",lD="@firebase/database-compat",uD="@firebase/functions",cD="@firebase/functions-compat",fD="@firebase/installations",hD="@firebase/installations-compat",dD="@firebase/messaging",mD="@firebase/messaging-compat",pD="@firebase/performance",gD="@firebase/performance-compat",yD="@firebase/remote-config",vD="@firebase/remote-config-compat",_D="@firebase/storage",ED="@firebase/storage-compat",TD="@firebase/firestore",bD="@firebase/vertexai",SD="@firebase/firestore-compat",AD="firebase",wD="11.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig="[DEFAULT]",RD={[rg]:"fire-core",[JC]:"fire-core-compat",[tD]:"fire-analytics",[eD]:"fire-analytics-compat",[rD]:"fire-app-check",[nD]:"fire-app-check-compat",[iD]:"fire-auth",[aD]:"fire-auth-compat",[sD]:"fire-rtdb",[oD]:"fire-data-connect",[lD]:"fire-rtdb-compat",[uD]:"fire-fn",[cD]:"fire-fn-compat",[fD]:"fire-iid",[hD]:"fire-iid-compat",[dD]:"fire-fcm",[mD]:"fire-fcm-compat",[pD]:"fire-perf",[gD]:"fire-perf-compat",[yD]:"fire-rc",[vD]:"fire-rc-compat",[_D]:"fire-gcs",[ED]:"fire-gcs-compat",[TD]:"fire-fst",[SD]:"fire-fst-compat",[bD]:"fire-vertex","fire-js":"fire-js",[AD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h=new Map,ID=new Map,ag=new Map;function WE(n,e){try{n.container.addComponent(e)}catch(t){ea.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Js(n){const e=n.name;if(ag.has(e))return ea.debug(`There were multiple attempts to register component ${e}.`),!1;ag.set(e,n);for(const t of _h.values())WE(t,n);for(const t of ID.values())WE(t,n);return!0}function $h(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Yn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ka=new pc("app","Firebase",CD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Wa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ka.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so=wD;function jS(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:ig,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw Ka.create("bad-app-name",{appName:String(s)});if(t||(t=VS()),!t)throw Ka.create("no-options");const l=_h.get(s);if(l){if(Ya(t,l.options)&&Ya(i,l.config))return l;throw Ka.create("duplicate-app",{appName:s})}const c=new kC(s);for(const m of ag.values())c.addComponent(m);const d=new DD(t,i,c);return _h.set(s,d),d}function ly(n=ig){const e=_h.get(n);if(!e&&n===ig&&VS())return jS();if(!e)throw Ka.create("no-app",{appName:n});return e}function gi(n,e,t){var i;let s=(i=RD[n])!==null&&i!==void 0?i:n;t&&(s+=`-${t}`);const l=s.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${s}" with version "${e}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ea.warn(d.join(" "));return}Js(new Wa(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD="firebase-heartbeat-database",xD=1,tc="firebase-heartbeat-store";let xp=null;function HS(){return xp||(xp=QC(OD,xD,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(tc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ka.create("idb-open",{originalErrorMessage:n.message})})),xp}async function MD(n){try{const t=(await HS()).transaction(tc),i=await t.objectStore(tc).get(FS(n));return await t.done,i}catch(e){if(e instanceof Ti)ea.warn(e.message);else{const t=Ka.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ea.warn(t.message)}}}async function ZE(n,e){try{const i=(await HS()).transaction(tc,"readwrite");await i.objectStore(tc).put(e,FS(n)),await i.done}catch(t){if(t instanceof Ti)ea.warn(t.message);else{const i=Ka.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ea.warn(i.message)}}}function FS(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND=1024,PD=30;class kD{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new LD(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=JE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:s}),this._heartbeatsCache.heartbeats.length>PD){const c=UD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){ea.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=JE(),{heartbeatsToSend:i,unsentEntries:s}=VD(this._heartbeatsCache.heartbeats),l=vh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ea.warn(t),""}}}function JE(){return new Date().toISOString().substring(0,10)}function VD(n,e=ND){const t=[];let i=n.slice();for(const s of n){const l=t.find(c=>c.agent===s.agent);if(l){if(l.dates.push(s.date),eT(t)>e){l.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),eT(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class LD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SC()?AC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await MD(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return ZE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return ZE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function eT(n){return vh(JSON.stringify({version:2,heartbeats:n})).length}function UD(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(n){Js(new Wa("platform-logger",e=>new WC(e),"PRIVATE")),Js(new Wa("heartbeat",e=>new kD(e),"PRIVATE")),gi(rg,YE,n),gi(rg,YE,"esm2017"),gi("fire-js","")}zD("");function uy(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t}function qS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const BD=qS,GS=new pc("auth","Firebase",qS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh=new sy("@firebase/auth");function jD(n,...e){Eh.logLevel<=Je.WARN&&Eh.warn(`Auth (${so}): ${n}`,...e)}function nh(n,...e){Eh.logLevel<=Je.ERROR&&Eh.error(`Auth (${so}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(n,...e){throw fy(n,...e)}function $r(n,...e){return fy(n,...e)}function cy(n,e,t){const i=Object.assign(Object.assign({},BD()),{[e]:t});return new pc("auth","Firebase",i).create(e,{appName:n.name})}function Wi(n){return cy(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function HD(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&kr(n,"argument-error"),cy(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function fy(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return GS.create(n,...e)}function Le(n,e,...t){if(!n)throw fy(e,...t)}function Qi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw nh(e),new Error(e)}function ta(n,e){n||Qi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function FD(){return tT()==="http:"||tT()==="https:"}function tT(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FD()||_C()||"connection"in navigator)?navigator.onLine:!0}function GD(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,t){this.shortDelay=e,this.longDelay=t,ta(t>e,"Short delay should be less than long delay!"),this.isMobile=gC()||EC()}get(){return qD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(n,e){ta(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],QD=new yc(3e4,6e4);function is(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function aa(n,e,t,i,s={}){return KS(n,s,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=gc(Object.assign({key:n.config.apiKey},c)).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const g=Object.assign({method:e,headers:m},l);return vC()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&_l(n.emulatorConfig.host)&&(g.credentials="include"),$S.fetch()(await QS(n,n.config.apiHost,t,d),g)})}async function KS(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},$D),e);try{const s=new YD(n),l=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw qf(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw qf(n,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw qf(n,"email-already-in-use",c);if(m==="USER_DISABLED")throw qf(n,"user-disabled",c);const v=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw cy(n,v,g);kr(n,v)}}catch(s){if(s instanceof Ti)throw s;kr(n,"network-request-failed",{message:String(s)})}}async function vc(n,e,t,i,s={}){const l=await aa(n,e,t,i,s);return"mfaPendingCredential"in l&&kr(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function QS(n,e,t,i){const s=`${e}${t}?${i}`,l=n,c=l.config.emulator?hy(n.config,s):`${n.config.apiScheme}://${s}`;return KD.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function XD(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class YD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i($r(this.auth,"network-request-failed")),QD.get())})}}function qf(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const s=$r(n,e,i);return s.customData._tokenResponse=t,s}function nT(n){return n!==void 0&&n.enterprise!==void 0}class WD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return XD(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ZD(n,e){return aa(n,"GET","/v2/recaptchaConfig",is(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JD(n,e){return aa(n,"POST","/v1/accounts:delete",e)}async function Th(n,e){return aa(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $u(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function e2(n,e=!1){const t=Vt(n),i=await t.getIdToken(e),s=dy(i);Le(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const l=typeof s.firebase=="object"?s.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:s,token:i,authTime:$u(Mp(s.auth_time)),issuedAtTime:$u(Mp(s.iat)),expirationTime:$u(Mp(s.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Mp(n){return Number(n)*1e3}function dy(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return nh("JWT malformed, contained fewer than 3 sections"),null;try{const s=NS(t);return s?JSON.parse(s):(nh("Failed to decode base64 JWT payload"),null)}catch(s){return nh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function rT(n){const e=dy(n);return Le(e,"internal-error"),Le(typeof e.exp<"u","internal-error"),Le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sl(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Ti&&t2(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function t2({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=$u(this.lastLoginAt),this.creationTime=$u(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bh(n){var e;const t=n.auth,i=await n.getIdToken(),s=await sl(n,Th(t,{idToken:i}));Le(s==null?void 0:s.users.length,t,"internal-error");const l=s.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?XS(l.providerUserInfo):[],d=i2(n.providerData,c),m=n.isAnonymous,g=!(n.email&&l.passwordHash)&&!(d!=null&&d.length),v=m?g:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new og(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(n,E)}async function r2(n){const e=Vt(n);await bh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function i2(n,e){return[...n.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function XS(n){return n.map(e=>{var{providerId:t}=e,i=uy(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a2(n,e){const t=await KS(n,{},async()=>{const i=gc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:l}=n.config,c=await QS(n,s,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",$S.fetch()(c,{method:"POST",headers:d,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function s2(n,e){return aa(n,"POST","/v2/accounts:revokeToken",is(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Le(e.idToken,"internal-error"),Le(typeof e.idToken<"u","internal-error"),Le(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):rT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Le(e.length!==0,"internal-error");const t=rT(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:s,expiresIn:l}=await a2(e,t);this.updateTokensAndExpiration(i,s,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:s,expirationTime:l}=t,c=new tl;return i&&(Le(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),s&&(Le(typeof s=="string","internal-error",{appName:e}),c.accessToken=s),l&&(Le(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new tl,this.toJSON())}_performRefresh(){return Qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Va(n,e){Le(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class qr{constructor(e){var{uid:t,auth:i,stsTokenManager:s}=e,l=uy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new n2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new og(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await sl(this,this.stsTokenManager.getToken(this.auth,e));return Le(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return e2(this,e)}reload(){return r2(this)}_assign(e){this!==e&&(Le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new qr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await bh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yn(this.auth.app))return Promise.reject(Wi(this.auth));const e=await this.getIdToken();return await sl(this,JD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,s,l,c,d,m,g,v;const E=(i=t.displayName)!==null&&i!==void 0?i:void 0,b=(s=t.email)!==null&&s!==void 0?s:void 0,I=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,M=(c=t.photoURL)!==null&&c!==void 0?c:void 0,V=(d=t.tenantId)!==null&&d!==void 0?d:void 0,D=(m=t._redirectEventId)!==null&&m!==void 0?m:void 0,Z=(g=t.createdAt)!==null&&g!==void 0?g:void 0,j=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:Y,emailVerified:te,isAnonymous:K,providerData:he,stsTokenManager:S}=t;Le(Y&&S,e,"internal-error");const w=tl.fromJSON(this.name,S);Le(typeof Y=="string",e,"internal-error"),Va(E,e.name),Va(b,e.name),Le(typeof te=="boolean",e,"internal-error"),Le(typeof K=="boolean",e,"internal-error"),Va(I,e.name),Va(M,e.name),Va(V,e.name),Va(D,e.name),Va(Z,e.name),Va(j,e.name);const C=new qr({uid:Y,auth:e,email:b,emailVerified:te,displayName:E,isAnonymous:K,photoURL:M,phoneNumber:I,tenantId:V,stsTokenManager:w,createdAt:Z,lastLoginAt:j});return he&&Array.isArray(he)&&(C.providerData=he.map(x=>Object.assign({},x))),D&&(C._redirectEventId=D),C}static async _fromIdTokenResponse(e,t,i=!1){const s=new tl;s.updateFromServerResponse(t);const l=new qr({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await bh(l),l}static async _fromGetAccountInfoResponse(e,t,i){const s=t.users[0];Le(s.localId!==void 0,"internal-error");const l=s.providerUserInfo!==void 0?XS(s.providerUserInfo):[],c=!(s.email&&s.passwordHash)&&!(l!=null&&l.length),d=new tl;d.updateFromIdToken(i);const m=new qr({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new og(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT=new Map;function Xi(n){ta(n instanceof Function,"Expected a class definition");let e=iT.get(n);return e?(ta(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,iT.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}YS.type="NONE";const aT=YS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(n,e,t){return`firebase:${n}:${e}:${t}`}class nl{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:s,name:l}=this.auth;this.fullUserKey=rh(this.userKey,s.apiKey,l),this.fullPersistenceKey=rh("persistence",s.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Th(this.auth,{idToken:e}).catch(()=>{});return t?qr._fromGetAccountInfoResponse(this.auth,t,e):null}return qr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new nl(Xi(aT),e,i);const s=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=s[0]||Xi(aT);const c=rh(i,e.config.apiKey,e.name);let d=null;for(const g of t)try{const v=await g._get(c);if(v){let E;if(typeof v=="string"){const b=await Th(e,{idToken:v}).catch(()=>{});if(!b)break;E=await qr._fromGetAccountInfoResponse(e,b,v)}else E=qr._fromJSON(e,v);g!==l&&(d=E),l=g;break}}catch{}const m=s.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new nl(l,e,i):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new nl(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(eA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(WS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nA(e))return"Blackberry";if(rA(e))return"Webos";if(ZS(e))return"Safari";if((e.includes("chrome/")||JS(e))&&!e.includes("edge/"))return"Chrome";if(tA(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function WS(n=Vn()){return/firefox\//i.test(n)}function ZS(n=Vn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function JS(n=Vn()){return/crios\//i.test(n)}function eA(n=Vn()){return/iemobile/i.test(n)}function tA(n=Vn()){return/android/i.test(n)}function nA(n=Vn()){return/blackberry/i.test(n)}function rA(n=Vn()){return/webos/i.test(n)}function my(n=Vn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function o2(n=Vn()){var e;return my(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function l2(){return TC()&&document.documentMode===10}function iA(n=Vn()){return my(n)||tA(n)||rA(n)||nA(n)||/windows phone/i.test(n)||eA(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(n,e=[]){let t;switch(n){case"Browser":t=sT(Vn());break;case"Worker":t=`${sT(Vn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${so}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,d)=>{try{const m=e(l);c(m)}catch(m){d(m)}});i.onAbort=t,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c2(n,e={}){return aa(n,"GET","/v2/passwordPolicy",is(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2=6;class h2{constructor(e){var t,i,s,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:f2,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,s,l,c,d;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(t=m.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),m.isValid&&(m.isValid=(i=m.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),m.isValid&&(m.isValid=(s=m.containsLowercaseLetter)!==null&&s!==void 0?s:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(c=m.containsNumericCharacter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(d=m.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),m}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,s,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e,t,i,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new oT(this),this.idTokenSubscription=new oT(this),this.beforeStateQueue=new u2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Xi(t)),this._initializationPromise=this.queue(async()=>{var i,s,l;if(!this._deleted&&(this.persistenceManager=await nl.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Th(this,{idToken:e}),i=await qr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Yn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=s==null?void 0:s._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===d)&&(m!=null&&m.user)&&(s=m.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await bh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=GD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Yn(this.app))return Promise.reject(Wi(this));const t=e?Vt(e):null;return t&&Le(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Yn(this.app)?Promise.reject(Wi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Yn(this.app)?Promise.reject(Wi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await c2(this),t=new h2(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new pc("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await s2(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Xi(e)||this._popupRedirectResolver;Le(t,this,"argument-error"),this.redirectPersistenceManager=await nl.create(this,[Xi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,s){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Le(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,i,s);return()=>{c=!0,m()}}else{const m=e.addObserver(t);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&jD(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function as(n){return Vt(n)}class oT{constructor(e){this.auth=e,this.observer=null,this.addObserver=DC(t=>this.observer=t)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function m2(n){Kh=n}function sA(n){return Kh.loadJS(n)}function p2(){return Kh.recaptchaEnterpriseScript}function g2(){return Kh.gapiScript}function y2(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class v2{constructor(){this.enterprise=new _2}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class _2{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const E2="recaptcha-enterprise",oA="NO_RECAPTCHA";class T2{constructor(e){this.type=E2,this.auth=as(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{ZD(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new WD(m);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(m=>{d(m)})})}function s(l,c,d){const m=window.grecaptcha;nT(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(oA)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new v2().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(d=>{if(!t&&nT(window.grecaptcha))s(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=p2();m.length!==0&&(m+=d),sA(m).then(()=>{s(d,l,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function lT(n,e,t,i=!1,s=!1){const l=new T2(n);let c;if(s)c=oA;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function lg(n,e,t,i,s){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await lT(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await lT(n,e,t,t==="getOobCode");return i(n,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b2(n,e){const t=$h(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),l=t.getOptions();if(Ya(l,e??{}))return s;kr(s,"already-initialized")}return t.initialize({options:e})}function S2(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Xi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function A2(n,e,t){const i=as(n);Le(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,l=lA(e),{host:c,port:d}=w2(e),m=d===null?"":`:${d}`,g={url:`${l}//${c}${m}/`},v=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){Le(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Le(Ya(g,i.config.emulator)&&Ya(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,R2(),_l(c)&&ay(`${l}//${c}${m}`)}function lA(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function w2(n){const e=lA(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const l=s[1];return{host:l,port:uT(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:uT(c)}}}function uT(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function R2(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Qi("not implemented")}_getIdTokenResponse(e){return Qi("not implemented")}_linkToIdToken(e,t){return Qi("not implemented")}_getReauthenticationResolver(e){return Qi("not implemented")}}async function I2(n,e){return aa(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C2(n,e){return vc(n,"POST","/v1/accounts:signInWithPassword",is(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D2(n,e){return vc(n,"POST","/v1/accounts:signInWithEmailLink",is(n,e))}async function O2(n,e){return vc(n,"POST","/v1/accounts:signInWithEmailLink",is(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc extends py{constructor(e,t,i,s=null){super("password",i),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new nc(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new nc(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lg(e,t,"signInWithPassword",C2);case"emailLink":return D2(e,{email:this._email,oobCode:this._password});default:kr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lg(e,i,"signUpPassword",I2);case"emailLink":return O2(e,{idToken:t,email:this._email,oobCode:this._password});default:kr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rl(n,e){return vc(n,"POST","/v1/accounts:signInWithIdp",is(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2="http://localhost";class eo extends py{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new eo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):kr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=t,l=uy(t,["providerId","signInMethod"]);if(!i||!s)return null;const c=new eo(i,s);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return rl(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,rl(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,rl(e,t)}buildRequest(){const e={requestUri:x2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=gc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function N2(n){const e=zu(Bu(n)).link,t=e?zu(Bu(e)).deep_link_id:null,i=zu(Bu(n)).deep_link_id;return(i?zu(Bu(i)).link:null)||i||t||e||n}class gy{constructor(e){var t,i,s,l,c,d;const m=zu(Bu(e)),g=(t=m.apiKey)!==null&&t!==void 0?t:null,v=(i=m.oobCode)!==null&&i!==void 0?i:null,E=M2((s=m.mode)!==null&&s!==void 0?s:null);Le(g&&v&&E,"argument-error"),this.apiKey=g,this.operation=E,this.code=v,this.continueUrl=(l=m.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=m.lang)!==null&&c!==void 0?c:null,this.tenantId=(d=m.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=N2(e);try{return new gy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(){this.providerId=El.PROVIDER_ID}static credential(e,t){return nc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=gy.parseLink(t);return Le(i,"argument-error"),nc._fromEmailAndCode(e,i.code,i.tenantId)}}El.PROVIDER_ID="password";El.EMAIL_PASSWORD_SIGN_IN_METHOD="password";El.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c extends yy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua extends _c{constructor(){super("facebook.com")}static credential(e){return eo._fromParams({providerId:Ua.PROVIDER_ID,signInMethod:Ua.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ua.credentialFromTaggedObject(e)}static credentialFromError(e){return Ua.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ua.credential(e.oauthAccessToken)}catch{return null}}}Ua.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ua.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends _c{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return eo._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Ki.credential(t,i)}catch{return null}}}Ki.GOOGLE_SIGN_IN_METHOD="google.com";Ki.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za extends _c{constructor(){super("github.com")}static credential(e){return eo._fromParams({providerId:za.PROVIDER_ID,signInMethod:za.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return za.credentialFromTaggedObject(e)}static credentialFromError(e){return za.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return za.credential(e.oauthAccessToken)}catch{return null}}}za.GITHUB_SIGN_IN_METHOD="github.com";za.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba extends _c{constructor(){super("twitter.com")}static credential(e,t){return eo._fromParams({providerId:Ba.PROVIDER_ID,signInMethod:Ba.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ba.credentialFromTaggedObject(e)}static credentialFromError(e){return Ba.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Ba.credential(t,i)}catch{return null}}}Ba.TWITTER_SIGN_IN_METHOD="twitter.com";Ba.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P2(n,e){return vc(n,"POST","/v1/accounts:signUp",is(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,s=!1){const l=await qr._fromIdTokenResponse(e,i,s),c=cT(i);return new to({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const s=cT(i);return new to({user:e,providerId:s,_tokenResponse:i,operationType:t})}}function cT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh extends Ti{constructor(e,t,i,s){var l;super(t.code,t.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Sh.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,s){return new Sh(e,t,i,s)}}function uA(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Sh._fromErrorAndOperation(n,l,e,i):l})}async function k2(n,e,t=!1){const i=await sl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return to._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V2(n,e,t=!1){const{auth:i}=n;if(Yn(i.app))return Promise.reject(Wi(i));const s="reauthenticate";try{const l=await sl(n,uA(i,s,e,n),t);Le(l.idToken,i,"internal-error");const c=dy(l.idToken);Le(c,i,"internal-error");const{sub:d}=c;return Le(n.uid===d,i,"user-mismatch"),to._forOperation(n,s,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&kr(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cA(n,e,t=!1){if(Yn(n.app))return Promise.reject(Wi(n));const i="signIn",s=await uA(n,i,e),l=await to._fromIdTokenResponse(n,i,s);return t||await n._updateCurrentUser(l.user),l}async function L2(n,e){return cA(as(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fA(n){const e=as(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function t6(n,e,t){if(Yn(n.app))return Promise.reject(Wi(n));const i=as(n),c=await lg(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",P2).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&fA(n),m}),d=await to._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(d.user),d}function n6(n,e,t){return Yn(n.app)?Promise.reject(Wi(n)):L2(Vt(n),El.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&fA(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U2(n,e){return aa(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r6(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=Vt(n),l={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=await sl(i,U2(i.auth,l));i.displayName=c.displayName||null,i.photoURL=c.photoUrl||null;const d=i.providerData.find(({providerId:m})=>m==="password");d&&(d.displayName=i.displayName,d.photoURL=i.photoURL),await i._updateTokensIfNecessary(c)}function z2(n,e,t,i){return Vt(n).onIdTokenChanged(e,t,i)}function B2(n,e,t){return Vt(n).beforeAuthStateChanged(e,t)}function j2(n,e,t,i){return Vt(n).onAuthStateChanged(e,t,i)}function i6(n){return Vt(n).signOut()}const Ah="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ah,"1"),this.storage.removeItem(Ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=1e3,F2=10;class dA extends hA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),s=this.localCache[t];i!==s&&e(t,s,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const i=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);l2()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,F2):s()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},H2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}dA.type="LOCAL";const q2=dA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA extends hA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}mA.type="SESSION";const pA=mA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const i=new Qh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:s,data:l}=t.data,c=this.handlersMap[s];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const d=Array.from(c).map(async g=>g(t.origin,l)),m=await G2(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const g=vy("",20);s.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},i);c={messageChannel:s,onMessage(E){const b=E;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(b.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),s.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[s.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(){return window}function K2(n){yi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(){return typeof yi().WorkerGlobalScope<"u"&&typeof yi().importScripts=="function"}async function Q2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function X2(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Y2(){return gA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA="firebaseLocalStorageDb",W2=1,wh="firebaseLocalStorage",vA="fbase_key";class Ec{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Xh(n,e){return n.transaction([wh],e?"readwrite":"readonly").objectStore(wh)}function Z2(){const n=indexedDB.deleteDatabase(yA);return new Ec(n).toPromise()}function ug(){const n=indexedDB.open(yA,W2);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(wh,{keyPath:vA})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(wh)?e(i):(i.close(),await Z2(),e(await ug()))})})}async function fT(n,e,t){const i=Xh(n,!0).put({[vA]:e,value:t});return new Ec(i).toPromise()}async function J2(n,e){const t=Xh(n,!1).get(e),i=await new Ec(t).toPromise();return i===void 0?null:i.value}function hT(n,e){const t=Xh(n,!0).delete(e);return new Ec(t).toPromise()}const eO=800,tO=3;class _A{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ug(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>tO)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qh._getInstance(Y2()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Q2(),!this.activeServiceWorker)return;this.sender=new $2(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||X2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ug();return await fT(e,Ah,"1"),await hT(e,Ah),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>fT(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>J2(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>hT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const l=Xh(s,!1).getAll();return new Ec(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:l}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(l)&&(this.notifyListeners(s,l),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_A.type="LOCAL";const nO=_A;new yc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(n,e){return e?Xi(e):(Le(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y extends py{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return rl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return rl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return rl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function rO(n){return cA(n.auth,new _y(n),n.bypassAuthState)}function iO(n){const{auth:e,user:t}=n;return Le(t,e,"internal-error"),V2(t,new _y(n),n.bypassAuthState)}async function aO(n){const{auth:e,user:t}=n;return Le(t,e,"internal-error"),k2(t,new _y(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e,t,i,s,l=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:s,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rO;case"linkViaPopup":case"linkViaRedirect":return aO;case"reauthViaPopup":case"reauthViaRedirect":return iO;default:kr(this.auth,"internal-error")}}resolve(e){ta(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ta(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO=new yc(2e3,1e4);async function a6(n,e,t){if(Yn(n.app))return Promise.reject($r(n,"operation-not-supported-in-this-environment"));const i=as(n);HD(n,e,yy);const s=EA(i,t);return new Qs(i,"signInViaPopup",e,s).executeNotNull()}class Qs extends TA{constructor(e,t,i,s,l){super(e,t,s,l),this.provider=i,this.authWindow=null,this.pollId=null,Qs.currentPopupAction&&Qs.currentPopupAction.cancel(),Qs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Le(e,this.auth,"internal-error"),e}async onExecution(){ta(this.filter.length===1,"Popup operations only handle one event");const e=vy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject($r(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject($r(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($r(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,sO.get())};e()}}Qs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO="pendingRedirect",ih=new Map;class lO extends TA{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=ih.get(this.auth._key());if(!e){try{const i=await uO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}ih.set(this.auth._key(),e)}return this.bypassAuthState||ih.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function uO(n,e){const t=hO(e),i=fO(n);if(!await i._isAvailable())return!1;const s=await i._get(t)==="true";return await i._remove(t),s}function cO(n,e){ih.set(n._key(),e)}function fO(n){return Xi(n._redirectPersistence)}function hO(n){return rh(oO,n.config.apiKey,n.name)}async function dO(n,e,t=!1){if(Yn(n.app))return Promise.reject(Wi(n));const i=as(n),s=EA(i,e),c=await new lO(i,s,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO=10*60*1e3;class pO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gO(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!bA(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError($r(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mO&&this.cachedEventUids.clear(),this.cachedEventUids.has(dT(e))}saveEventToCache(e){this.cachedEventUids.add(dT(e)),this.lastProcessedEventTime=Date.now()}}function dT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function bA({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function gO(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bA(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yO(n,e={}){return aa(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_O=/^https?/;async function EO(n){if(n.config.emulator)return;const{authorizedDomains:e}=await yO(n);for(const t of e)try{if(TO(t))return}catch{}kr(n,"unauthorized-domain")}function TO(n){const e=sg(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!_O.test(t))return!1;if(vO.test(n))return i===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO=new yc(3e4,6e4);function mT(){const n=yi().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function SO(n){return new Promise((e,t)=>{var i,s,l;function c(){mT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mT(),t($r(n,"network-request-failed"))},timeout:bO.get()})}if(!((s=(i=yi().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((l=yi().gapi)===null||l===void 0)&&l.load)c();else{const d=y2("iframefcb");return yi()[d]=()=>{gapi.load?c():t($r(n,"network-request-failed"))},sA(`${g2()}?onload=${d}`).catch(m=>t(m))}}).catch(e=>{throw ah=null,e})}let ah=null;function AO(n){return ah=ah||SO(n),ah}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO=new yc(5e3,15e3),RO="__/auth/iframe",IO="emulator/auth/iframe",CO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},DO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function OO(n){const e=n.config;Le(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?hy(e,IO):`https://${n.config.authDomain}/${RO}`,i={apiKey:e.apiKey,appName:n.name,v:so},s=DO.get(n.config.apiHost);s&&(i.eid=s);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${gc(i).slice(1)}`}async function xO(n){const e=await AO(n),t=yi().gapi;return Le(t,n,"internal-error"),e.open({where:document.body,url:OO(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:CO,dontclear:!0},i=>new Promise(async(s,l)=>{await i.restyle({setHideOnLeave:!1});const c=$r(n,"network-request-failed"),d=yi().setTimeout(()=>{l(c)},wO.get());function m(){yi().clearTimeout(d),s(i)}i.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},NO=500,PO=600,kO="_blank",VO="http://localhost";class pT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function LO(n,e,t,i=NO,s=PO){const l=Math.max((window.screen.availHeight-s)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const m=Object.assign(Object.assign({},MO),{width:i.toString(),height:s.toString(),top:l,left:c}),g=Vn().toLowerCase();t&&(d=JS(g)?kO:t),WS(g)&&(e=e||VO,m.scrollbars="yes");const v=Object.entries(m).reduce((b,[I,M])=>`${b}${I}=${M},`,"");if(o2(g)&&d!=="_self")return UO(e||"",d),new pT(null);const E=window.open(e||"",d,v);Le(E,n,"popup-blocked");try{E.focus()}catch{}return new pT(E)}function UO(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO="__/auth/handler",BO="emulator/auth/handler",jO=encodeURIComponent("fac");async function gT(n,e,t,i,s,l){Le(n.config.authDomain,n,"auth-domain-config-required"),Le(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:so,eventId:s};if(e instanceof yy){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",CC(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,E]of Object.entries({}))c[v]=E}if(e instanceof _c){const v=e.getScopes().filter(E=>E!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const m=await n._getAppCheckToken(),g=m?`#${jO}=${encodeURIComponent(m)}`:"";return`${HO(n)}?${gc(d).slice(1)}${g}`}function HO({config:n}){return n.emulator?hy(n,BO):`https://${n.authDomain}/${zO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np="webStorageSupport";class FO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pA,this._completeRedirectFn=dO,this._overrideRedirectResult=cO}async _openPopup(e,t,i,s){var l;ta((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await gT(e,t,i,sg(),s);return LO(e,c,vy())}async _openRedirect(e,t,i,s){await this._originValidation(e);const l=await gT(e,t,i,sg(),s);return K2(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:l}=this.eventManagers[t];return s?Promise.resolve(s):(ta(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await xO(e),i=new pO(e);return t.register("authEvent",s=>(Le(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Np,{type:Np},s=>{var l;const c=(l=s==null?void 0:s[0])===null||l===void 0?void 0:l[Np];c!==void 0&&t(!!c),kr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=EO(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return iA()||ZS()||my()}}const qO=FO;var yT="@firebase/auth",vT="1.10.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function KO(n){Js(new Wa("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Le(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aA(n)},g=new d2(i,s,l,m);return S2(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Js(new Wa("auth-internal",e=>{const t=as(e.getProvider("auth").getImmediate());return(i=>new GO(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),gi(yT,vT,$O(n)),gi(yT,vT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO=5*60,XO=LS("authIdTokenMaxAge")||QO;let _T=null;const YO=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>XO)return;const s=t==null?void 0:t.token;_T!==s&&(_T=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function WO(n=ly()){const e=$h(n,"auth");if(e.isInitialized())return e.getImmediate();const t=b2(n,{popupRedirectResolver:qO,persistence:[nO,q2,pA]}),i=LS("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=YO(l.toString());B2(t,c,()=>c(t.currentUser)),z2(t,d=>c(d))}}const s=PS("auth");return s&&A2(t,`http://${s}`),t}function ZO(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}m2({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=s=>{const l=$r("internal-error");l.customData=s,t(l)},i.type="text/javascript",i.charset="UTF-8",ZO().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});KO("Browser");var JO="firebase",ex="11.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gi(JO,ex,"app");var ET=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qa,SA;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,w){function C(){}C.prototype=w.prototype,S.D=w.prototype,S.prototype=new C,S.prototype.constructor=S,S.C=function(x,U,k){for(var O=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)O[Se-2]=arguments[Se];return w.prototype[U].apply(x,O)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(S,w,C){C||(C=0);var x=Array(16);if(typeof w=="string")for(var U=0;16>U;++U)x[U]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(U=0;16>U;++U)x[U]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=S.g[0],C=S.g[1],U=S.g[2];var k=S.g[3],O=w+(k^C&(U^k))+x[0]+3614090360&4294967295;w=C+(O<<7&4294967295|O>>>25),O=k+(U^w&(C^U))+x[1]+3905402710&4294967295,k=w+(O<<12&4294967295|O>>>20),O=U+(C^k&(w^C))+x[2]+606105819&4294967295,U=k+(O<<17&4294967295|O>>>15),O=C+(w^U&(k^w))+x[3]+3250441966&4294967295,C=U+(O<<22&4294967295|O>>>10),O=w+(k^C&(U^k))+x[4]+4118548399&4294967295,w=C+(O<<7&4294967295|O>>>25),O=k+(U^w&(C^U))+x[5]+1200080426&4294967295,k=w+(O<<12&4294967295|O>>>20),O=U+(C^k&(w^C))+x[6]+2821735955&4294967295,U=k+(O<<17&4294967295|O>>>15),O=C+(w^U&(k^w))+x[7]+4249261313&4294967295,C=U+(O<<22&4294967295|O>>>10),O=w+(k^C&(U^k))+x[8]+1770035416&4294967295,w=C+(O<<7&4294967295|O>>>25),O=k+(U^w&(C^U))+x[9]+2336552879&4294967295,k=w+(O<<12&4294967295|O>>>20),O=U+(C^k&(w^C))+x[10]+4294925233&4294967295,U=k+(O<<17&4294967295|O>>>15),O=C+(w^U&(k^w))+x[11]+2304563134&4294967295,C=U+(O<<22&4294967295|O>>>10),O=w+(k^C&(U^k))+x[12]+1804603682&4294967295,w=C+(O<<7&4294967295|O>>>25),O=k+(U^w&(C^U))+x[13]+4254626195&4294967295,k=w+(O<<12&4294967295|O>>>20),O=U+(C^k&(w^C))+x[14]+2792965006&4294967295,U=k+(O<<17&4294967295|O>>>15),O=C+(w^U&(k^w))+x[15]+1236535329&4294967295,C=U+(O<<22&4294967295|O>>>10),O=w+(U^k&(C^U))+x[1]+4129170786&4294967295,w=C+(O<<5&4294967295|O>>>27),O=k+(C^U&(w^C))+x[6]+3225465664&4294967295,k=w+(O<<9&4294967295|O>>>23),O=U+(w^C&(k^w))+x[11]+643717713&4294967295,U=k+(O<<14&4294967295|O>>>18),O=C+(k^w&(U^k))+x[0]+3921069994&4294967295,C=U+(O<<20&4294967295|O>>>12),O=w+(U^k&(C^U))+x[5]+3593408605&4294967295,w=C+(O<<5&4294967295|O>>>27),O=k+(C^U&(w^C))+x[10]+38016083&4294967295,k=w+(O<<9&4294967295|O>>>23),O=U+(w^C&(k^w))+x[15]+3634488961&4294967295,U=k+(O<<14&4294967295|O>>>18),O=C+(k^w&(U^k))+x[4]+3889429448&4294967295,C=U+(O<<20&4294967295|O>>>12),O=w+(U^k&(C^U))+x[9]+568446438&4294967295,w=C+(O<<5&4294967295|O>>>27),O=k+(C^U&(w^C))+x[14]+3275163606&4294967295,k=w+(O<<9&4294967295|O>>>23),O=U+(w^C&(k^w))+x[3]+4107603335&4294967295,U=k+(O<<14&4294967295|O>>>18),O=C+(k^w&(U^k))+x[8]+1163531501&4294967295,C=U+(O<<20&4294967295|O>>>12),O=w+(U^k&(C^U))+x[13]+2850285829&4294967295,w=C+(O<<5&4294967295|O>>>27),O=k+(C^U&(w^C))+x[2]+4243563512&4294967295,k=w+(O<<9&4294967295|O>>>23),O=U+(w^C&(k^w))+x[7]+1735328473&4294967295,U=k+(O<<14&4294967295|O>>>18),O=C+(k^w&(U^k))+x[12]+2368359562&4294967295,C=U+(O<<20&4294967295|O>>>12),O=w+(C^U^k)+x[5]+4294588738&4294967295,w=C+(O<<4&4294967295|O>>>28),O=k+(w^C^U)+x[8]+2272392833&4294967295,k=w+(O<<11&4294967295|O>>>21),O=U+(k^w^C)+x[11]+1839030562&4294967295,U=k+(O<<16&4294967295|O>>>16),O=C+(U^k^w)+x[14]+4259657740&4294967295,C=U+(O<<23&4294967295|O>>>9),O=w+(C^U^k)+x[1]+2763975236&4294967295,w=C+(O<<4&4294967295|O>>>28),O=k+(w^C^U)+x[4]+1272893353&4294967295,k=w+(O<<11&4294967295|O>>>21),O=U+(k^w^C)+x[7]+4139469664&4294967295,U=k+(O<<16&4294967295|O>>>16),O=C+(U^k^w)+x[10]+3200236656&4294967295,C=U+(O<<23&4294967295|O>>>9),O=w+(C^U^k)+x[13]+681279174&4294967295,w=C+(O<<4&4294967295|O>>>28),O=k+(w^C^U)+x[0]+3936430074&4294967295,k=w+(O<<11&4294967295|O>>>21),O=U+(k^w^C)+x[3]+3572445317&4294967295,U=k+(O<<16&4294967295|O>>>16),O=C+(U^k^w)+x[6]+76029189&4294967295,C=U+(O<<23&4294967295|O>>>9),O=w+(C^U^k)+x[9]+3654602809&4294967295,w=C+(O<<4&4294967295|O>>>28),O=k+(w^C^U)+x[12]+3873151461&4294967295,k=w+(O<<11&4294967295|O>>>21),O=U+(k^w^C)+x[15]+530742520&4294967295,U=k+(O<<16&4294967295|O>>>16),O=C+(U^k^w)+x[2]+3299628645&4294967295,C=U+(O<<23&4294967295|O>>>9),O=w+(U^(C|~k))+x[0]+4096336452&4294967295,w=C+(O<<6&4294967295|O>>>26),O=k+(C^(w|~U))+x[7]+1126891415&4294967295,k=w+(O<<10&4294967295|O>>>22),O=U+(w^(k|~C))+x[14]+2878612391&4294967295,U=k+(O<<15&4294967295|O>>>17),O=C+(k^(U|~w))+x[5]+4237533241&4294967295,C=U+(O<<21&4294967295|O>>>11),O=w+(U^(C|~k))+x[12]+1700485571&4294967295,w=C+(O<<6&4294967295|O>>>26),O=k+(C^(w|~U))+x[3]+2399980690&4294967295,k=w+(O<<10&4294967295|O>>>22),O=U+(w^(k|~C))+x[10]+4293915773&4294967295,U=k+(O<<15&4294967295|O>>>17),O=C+(k^(U|~w))+x[1]+2240044497&4294967295,C=U+(O<<21&4294967295|O>>>11),O=w+(U^(C|~k))+x[8]+1873313359&4294967295,w=C+(O<<6&4294967295|O>>>26),O=k+(C^(w|~U))+x[15]+4264355552&4294967295,k=w+(O<<10&4294967295|O>>>22),O=U+(w^(k|~C))+x[6]+2734768916&4294967295,U=k+(O<<15&4294967295|O>>>17),O=C+(k^(U|~w))+x[13]+1309151649&4294967295,C=U+(O<<21&4294967295|O>>>11),O=w+(U^(C|~k))+x[4]+4149444226&4294967295,w=C+(O<<6&4294967295|O>>>26),O=k+(C^(w|~U))+x[11]+3174756917&4294967295,k=w+(O<<10&4294967295|O>>>22),O=U+(w^(k|~C))+x[2]+718787259&4294967295,U=k+(O<<15&4294967295|O>>>17),O=C+(k^(U|~w))+x[9]+3951481745&4294967295,S.g[0]=S.g[0]+w&4294967295,S.g[1]=S.g[1]+(U+(O<<21&4294967295|O>>>11))&4294967295,S.g[2]=S.g[2]+U&4294967295,S.g[3]=S.g[3]+k&4294967295}i.prototype.u=function(S,w){w===void 0&&(w=S.length);for(var C=w-this.blockSize,x=this.B,U=this.h,k=0;k<w;){if(U==0)for(;k<=C;)s(this,S,k),k+=this.blockSize;if(typeof S=="string"){for(;k<w;)if(x[U++]=S.charCodeAt(k++),U==this.blockSize){s(this,x),U=0;break}}else for(;k<w;)if(x[U++]=S[k++],U==this.blockSize){s(this,x),U=0;break}}this.h=U,this.o+=w},i.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var w=1;w<S.length-8;++w)S[w]=0;var C=8*this.o;for(w=S.length-8;w<S.length;++w)S[w]=C&255,C/=256;for(this.u(S),S=Array(16),w=C=0;4>w;++w)for(var x=0;32>x;x+=8)S[C++]=this.g[w]>>>x&255;return S};function l(S,w){var C=d;return Object.prototype.hasOwnProperty.call(C,S)?C[S]:C[S]=w(S)}function c(S,w){this.h=w;for(var C=[],x=!0,U=S.length-1;0<=U;U--){var k=S[U]|0;x&&k==w||(C[U]=k,x=!1)}this.g=C}var d={};function m(S){return-128<=S&&128>S?l(S,function(w){return new c([w|0],0>w?-1:0)}):new c([S|0],0>S?-1:0)}function g(S){if(isNaN(S)||!isFinite(S))return E;if(0>S)return D(g(-S));for(var w=[],C=1,x=0;S>=C;x++)w[x]=S/C|0,C*=4294967296;return new c(w,0)}function v(S,w){if(S.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(S.charAt(0)=="-")return D(v(S.substring(1),w));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(w,8)),x=E,U=0;U<S.length;U+=8){var k=Math.min(8,S.length-U),O=parseInt(S.substring(U,U+k),w);8>k?(k=g(Math.pow(w,k)),x=x.j(k).add(g(O))):(x=x.j(C),x=x.add(g(O)))}return x}var E=m(0),b=m(1),I=m(16777216);n=c.prototype,n.m=function(){if(V(this))return-D(this).m();for(var S=0,w=1,C=0;C<this.g.length;C++){var x=this.i(C);S+=(0<=x?x:4294967296+x)*w,w*=4294967296}return S},n.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(M(this))return"0";if(V(this))return"-"+D(this).toString(S);for(var w=g(Math.pow(S,6)),C=this,x="";;){var U=te(C,w).g;C=Z(C,U.j(w));var k=((0<C.g.length?C.g[0]:C.h)>>>0).toString(S);if(C=U,M(C))return k+x;for(;6>k.length;)k="0"+k;x=k+x}},n.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function M(S){if(S.h!=0)return!1;for(var w=0;w<S.g.length;w++)if(S.g[w]!=0)return!1;return!0}function V(S){return S.h==-1}n.l=function(S){return S=Z(this,S),V(S)?-1:M(S)?0:1};function D(S){for(var w=S.g.length,C=[],x=0;x<w;x++)C[x]=~S.g[x];return new c(C,~S.h).add(b)}n.abs=function(){return V(this)?D(this):this},n.add=function(S){for(var w=Math.max(this.g.length,S.g.length),C=[],x=0,U=0;U<=w;U++){var k=x+(this.i(U)&65535)+(S.i(U)&65535),O=(k>>>16)+(this.i(U)>>>16)+(S.i(U)>>>16);x=O>>>16,k&=65535,O&=65535,C[U]=O<<16|k}return new c(C,C[C.length-1]&-2147483648?-1:0)};function Z(S,w){return S.add(D(w))}n.j=function(S){if(M(this)||M(S))return E;if(V(this))return V(S)?D(this).j(D(S)):D(D(this).j(S));if(V(S))return D(this.j(D(S)));if(0>this.l(I)&&0>S.l(I))return g(this.m()*S.m());for(var w=this.g.length+S.g.length,C=[],x=0;x<2*w;x++)C[x]=0;for(x=0;x<this.g.length;x++)for(var U=0;U<S.g.length;U++){var k=this.i(x)>>>16,O=this.i(x)&65535,Se=S.i(U)>>>16,De=S.i(U)&65535;C[2*x+2*U]+=O*De,j(C,2*x+2*U),C[2*x+2*U+1]+=k*De,j(C,2*x+2*U+1),C[2*x+2*U+1]+=O*Se,j(C,2*x+2*U+1),C[2*x+2*U+2]+=k*Se,j(C,2*x+2*U+2)}for(x=0;x<w;x++)C[x]=C[2*x+1]<<16|C[2*x];for(x=w;x<2*w;x++)C[x]=0;return new c(C,0)};function j(S,w){for(;(S[w]&65535)!=S[w];)S[w+1]+=S[w]>>>16,S[w]&=65535,w++}function Y(S,w){this.g=S,this.h=w}function te(S,w){if(M(w))throw Error("division by zero");if(M(S))return new Y(E,E);if(V(S))return w=te(D(S),w),new Y(D(w.g),D(w.h));if(V(w))return w=te(S,D(w)),new Y(D(w.g),w.h);if(30<S.g.length){if(V(S)||V(w))throw Error("slowDivide_ only works with positive integers.");for(var C=b,x=w;0>=x.l(S);)C=K(C),x=K(x);var U=he(C,1),k=he(x,1);for(x=he(x,2),C=he(C,2);!M(x);){var O=k.add(x);0>=O.l(S)&&(U=U.add(C),k=O),x=he(x,1),C=he(C,1)}return w=Z(S,U.j(w)),new Y(U,w)}for(U=E;0<=S.l(w);){for(C=Math.max(1,Math.floor(S.m()/w.m())),x=Math.ceil(Math.log(C)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),k=g(C),O=k.j(w);V(O)||0<O.l(S);)C-=x,k=g(C),O=k.j(w);M(k)&&(k=b),U=U.add(k),S=Z(S,O)}return new Y(U,S)}n.A=function(S){return te(this,S).h},n.and=function(S){for(var w=Math.max(this.g.length,S.g.length),C=[],x=0;x<w;x++)C[x]=this.i(x)&S.i(x);return new c(C,this.h&S.h)},n.or=function(S){for(var w=Math.max(this.g.length,S.g.length),C=[],x=0;x<w;x++)C[x]=this.i(x)|S.i(x);return new c(C,this.h|S.h)},n.xor=function(S){for(var w=Math.max(this.g.length,S.g.length),C=[],x=0;x<w;x++)C[x]=this.i(x)^S.i(x);return new c(C,this.h^S.h)};function K(S){for(var w=S.g.length+1,C=[],x=0;x<w;x++)C[x]=S.i(x)<<1|S.i(x-1)>>>31;return new c(C,S.h)}function he(S,w){var C=w>>5;w%=32;for(var x=S.g.length-C,U=[],k=0;k<x;k++)U[k]=0<w?S.i(k+C)>>>w|S.i(k+C+1)<<32-w:S.i(k+C);return new c(U,S.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,SA=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,Qa=c}).apply(typeof ET<"u"?ET:typeof self<"u"?self:typeof window<"u"?window:{});var Gf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var AA,ju,wA,sh,cg,RA,IA,CA;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,y,_){return f==Array.prototype||f==Object.prototype||(f[y]=_.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gf=="object"&&Gf];for(var y=0;y<f.length;++y){var _=f[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=t(this);function s(f,y){if(y)e:{var _=i;f=f.split(".");for(var R=0;R<f.length-1;R++){var F=f[R];if(!(F in _))break e;_=_[F]}f=f[f.length-1],R=_[f],y=y(R),y!=R&&y!=null&&e(_,f,{configurable:!0,writable:!0,value:y})}}function l(f,y){f instanceof String&&(f+="");var _=0,R=!1,F={next:function(){if(!R&&_<f.length){var ee=_++;return{value:y(ee,f[ee]),done:!1}}return R=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}s("Array.prototype.values",function(f){return f||function(){return l(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function m(f){var y=typeof f;return y=y!="object"?y:f?Array.isArray(f)?"array":y:"null",y=="array"||y=="object"&&typeof f.length=="number"}function g(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function v(f,y,_){return f.call.apply(f.bind,arguments)}function E(f,y,_){if(!f)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,R),f.apply(y,F)}}return function(){return f.apply(y,arguments)}}function b(f,y,_){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:E,b.apply(null,arguments)}function I(f,y){var _=Array.prototype.slice.call(arguments,1);return function(){var R=_.slice();return R.push.apply(R,arguments),f.apply(this,R)}}function M(f,y){function _(){}_.prototype=y.prototype,f.aa=y.prototype,f.prototype=new _,f.prototype.constructor=f,f.Qb=function(R,F,ee){for(var me=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)me[nt-2]=arguments[nt];return y.prototype[F].apply(R,me)}}function V(f){const y=f.length;if(0<y){const _=Array(y);for(let R=0;R<y;R++)_[R]=f[R];return _}return[]}function D(f,y){for(let _=1;_<arguments.length;_++){const R=arguments[_];if(m(R)){const F=f.length||0,ee=R.length||0;f.length=F+ee;for(let me=0;me<ee;me++)f[F+me]=R[me]}else f.push(R)}}class Z{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function j(f){return/^[\s\xa0]*$/.test(f)}function Y(){var f=d.navigator;return f&&(f=f.userAgent)?f:""}function te(f){return te[" "](f),f}te[" "]=function(){};var K=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function he(f,y,_){for(const R in f)y.call(_,f[R],R,f)}function S(f,y){for(const _ in f)y.call(void 0,f[_],_,f)}function w(f){const y={};for(const _ in f)y[_]=f[_];return y}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(f,y){let _,R;for(let F=1;F<arguments.length;F++){R=arguments[F];for(_ in R)f[_]=R[_];for(let ee=0;ee<C.length;ee++)_=C[ee],Object.prototype.hasOwnProperty.call(R,_)&&(f[_]=R[_])}}function U(f){var y=1;f=f.split(":");const _=[];for(;0<y&&f.length;)_.push(f.shift()),y--;return f.length&&_.push(f.join(":")),_}function k(f){d.setTimeout(()=>{throw f},0)}function O(){var f=Ie;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class Se{constructor(){this.h=this.g=null}add(y,_){const R=De.get();R.set(y,_),this.h?this.h.next=R:this.g=R,this.h=R}}var De=new Z(()=>new J,f=>f.reset());class J{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,de=!1,Ie=new Se,L=()=>{const f=d.Promise.resolve(void 0);ue=()=>{f.then(re)}};var re=()=>{for(var f;f=O();){try{f.h.call(f.g)}catch(_){k(_)}var y=De;y.j(f),100>y.h&&(y.h++,f.next=y.g,y.g=f)}de=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var be=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const _=()=>{};d.addEventListener("test",_,y),d.removeEventListener("test",_,y)}catch{}return f}();function Oe(f,y){if(fe.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var _=this.type=f.type,R=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget){if(K){e:{try{te(y.nodeName);var F=!0;break e}catch{}F=!1}F||(y=null)}}else _=="mouseover"?y=f.fromElement:_=="mouseout"&&(y=f.toElement);this.relatedTarget=y,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Ce[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Oe.aa.h.call(this)}}M(Oe,fe);var Ce={2:"touch",3:"pen",4:"mouse"};Oe.prototype.h=function(){Oe.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var st="closure_listenable_"+(1e6*Math.random()|0),ot=0;function Ln(f,y,_,R,F){this.listener=f,this.proxy=null,this.src=y,this.type=_,this.capture=!!R,this.ha=F,this.key=++ot,this.da=this.fa=!1}function Jn(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function er(f){this.src=f,this.g={},this.h=0}er.prototype.add=function(f,y,_,R,F){var ee=f.toString();f=this.g[ee],f||(f=this.g[ee]=[],this.h++);var me=_n(f,y,R,F);return-1<me?(y=f[me],_||(y.fa=!1)):(y=new Ln(y,this.src,ee,!!R,F),y.fa=_,f.push(y)),y};function xt(f,y){var _=y.type;if(_ in f.g){var R=f.g[_],F=Array.prototype.indexOf.call(R,y,void 0),ee;(ee=0<=F)&&Array.prototype.splice.call(R,F,1),ee&&(Jn(y),f.g[_].length==0&&(delete f.g[_],f.h--))}}function _n(f,y,_,R){for(var F=0;F<f.length;++F){var ee=f[F];if(!ee.da&&ee.listener==y&&ee.capture==!!_&&ee.ha==R)return F}return-1}var Yr="closure_lm_"+(1e6*Math.random()|0),ds={};function _r(f,y,_,R,F){if(Array.isArray(y)){for(var ee=0;ee<y.length;ee++)_r(f,y[ee],_,R,F);return null}return _=Wr(_),f&&f[st]?f.K(y,_,g(R)?!!R.capture:!1,F):jn(f,y,_,!1,R,F)}function jn(f,y,_,R,F,ee){if(!y)throw Error("Invalid event type");var me=g(F)?!!F.capture:!!F,nt=la(f);if(nt||(f[Yr]=nt=new er(f)),_=nt.add(y,_,R,me,ee),_.proxy)return _;if(R=Ml(),_.proxy=R,R.src=f,R.listener=_,f.addEventListener)be||(F=me),F===void 0&&(F=!1),f.addEventListener(y.toString(),R,F);else if(f.attachEvent)f.attachEvent(Si(y.toString()),R);else if(f.addListener&&f.removeListener)f.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ml(){function f(_){return y.call(f.src,f.listener,_)}const y=Nl;return f}function sa(f,y,_,R,F){if(Array.isArray(y))for(var ee=0;ee<y.length;ee++)sa(f,y[ee],_,R,F);else R=g(R)?!!R.capture:!!R,_=Wr(_),f&&f[st]?(f=f.i,y=String(y).toString(),y in f.g&&(ee=f.g[y],_=_n(ee,_,R,F),-1<_&&(Jn(ee[_]),Array.prototype.splice.call(ee,_,1),ee.length==0&&(delete f.g[y],f.h--)))):f&&(f=la(f))&&(y=f.g[y.toString()],f=-1,y&&(f=_n(y,_,R,F)),(_=-1<f?y[f]:null)&&oa(_))}function oa(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[st])xt(y.i,f);else{var _=f.type,R=f.proxy;y.removeEventListener?y.removeEventListener(_,R,f.capture):y.detachEvent?y.detachEvent(Si(_),R):y.addListener&&y.removeListener&&y.removeListener(R),(_=la(y))?(xt(_,f),_.h==0&&(_.src=null,y[Yr]=null)):Jn(f)}}}function Si(f){return f in ds?ds[f]:ds[f]="on"+f}function Nl(f,y){if(f.da)f=!0;else{y=new Oe(y,this);var _=f.listener,R=f.ha||f.src;f.fa&&oa(f),f=_.call(R,y)}return f}function la(f){return f=f[Yr],f instanceof er?f:null}var tr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wr(f){return typeof f=="function"?f:(f[tr]||(f[tr]=function(y){return f.handleEvent(y)}),f[tr])}function Mt(){ce.call(this),this.i=new er(this),this.M=this,this.F=null}M(Mt,ce),Mt.prototype[st]=!0,Mt.prototype.removeEventListener=function(f,y,_,R){sa(this,f,y,_,R)};function lt(f,y){var _,R=f.F;if(R)for(_=[];R;R=R.F)_.push(R);if(f=f.M,R=y.type||y,typeof y=="string")y=new fe(y,f);else if(y instanceof fe)y.target=y.target||f;else{var F=y;y=new fe(R,f),x(y,F)}if(F=!0,_)for(var ee=_.length-1;0<=ee;ee--){var me=y.g=_[ee];F=zt(me,R,!0,y)&&F}if(me=y.g=f,F=zt(me,R,!0,y)&&F,F=zt(me,R,!1,y)&&F,_)for(ee=0;ee<_.length;ee++)me=y.g=_[ee],F=zt(me,R,!1,y)&&F}Mt.prototype.N=function(){if(Mt.aa.N.call(this),this.i){var f=this.i,y;for(y in f.g){for(var _=f.g[y],R=0;R<_.length;R++)Jn(_[R]);delete f.g[y],f.h--}}this.F=null},Mt.prototype.K=function(f,y,_,R){return this.i.add(String(f),y,!1,_,R)},Mt.prototype.L=function(f,y,_,R){return this.i.add(String(f),y,!0,_,R)};function zt(f,y,_,R){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();for(var F=!0,ee=0;ee<y.length;++ee){var me=y[ee];if(me&&!me.da&&me.capture==_){var nt=me.listener,tn=me.ha||me.src;me.fa&&xt(f.i,me),F=nt.call(tn,R)!==!1&&F}}return F&&!R.defaultPrevented}function It(f,y,_){if(typeof f=="function")_&&(f=b(f,_));else if(f&&typeof f.handleEvent=="function")f=b(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(f,y||0)}function ms(f){f.g=It(()=>{f.g=null,f.i&&(f.i=!1,ms(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class ua extends ce{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ms(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ai(f){ce.call(this),this.h=f,this.g={}}M(Ai,ce);var Cn=[];function Zr(f){he(f.g,function(y,_){this.g.hasOwnProperty(_)&&oa(y)},f),f.g={}}Ai.prototype.N=function(){Ai.aa.N.call(this),Zr(this)},Ai.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hn=d.JSON.stringify,wi=d.JSON.parse,Ri=class{stringify(f){return d.JSON.stringify(f,void 0)}parse(f){return d.JSON.parse(f,void 0)}};function ca(){}ca.prototype.h=null;function Jr(f){return f.h||(f.h=f.i())}function fa(){}var nr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function rr(){fe.call(this,"d")}M(rr,fe);function ps(){fe.call(this,"c")}M(ps,fe);var ir={},gs=null;function Lr(){return gs=gs||new Mt}ir.La="serverreachability";function Ur(f){fe.call(this,ir.La,f)}M(Ur,fe);function ar(f){const y=Lr();lt(y,new Ur(y))}ir.STAT_EVENT="statevent";function uo(f,y){fe.call(this,ir.STAT_EVENT,f),this.stat=y}M(uo,fe);function Ct(f){const y=Lr();lt(y,new uo(y,f))}ir.Ma="timingevent";function P(f,y){fe.call(this,ir.Ma,f),this.size=y}M(P,fe);function B(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){f()},y)}function Q(){this.g=!0}Q.prototype.xa=function(){this.g=!1};function le(f,y,_,R,F,ee){f.info(function(){if(f.g)if(ee)for(var me="",nt=ee.split("&"),tn=0;tn<nt.length;tn++){var rt=nt[tn].split("=");if(1<rt.length){var hn=rt[0];rt=rt[1];var nn=hn.split("_");me=2<=nn.length&&nn[1]=="type"?me+(hn+"="+rt+"&"):me+(hn+"=redacted&")}}else me=null;else me=ee;return"XMLHTTP REQ ("+R+") [attempt "+F+"]: "+y+`
`+_+`
`+me})}function pe(f,y,_,R,F,ee,me){f.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+F+"]: "+y+`
`+_+`
`+ee+" "+me})}function we(f,y,_,R){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+ye(f,_)+(R?" "+R:"")})}function Ne(f,y){f.info(function(){return"TIMEOUT: "+y})}Q.prototype.info=function(){};function ye(f,y){if(!f.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(f=0;f<_.length;f++)if(Array.isArray(_[f])){var R=_[f];if(!(2>R.length)){var F=R[1];if(Array.isArray(F)&&!(1>F.length)){var ee=F[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(var me=1;me<F.length;me++)F[me]=""}}}}return Hn(_)}catch{return y}}var ve={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ge={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_e;function Me(){}M(Me,ca),Me.prototype.g=function(){return new XMLHttpRequest},Me.prototype.i=function(){return{}},_e=new Me;function ke(f,y,_,R){this.j=f,this.i=y,this.l=_,this.R=R||1,this.U=new Ai(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new qe}function qe(){this.i=null,this.g="",this.h=!1}var ut={},Ke={};function tt(f,y,_){f.L=1,f.v=Es(lr(y)),f.m=_,f.P=!0,Dn(f,null)}function Dn(f,y){f.F=Date.now(),ln(f),f.A=lr(f.v);var _=f.A,R=f.R;Array.isArray(R)||(R=[String(R)]),Ll(_.i,"t",R),f.C=0,_=f.j.J,f.h=new qe,f.g=zc(f.j,_?y:null,!f.m),0<f.O&&(f.M=new ua(b(f.Y,f,f.g),f.O)),y=f.U,_=f.g,R=f.ca;var F="readystatechange";Array.isArray(F)||(F&&(Cn[0]=F.toString()),F=Cn);for(var ee=0;ee<F.length;ee++){var me=_r(_,F[ee],R||y.handleEvent,!1,y.h||y);if(!me)break;y.g[me.key]=me}y=f.H?w(f.H):{},f.m?(f.u||(f.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,y)):(f.u="GET",f.g.ea(f.A,f.u,null,y)),ar(),le(f.i,f.u,f.A,f.l,f.R,f.m)}ke.prototype.ca=function(f){f=f.target;const y=this.M;y&&wr(f)==3?y.j():this.Y(f)},ke.prototype.Y=function(f){try{if(f==this.g)e:{const nn=wr(this.g);var y=this.g.Ba();const Ni=this.g.Z();if(!(3>nn)&&(nn!=3||this.g&&(this.h.h||this.g.oa()||xc(this.g)))){this.J||nn!=4||y==7||(y==8||0>=Ni?ar(3):ar(2)),qn(this);var _=this.g.Z();this.X=_;t:if(ei(this)){var R=xc(this.g);f="";var F=R.length,ee=wr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bt(this),un(this);var me="";break t}this.h.i=new d.TextDecoder}for(y=0;y<F;y++)this.h.h=!0,f+=this.h.i.decode(R[y],{stream:!(ee&&y==F-1)});R.length=0,this.h.g+=f,this.C=0,me=this.h.g}else me=this.g.oa();if(this.o=_==200,pe(this.i,this.u,this.A,this.l,this.R,nn,_),this.o){if(this.T&&!this.K){t:{if(this.g){var nt,tn=this.g;if((nt=tn.g?tn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(nt)){var rt=nt;break t}}rt=null}if(_=rt)we(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Er(this,_);else{this.o=!1,this.s=3,Ct(12),Bt(this),un(this);break e}}if(this.P){_=!0;let En;for(;!this.J&&this.C<me.length;)if(En=Fn(this,me),En==Ke){nn==4&&(this.s=4,Ct(14),_=!1),we(this.i,this.l,null,"[Incomplete Response]");break}else if(En==ut){this.s=4,Ct(15),we(this.i,this.l,me,"[Invalid Chunk]"),_=!1;break}else we(this.i,this.l,En,null),Er(this,En);if(ei(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nn!=4||me.length!=0||this.h.h||(this.s=1,Ct(16),_=!1),this.o=this.o&&_,!_)we(this.i,this.l,me,"[Invalid Chunked Response]"),Bt(this),un(this);else if(0<me.length&&!this.W){this.W=!0;var hn=this.j;hn.g==this&&hn.ba&&!hn.M&&(hn.j.info("Great, no buffering proxy detected. Bytes received: "+me.length),Cs(hn),hn.M=!0,Ct(11))}}else we(this.i,this.l,me,null),Er(this,me);nn==4&&Bt(this),this.o&&!this.J&&(nn==4?Vc(this.j,this):(this.o=!1,ln(this)))}else Dd(this.g),_==400&&0<me.indexOf("Unknown SID")?(this.s=3,Ct(12)):(this.s=0,Ct(13)),Bt(this),un(this)}}}catch{}finally{}};function ei(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Fn(f,y){var _=f.C,R=y.indexOf(`
`,_);return R==-1?Ke:(_=Number(y.substring(_,R)),isNaN(_)?ut:(R+=1,R+_>y.length?Ke:(y=y.slice(R,R+_),f.C=R+_,y)))}ke.prototype.cancel=function(){this.J=!0,Bt(this)};function ln(f){f.S=Date.now()+f.I,ha(f,f.I)}function ha(f,y){if(f.B!=null)throw Error("WatchDog timer not null");f.B=B(b(f.ba,f),y)}function qn(f){f.B&&(d.clearTimeout(f.B),f.B=null)}ke.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Ne(this.i,this.A),this.L!=2&&(ar(),Ct(17)),Bt(this),this.s=2,un(this)):ha(this,this.S-f)};function un(f){f.j.G==0||f.J||Vc(f.j,f)}function Bt(f){qn(f);var y=f.M;y&&typeof y.ma=="function"&&y.ma(),f.M=null,Zr(f.U),f.g&&(y=f.g,f.g=null,y.abort(),y.ma())}function Er(f,y){try{var _=f.j;if(_.G!=0&&(_.g==f||Dt(_.h,f))){if(!f.K&&Dt(_.h,f)&&_.G==3){try{var R=_.Da.g.parse(y)}catch{R=null}if(Array.isArray(R)&&R.length==3){var F=R;if(F[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<f.F)_o(_),yo(_);else break e;Hl(_),Ct(18)}}else _.za=F[1],0<_.za-_.T&&37500>F[2]&&_.F&&_.v==0&&!_.C&&(_.C=B(b(_.Za,_),6e3));if(1>=Tr(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Mi(_,11)}else if((f.K||_.g==f)&&_o(_),!j(y))for(F=_.Da.g.parse(y),y=0;y<F.length;y++){let rt=F[y];if(_.T=rt[0],rt=rt[1],_.G==2)if(rt[0]=="c"){_.K=rt[1],_.ia=rt[2];const hn=rt[3];hn!=null&&(_.la=hn,_.j.info("VER="+_.la));const nn=rt[4];nn!=null&&(_.Aa=nn,_.j.info("SVER="+_.Aa));const Ni=rt[5];Ni!=null&&typeof Ni=="number"&&0<Ni&&(R=1.5*Ni,_.L=R,_.j.info("backChannelRequestTimeoutMs_="+R)),R=_;const En=f.g;if(En){const oi=En.g?En.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oi){var ee=R.h;ee.g||oi.indexOf("spdy")==-1&&oi.indexOf("quic")==-1&&oi.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(or(ee,ee.h),ee.h=null))}if(R.D){const ql=En.g?En.g.getResponseHeader("X-HTTP-Session-Id"):null;ql&&(R.ya=ql,_t(R.I,R.D,ql))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-f.F,_.j.info("Handshake RTT: "+_.R+"ms")),R=_;var me=f;if(R.qa=Uc(R,R.J?R.ia:null,R.W),me.K){cn(R.h,me);var nt=me,tn=R.L;tn&&(nt.I=tn),nt.B&&(qn(nt),ln(nt)),R.g=me}else Pc(R);0<_.i.length&&vo(_)}else rt[0]!="stop"&&rt[0]!="close"||Mi(_,7);else _.G==3&&(rt[0]=="stop"||rt[0]=="close"?rt[0]=="stop"?Mi(_,7):Bl(_):rt[0]!="noop"&&_.l&&_.l.ta(rt),_.v=0)}}ar(4)}catch{}}var Xe=class{constructor(f,y){this.g=f,this.map=y}};function ct(f){this.l=f||10,d.PerformanceNavigationTiming?(f=d.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sr(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Tr(f){return f.h?1:f.g?f.g.size:0}function Dt(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function or(f,y){f.g?f.g.add(y):f.h=y}function cn(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}ct.prototype.cancel=function(){if(this.i=ys(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function ys(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const _ of f.g.values())y=y.concat(_.D);return y}return V(f.i)}function wd(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(m(f)){for(var y=[],_=f.length,R=0;R<_;R++)y.push(f[R]);return y}y=[],_=0;for(R in f)y[_++]=f[R];return y}function co(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(m(f)||typeof f=="string"){var y=[];f=f.length;for(var _=0;_<f;_++)y.push(_);return y}y=[],_=0;for(const R in f)y[_++]=R;return y}}}function Pl(f,y){if(f.forEach&&typeof f.forEach=="function")f.forEach(y,void 0);else if(m(f)||typeof f=="string")Array.prototype.forEach.call(f,y,void 0);else for(var _=co(f),R=wd(f),F=R.length,ee=0;ee<F;ee++)y.call(void 0,R[ee],_&&_[ee],f)}var vs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rd(f,y){if(f){f=f.split("&");for(var _=0;_<f.length;_++){var R=f[_].indexOf("="),F=null;if(0<=R){var ee=f[_].substring(0,R);F=f[_].substring(R+1)}else ee=f[_];y(ee,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Qt(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Qt){this.h=f.h,_s(this,f.j),this.o=f.o,this.g=f.g,da(this,f.s),this.l=f.l;var y=f.i,_=new Ci;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Ii(this,_),this.m=f.m}else f&&(y=String(f).match(vs))?(this.h=!1,_s(this,y[1]||"",!0),this.o=br(y[2]||""),this.g=br(y[3]||"",!0),da(this,y[4]),this.l=br(y[5]||"",!0),Ii(this,y[6]||"",!0),this.m=br(y[7]||"")):(this.h=!1,this.i=new Ci(null,this.h))}Qt.prototype.toString=function(){var f=[],y=this.j;y&&f.push(Ts(y,kl,!0),":");var _=this.g;return(_||y=="file")&&(f.push("//"),(y=this.o)&&f.push(Ts(y,kl,!0),"@"),f.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&f.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&f.push("/"),f.push(Ts(_,_.charAt(0)=="/"?Id:Vl,!0))),(_=this.i.toString())&&f.push("?",_),(_=this.m)&&f.push("#",Ts(_,fo)),f.join("")};function lr(f){return new Qt(f)}function _s(f,y,_){f.j=_?br(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function da(f,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);f.s=y}else f.s=null}function Ii(f,y,_){y instanceof Ci?(f.i=y,Dc(f.i,f.h)):(_||(y=Ts(y,Cd)),f.i=new Ci(y,f.h))}function _t(f,y,_){f.i.set(y,_)}function Es(f){return _t(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function br(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Ts(f,y,_){return typeof f=="string"?(f=encodeURI(f).replace(y,Cc),_&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Cc(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var kl=/[#\/\?@]/g,Vl=/[#\?:]/g,Id=/[#\?]/g,Cd=/[#\?@]/g,fo=/#/g;function Ci(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function Sr(f){f.g||(f.g=new Map,f.h=0,f.i&&Rd(f.i,function(y,_){f.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}n=Ci.prototype,n.add=function(f,y){Sr(this),this.i=null,f=ti(this,f);var _=this.g.get(f);return _||this.g.set(f,_=[]),_.push(y),this.h+=1,this};function Di(f,y){Sr(f),y=ti(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function Oi(f,y){return Sr(f),y=ti(f,y),f.g.has(y)}n.forEach=function(f,y){Sr(this),this.g.forEach(function(_,R){_.forEach(function(F){f.call(y,F,R,this)},this)},this)},n.na=function(){Sr(this);const f=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let R=0;R<y.length;R++){const F=f[R];for(let ee=0;ee<F.length;ee++)_.push(y[R])}return _},n.V=function(f){Sr(this);let y=[];if(typeof f=="string")Oi(this,f)&&(y=y.concat(this.g.get(ti(this,f))));else{f=Array.from(this.g.values());for(let _=0;_<f.length;_++)y=y.concat(f[_])}return y},n.set=function(f,y){return Sr(this),this.i=null,f=ti(this,f),Oi(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},n.get=function(f,y){return f?(f=this.V(f),0<f.length?String(f[0]):y):y};function Ll(f,y,_){Di(f,y),0<_.length&&(f.i=null,f.g.set(ti(f,y),V(_)),f.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var R=y[_];const ee=encodeURIComponent(String(R)),me=this.V(R);for(R=0;R<me.length;R++){var F=ee;me[R]!==""&&(F+="="+encodeURIComponent(String(me[R]))),f.push(F)}}return this.i=f.join("&")};function ti(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function Dc(f,y){y&&!f.j&&(Sr(f),f.i=null,f.g.forEach(function(_,R){var F=R.toLowerCase();R!=F&&(Di(this,R),Ll(this,F,_))},f)),f.j=y}function bs(f,y){const _=new Q;if(d.Image){const R=new Image;R.onload=I(Ar,_,"TestLoadImage: loaded",!0,y,R),R.onerror=I(Ar,_,"TestLoadImage: error",!1,y,R),R.onabort=I(Ar,_,"TestLoadImage: abort",!1,y,R),R.ontimeout=I(Ar,_,"TestLoadImage: timeout",!1,y,R),d.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=f}else y(!1)}function zr(f,y){const _=new Q,R=new AbortController,F=setTimeout(()=>{R.abort(),Ar(_,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:R.signal}).then(ee=>{clearTimeout(F),ee.ok?Ar(_,"TestPingServer: ok",!0,y):Ar(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(F),Ar(_,"TestPingServer: error",!1,y)})}function Ar(f,y,_,R,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),R(_)}catch{}}function Ss(){this.g=new Ri}function ni(f,y,_){const R=_||"";try{Pl(f,function(F,ee){let me=F;g(F)&&(me=Hn(F)),y.push(R+ee+"="+encodeURIComponent(me))})}catch(F){throw y.push(R+"type="+encodeURIComponent("_badmap")),F}}function ma(f){this.l=f.Ub||null,this.j=f.eb||!1}M(ma,ca),ma.prototype.g=function(){return new xi(this.l,this.j)},ma.prototype.i=function(f){return function(){return f}}({});function xi(f,y){Mt.call(this),this.D=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(xi,Mt),n=xi.prototype,n.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=y,this.readyState=1,ii(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(y.body=f),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ri(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,ii(this)),this.g&&(this.readyState=3,ii(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ul(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ul(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?ri(this):ii(this),this.readyState==3&&Ul(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,ri(this))},n.Qa=function(f){this.g&&(this.response=f,ri(this))},n.ga=function(){this.g&&ri(this)};function ri(f){f.readyState=4,f.l=null,f.j=null,f.v=null,ii(f)}n.setRequestHeader=function(f,y){this.u.append(f,y)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,f.push(_[0]+": "+_[1]),_=y.next();return f.join(`\r
`)};function ii(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(xi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function zl(f){let y="";return he(f,function(_,R){y+=R,y+=":",y+=_,y+=`\r
`}),y}function fn(f,y,_){e:{for(R in _){var R=!1;break e}R=!0}R||(_=zl(_),typeof f=="string"?_!=null&&encodeURIComponent(String(_)):_t(f,y,_))}function dt(f){Mt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(dt,Mt);var ho=/^https?$/i,As=["POST","PUT"];n=dt.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,y,_,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_e.g(),this.v=this.o?Jr(this.o):Jr(_e),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(ee){Oc(this,ee);return}if(f=_||"",_=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var F in R)_.set(F,R[F]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const ee of R.keys())_.set(ee,R.get(ee));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(_.keys()).find(ee=>ee.toLowerCase()=="content-type"),F=d.FormData&&f instanceof d.FormData,!(0<=Array.prototype.indexOf.call(As,y,void 0))||R||F||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,me]of _)this.g.setRequestHeader(ee,me);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ws(this),this.u=!0,this.g.send(f),this.u=!1}catch(ee){Oc(this,ee)}};function Oc(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.m=5,mo(f),ai(f)}function mo(f){f.A||(f.A=!0,lt(f,"complete"),lt(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,lt(this,"complete"),lt(this,"abort"),ai(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ai(this,!0)),dt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?po(this):this.bb())},n.bb=function(){po(this)};function po(f){if(f.h&&typeof c<"u"&&(!f.v[1]||wr(f)!=4||f.Z()!=2)){if(f.u&&wr(f)==4)It(f.Ea,0,f);else if(lt(f,"readystatechange"),wr(f)==4){f.h=!1;try{const me=f.Z();e:switch(me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var R;if(R=me===0){var F=String(f.D).match(vs)[1]||null;!F&&d.self&&d.self.location&&(F=d.self.location.protocol.slice(0,-1)),R=!ho.test(F?F.toLowerCase():"")}_=R}if(_)lt(f,"complete"),lt(f,"success");else{f.m=6;try{var ee=2<wr(f)?f.g.statusText:""}catch{ee=""}f.l=ee+" ["+f.Z()+"]",mo(f)}}finally{ai(f)}}}}function ai(f,y){if(f.g){ws(f);const _=f.g,R=f.v[0]?()=>{}:null;f.g=null,f.v=null,y||lt(f,"ready");try{_.onreadystatechange=R}catch{}}}function ws(f){f.I&&(d.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function wr(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<wr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),wi(y)}};function xc(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Dd(f){const y={};f=(f.g&&2<=wr(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<f.length;R++){if(j(f[R]))continue;var _=U(f[R]);const F=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const ee=y[F]||[];y[F]=ee,ee.push(_)}S(y,function(R){return R.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Rs(f,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[f]||y}function go(f){this.Aa=0,this.i=[],this.j=new Q,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Rs("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Rs("baseRetryDelayMs",5e3,f),this.cb=Rs("retryDelaySeedMs",1e4,f),this.Wa=Rs("forwardChannelMaxRetries",2,f),this.wa=Rs("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new ct(f&&f.concurrentRequestLimit),this.Da=new Ss,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=go.prototype,n.la=8,n.G=1,n.connect=function(f,y,_,R){Ct(0),this.W=f,this.H=y||{},_&&R!==void 0&&(this.H.OSID=_,this.H.OAID=R),this.F=this.X,this.I=Uc(this,null,this.W),vo(this)};function Bl(f){if(Mc(f),f.G==3){var y=f.U++,_=lr(f.I);if(_t(_,"SID",f.K),_t(_,"RID",y),_t(_,"TYPE","terminate"),Is(f,_),y=new ke(f,f.j,y),y.L=2,y.v=Es(lr(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=y.v,_=!0),_||(y.g=zc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ln(y)}Lc(f)}function yo(f){f.g&&(Cs(f),f.g.cancel(),f.g=null)}function Mc(f){yo(f),f.u&&(d.clearTimeout(f.u),f.u=null),_o(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&d.clearTimeout(f.s),f.s=null)}function vo(f){if(!sr(f.h)&&!f.s){f.s=!0;var y=f.Ga;ue||L(),de||(ue(),de=!0),Ie.add(y,f),f.B=0}}function Od(f,y){return Tr(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=y.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=B(b(f.Ga,f,y),Fl(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const F=new ke(this,this.j,f);let ee=this.o;if(this.S&&(ee?(ee=w(ee),x(ee,this.S)):ee=this.S),this.m!==null||this.O||(F.H=ee,ee=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var R=this.i[_];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(y+=R,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Nc(this,F,y),_=lr(this.I),_t(_,"RID",f),_t(_,"CVER",22),this.D&&_t(_,"X-HTTP-Session-Id",this.D),Is(this,_),ee&&(this.O?y="headers="+encodeURIComponent(String(zl(ee)))+"&"+y:this.m&&fn(_,this.m,ee)),or(this.h,F),this.Ua&&_t(_,"TYPE","init"),this.P?(_t(_,"$req",y),_t(_,"SID","null"),F.T=!0,tt(F,_,null)):tt(F,_,y),this.G=2}}else this.G==3&&(f?jl(this,f):this.i.length==0||sr(this.h)||jl(this))};function jl(f,y){var _;y?_=y.l:_=f.U++;const R=lr(f.I);_t(R,"SID",f.K),_t(R,"RID",_),_t(R,"AID",f.T),Is(f,R),f.m&&f.o&&fn(R,f.m,f.o),_=new ke(f,f.j,_,f.B+1),f.m===null&&(_.H=f.o),y&&(f.i=y.D.concat(f.i)),y=Nc(f,_,1e3),_.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),or(f.h,_),tt(_,R,y)}function Is(f,y){f.H&&he(f.H,function(_,R){_t(y,R,_)}),f.l&&Pl({},function(_,R){_t(y,R,_)})}function Nc(f,y,_){_=Math.min(f.i.length,_);var R=f.l?b(f.l.Na,f.l,f):null;e:{var F=f.i;let ee=-1;for(;;){const me=["count="+_];ee==-1?0<_?(ee=F[0].g,me.push("ofs="+ee)):ee=0:me.push("ofs="+ee);let nt=!0;for(let tn=0;tn<_;tn++){let rt=F[tn].g;const hn=F[tn].map;if(rt-=ee,0>rt)ee=Math.max(0,F[tn].g-100),nt=!1;else try{ni(hn,me,"req"+rt+"_")}catch{R&&R(hn)}}if(nt){R=me.join("&");break e}}}return f=f.i.splice(0,_),y.D=f,R}function Pc(f){if(!f.g&&!f.u){f.Y=1;var y=f.Fa;ue||L(),de||(ue(),de=!0),Ie.add(y,f),f.v=0}}function Hl(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=B(b(f.Fa,f),Fl(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,kc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=B(b(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ct(10),yo(this),kc(this))};function Cs(f){f.A!=null&&(d.clearTimeout(f.A),f.A=null)}function kc(f){f.g=new ke(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var y=lr(f.qa);_t(y,"RID","rpc"),_t(y,"SID",f.K),_t(y,"AID",f.T),_t(y,"CI",f.F?"0":"1"),!f.F&&f.ja&&_t(y,"TO",f.ja),_t(y,"TYPE","xmlhttp"),Is(f,y),f.m&&f.o&&fn(y,f.m,f.o),f.L&&(f.g.I=f.L);var _=f.g;f=f.ia,_.L=1,_.v=Es(lr(y)),_.m=null,_.P=!0,Dn(_,f)}n.Za=function(){this.C!=null&&(this.C=null,yo(this),Hl(this),Ct(19))};function _o(f){f.C!=null&&(d.clearTimeout(f.C),f.C=null)}function Vc(f,y){var _=null;if(f.g==y){_o(f),Cs(f),f.g=null;var R=2}else if(Dt(f.h,y))_=y.D,cn(f.h,y),R=1;else return;if(f.G!=0){if(y.o)if(R==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var F=f.B;R=Lr(),lt(R,new P(R,_)),vo(f)}else Pc(f);else if(F=y.s,F==3||F==0&&0<y.X||!(R==1&&Od(f,y)||R==2&&Hl(f)))switch(_&&0<_.length&&(y=f.h,y.i=y.i.concat(_)),F){case 1:Mi(f,5);break;case 4:Mi(f,10);break;case 3:Mi(f,6);break;default:Mi(f,2)}}}function Fl(f,y){let _=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(_*=2),_*y}function Mi(f,y){if(f.j.info("Error code "+y),y==2){var _=b(f.fb,f),R=f.Xa;const F=!R;R=new Qt(R||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||_s(R,"https"),Es(R),F?bs(R.toString(),_):zr(R.toString(),_)}else Ct(2);f.G=0,f.l&&f.l.sa(y),Lc(f),Mc(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function Lc(f){if(f.G=0,f.ka=[],f.l){const y=ys(f.h);(y.length!=0||f.i.length!=0)&&(D(f.ka,y),D(f.ka,f.i),f.h.i.length=0,V(f.i),f.i.length=0),f.l.ra()}}function Uc(f,y,_){var R=_ instanceof Qt?lr(_):new Qt(_);if(R.g!="")y&&(R.g=y+"."+R.g),da(R,R.s);else{var F=d.location;R=F.protocol,y=y?y+"."+F.hostname:F.hostname,F=+F.port;var ee=new Qt(null);R&&_s(ee,R),y&&(ee.g=y),F&&da(ee,F),_&&(ee.l=_),R=ee}return _=f.D,y=f.ya,_&&y&&_t(R,_,y),_t(R,"VER",f.la),Is(f,R),R}function zc(f,y,_){if(y&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Ca&&!f.pa?new dt(new ma({eb:_})):new dt(f.pa),y.Ha(f.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bc(){}n=Bc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Eo(){}Eo.prototype.g=function(f,y){return new Un(f,y)};function Un(f,y){Mt.call(this),this.g=new go(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(f?f["X-WebChannel-Client-Profile"]=y.va:f={"X-WebChannel-Client-Profile":y.va}),this.g.S=f,(f=y&&y.Sb)&&!j(f)&&(this.g.m=f),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!j(y)&&(this.g.D=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new si(this)}M(Un,Mt),Un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Un.prototype.close=function(){Bl(this.g)},Un.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var _={};_.__data__=f,f=_}else this.u&&(_={},_.__data__=Hn(f),f=_);y.i.push(new Xe(y.Ya++,f)),y.G==3&&vo(y)},Un.prototype.N=function(){this.g.l=null,delete this.j,Bl(this.g),delete this.g,Un.aa.N.call(this)};function jc(f){rr.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){e:{for(const _ in y){f=_;break e}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}M(jc,rr);function Hc(){ps.call(this),this.status=1}M(Hc,ps);function si(f){this.g=f}M(si,Bc),si.prototype.ua=function(){lt(this.g,"a")},si.prototype.ta=function(f){lt(this.g,new jc(f))},si.prototype.sa=function(f){lt(this.g,new Hc)},si.prototype.ra=function(){lt(this.g,"b")},Eo.prototype.createWebChannel=Eo.prototype.g,Un.prototype.send=Un.prototype.o,Un.prototype.open=Un.prototype.m,Un.prototype.close=Un.prototype.close,CA=function(){return new Eo},IA=function(){return Lr()},RA=ir,cg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ve.NO_ERROR=0,ve.TIMEOUT=8,ve.HTTP_ERROR=6,sh=ve,ge.COMPLETE="complete",wA=ge,fa.EventType=nr,nr.OPEN="a",nr.CLOSE="b",nr.ERROR="c",nr.MESSAGE="d",Mt.prototype.listen=Mt.prototype.K,ju=fa,dt.prototype.listenOnce=dt.prototype.L,dt.prototype.getLastError=dt.prototype.Ka,dt.prototype.getLastErrorCode=dt.prototype.Ba,dt.prototype.getStatus=dt.prototype.Z,dt.prototype.getResponseJson=dt.prototype.Oa,dt.prototype.getResponseText=dt.prototype.oa,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Ha,AA=dt}).apply(typeof Gf<"u"?Gf:typeof self<"u"?self:typeof window<"u"?window:{});const TT="@firebase/firestore",bT="4.7.12";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nn.UNAUTHENTICATED=new Nn(null),Nn.GOOGLE_CREDENTIALS=new Nn("google-credentials-uid"),Nn.FIRST_PARTY=new Nn("first-party-uid"),Nn.MOCK_USER=new Nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tl="11.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no=new sy("@firebase/firestore");function Wo(){return no.logLevel}function Ee(n,...e){if(no.logLevel<=Je.DEBUG){const t=e.map(Ey);no.debug(`Firestore (${Tl}): ${n}`,...t)}}function na(n,...e){if(no.logLevel<=Je.ERROR){const t=e.map(Ey);no.error(`Firestore (${Tl}): ${n}`,...t)}}function ol(n,...e){if(no.logLevel<=Je.WARN){const t=e.map(Ey);no.warn(`Firestore (${Tl}): ${n}`,...t)}}function Ey(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,DA(n,i,t)}function DA(n,e,t){let i=`FIRESTORE (${Tl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw na(i),new Error(i)}function pt(n,e,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,n||DA(e,s,i)}function je(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends Ti{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Nn.UNAUTHENTICATED))}shutdown(){}}class nx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class rx{constructor(e){this.t=e,this.currentUser=Nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){pt(this.o===void 0,42304);let i=this.i;const s=m=>this.i!==i?(i=this.i,t(m)):Promise.resolve();let l=new Zi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Zi,e.enqueueRetryable(()=>s(this.currentUser))};const c=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await s(this.currentUser)})},d=m=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Zi)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(pt(typeof i.accessToken=="string",31837,{l:i}),new OA(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return pt(e===null||typeof e=="string",2055,{h:e}),new Nn(e)}}class ix{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=Nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ax{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new ix(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ST{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sx{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){pt(this.o===void 0,3512);const i=l=>{l.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,Ee("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const s=l=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>s(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?s(l):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ST(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(pt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new ST(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=ox(40);for(let l=0;l<s.length;++l)i.length<20&&s[l]<t&&(i+=e.charAt(s[l]%62))}return i}}function $e(n,e){return n<e?-1:n>e?1:0}function fg(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),s=e.codePointAt(t);if(i!==s){if(i<128&&s<128)return $e(i,s);{const l=xA(),c=lx(l.encode(AT(n,t)),l.encode(AT(e,t)));return c!==0?c:$e(i,s)}}t+=i>65535?2:1}return $e(n.length,e.length)}function AT(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function lx(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return $e(n[t],e[t]);return $e(n.length,e.length)}function ll(n,e,t){return n.length===e.length&&n.every((i,s)=>t(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT=-62135596800,RT=1e6;class sn{static now(){return sn.fromMillis(Date.now())}static fromDate(e){return sn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*RT);return new sn(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Te(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Te(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<wT)throw new Te(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/RT}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-wT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{static fromTimestamp(e){return new Be(e)}static min(){return new Be(new sn(0,0))}static max(){return new Be(new sn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="__name__";class di{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ue(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Ue(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return di.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof di?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let s=0;s<i;s++){const l=di.compareSegments(e.get(s),t.get(s));if(l!==0)return l}return $e(e.length,t.length)}static compareSegments(e,t){const i=di.isNumericId(e),s=di.isNumericId(t);return i&&!s?-1:!i&&s?1:i&&s?di.extractNumericId(e).compare(di.extractNumericId(t)):fg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qa.fromString(e.substring(4,e.length-2))}}class Nt extends di{construct(e,t,i){return new Nt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Te(se.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(s=>s.length>0))}return new Nt(t)}static emptyPath(){return new Nt([])}}const ux=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wn extends di{construct(e,t,i){return new wn(e,t,i)}static isValidIdentifier(e){return ux.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===IT}static keyField(){return new wn([IT])}static fromServerFormat(e){const t=[];let i="",s=0;const l=()=>{if(i.length===0)throw new Te(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new Te(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[s+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new Te(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,s+=2}else d==="`"?(c=!c,s++):d!=="."||c?(i+=d,s++):(l(),s++)}if(l(),c)throw new Te(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wn(t)}static emptyPath(){return new wn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.path=e}static fromPath(e){return new xe(Nt.fromString(e))}static fromName(e){return new xe(Nt.fromString(e).popFirst(5))}static empty(){return new xe(Nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Nt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new Nt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc=-1;function cx(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=Be.fromTimestamp(i===1e9?new sn(t+1,0):new sn(t,i));return new Za(s,xe.empty(),e)}function fx(n){return new Za(n.readTime,n.key,rc)}class Za{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Za(Be.min(),xe.empty(),rc)}static max(){return new Za(Be.max(),xe.empty(),rc)}}function hx(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=xe.comparator(n.documentKey,e.documentKey),t!==0?t:$e(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bl(n){if(n.code!==se.FAILED_PRECONDITION||n.message!==dx)throw n;Ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ue(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new oe((i,s)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,s)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof oe?t:oe.resolve(t)}catch(t){return oe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):oe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):oe.reject(t)}static resolve(e){return new oe((t,i)=>{t(e)})}static reject(e){return new oe((t,i)=>{i(e)})}static waitFor(e){return new oe((t,i)=>{let s=0,l=0,c=!1;e.forEach(d=>{++s,d.next(()=>{++l,c&&l===s&&t()},m=>i(m))}),c=!0,l===s&&t()})}static or(e){let t=oe.resolve(!1);for(const i of e)t=t.next(s=>s?oe.resolve(s):i());return t}static forEach(e,t){const i=[];return e.forEach((s,l)=>{i.push(t.call(this,s,l))}),this.waitFor(i)}static mapArray(e,t){return new oe((i,s)=>{const l=e.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const g=m;t(e[g]).next(v=>{c[g]=v,++d,d===l&&i(c)},v=>s(v))}})}static doWhile(e,t){return new oe((i,s)=>{const l=()=>{e()===!0?t().next(()=>{l()},s):i()};l()})}}function px(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Sl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>t.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Yh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty=-1;function Wh(n){return n==null}function Rh(n){return n===0&&1/n==-1/0}function gx(n){return typeof n=="number"&&Number.isInteger(n)&&!Rh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA="";function yx(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=CT(e)),e=vx(n.get(t),e);return CT(e)}function vx(n,e){let t=e;const i=n.length;for(let s=0;s<i;s++){const l=n.charAt(s);switch(l){case"\0":t+="";break;case NA:t+="";break;default:t+=l}}return t}function CT(n){return n+NA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ss(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function PA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,t){this.comparator=e,this.root=t||An.EMPTY}insert(e,t){return new Ut(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,An.BLACK,null,null))}remove(e){return new Ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,An.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return t+i.left.size;s<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $f(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $f(this.root,e,this.comparator,!1)}getReverseIterator(){return new $f(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $f(this.root,e,this.comparator,!0)}}class $f{constructor(e,t,i,s){this.isReverse=s,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&s&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class An{constructor(e,t,i,s,l){this.key=e,this.value=t,this.color=i??An.RED,this.left=s??An.EMPTY,this.right=l??An.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,s,l){return new An(e??this.key,t??this.value,i??this.color,s??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this;const l=i(e,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(e,t,i),null):l===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return An.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return An.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,An.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,An.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ue(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ue(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ue(27949);return e+(this.isRed()?0:1)}}An.EMPTY=null,An.RED=!0,An.BLACK=!1;An.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue(57766)}get value(){throw Ue(16141)}get color(){throw Ue(16727)}get left(){throw Ue(29726)}get right(){throw Ue(36894)}copy(e,t,i,s,l){return this}insert(e,t,i){return new An(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.comparator=e,this.data=new Ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new OT(this.data.getIterator())}getIteratorFrom(e){return new OT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof on)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=i.getNext().key;if(this.comparator(s,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new on(this.comparator);return t.data=e,t}}class OT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this.fields=e,e.sort(wn.comparator)}static empty(){return new yr([])}unionWith(e){let t=new on(wn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new yr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ll(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new kA("Invalid base64 string: "+l):l}}(e);return new Rn(t)}static fromUint8Array(e){const t=function(s){let l="";for(let c=0;c<s.length;++c)l+=String.fromCharCode(s[c]);return l}(e);return new Rn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rn.EMPTY_BYTE_STRING=new Rn("");const _x=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ja(n){if(pt(!!n,39018),typeof n=="string"){let e=0;const t=_x.exec(n);if(pt(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Kt(n.seconds),nanos:Kt(n.nanos)}}function Kt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function es(n){return typeof n=="string"?Rn.fromBase64String(n):Rn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA="server_timestamp",LA="__type__",UA="__previous_value__",zA="__local_write_time__";function by(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[LA])===null||t===void 0?void 0:t.stringValue)===VA}function Zh(n){const e=n.mapValue.fields[UA];return by(e)?Zh(e):e}function ic(n){const e=Ja(n.mapValue.fields[zA].timestampValue);return new sn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e,t,i,s,l,c,d,m,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=s,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=v}}const Ih="(default)";class ac{constructor(e,t){this.projectId=e,this.database=t||Ih}static empty(){return new ac("","")}get isDefaultDatabase(){return this.database===Ih}isEqual(e){return e instanceof ac&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA="__type__",Tx="__max__",Kf={mapValue:{}},jA="__vector__",Ch="value";function ts(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?by(n)?4:Sx(n)?9007199254740991:bx(n)?10:11:Ue(28295,{value:n})}function Ei(n,e){if(n===e)return!0;const t=ts(n);if(t!==ts(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ic(n).isEqual(ic(e));case 3:return function(s,l){if(typeof s.timestampValue=="string"&&typeof l.timestampValue=="string"&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const c=Ja(s.timestampValue),d=Ja(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,l){return es(s.bytesValue).isEqual(es(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,l){return Kt(s.geoPointValue.latitude)===Kt(l.geoPointValue.latitude)&&Kt(s.geoPointValue.longitude)===Kt(l.geoPointValue.longitude)}(n,e);case 2:return function(s,l){if("integerValue"in s&&"integerValue"in l)return Kt(s.integerValue)===Kt(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const c=Kt(s.doubleValue),d=Kt(l.doubleValue);return c===d?Rh(c)===Rh(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return ll(n.arrayValue.values||[],e.arrayValue.values||[],Ei);case 10:case 11:return function(s,l){const c=s.mapValue.fields||{},d=l.mapValue.fields||{};if(DT(c)!==DT(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!Ei(c[m],d[m])))return!1;return!0}(n,e);default:return Ue(52216,{left:n})}}function sc(n,e){return(n.values||[]).find(t=>Ei(t,e))!==void 0}function ul(n,e){if(n===e)return 0;const t=ts(n),i=ts(e);if(t!==i)return $e(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return $e(n.booleanValue,e.booleanValue);case 2:return function(l,c){const d=Kt(l.integerValue||l.doubleValue),m=Kt(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,e);case 3:return xT(n.timestampValue,e.timestampValue);case 4:return xT(ic(n),ic(e));case 5:return fg(n.stringValue,e.stringValue);case 6:return function(l,c){const d=es(l),m=es(c);return d.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),m=c.split("/");for(let g=0;g<d.length&&g<m.length;g++){const v=$e(d[g],m[g]);if(v!==0)return v}return $e(d.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const d=$e(Kt(l.latitude),Kt(c.latitude));return d!==0?d:$e(Kt(l.longitude),Kt(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return MT(n.arrayValue,e.arrayValue);case 10:return function(l,c){var d,m,g,v;const E=l.fields||{},b=c.fields||{},I=(d=E[Ch])===null||d===void 0?void 0:d.arrayValue,M=(m=b[Ch])===null||m===void 0?void 0:m.arrayValue,V=$e(((g=I==null?void 0:I.values)===null||g===void 0?void 0:g.length)||0,((v=M==null?void 0:M.values)===null||v===void 0?void 0:v.length)||0);return V!==0?V:MT(I,M)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===Kf.mapValue&&c===Kf.mapValue)return 0;if(l===Kf.mapValue)return 1;if(c===Kf.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),g=c.fields||{},v=Object.keys(g);m.sort(),v.sort();for(let E=0;E<m.length&&E<v.length;++E){const b=fg(m[E],v[E]);if(b!==0)return b;const I=ul(d[m[E]],g[v[E]]);if(I!==0)return I}return $e(m.length,v.length)}(n.mapValue,e.mapValue);default:throw Ue(23264,{Pe:t})}}function xT(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return $e(n,e);const t=Ja(n),i=Ja(e),s=$e(t.seconds,i.seconds);return s!==0?s:$e(t.nanos,i.nanos)}function MT(n,e){const t=n.values||[],i=e.values||[];for(let s=0;s<t.length&&s<i.length;++s){const l=ul(t[s],i[s]);if(l)return l}return $e(t.length,i.length)}function cl(n){return hg(n)}function hg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Ja(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return es(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return xe.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",s=!0;for(const l of t.values||[])s?s=!1:i+=",",i+=hg(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let s="{",l=!0;for(const c of i)l?l=!1:s+=",",s+=`${c}:${hg(t.fields[c])}`;return s+"}"}(n.mapValue):Ue(61005,{value:n})}function oh(n){switch(ts(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zh(n);return e?16+oh(e):16;case 5:return 2*n.stringValue.length;case 6:return es(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,l)=>s+oh(l),0)}(n.arrayValue);case 10:case 11:return function(i){let s=0;return ss(i.fields,(l,c)=>{s+=l.length+oh(c)}),s}(n.mapValue);default:throw Ue(13486,{value:n})}}function NT(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function dg(n){return!!n&&"integerValue"in n}function Sy(n){return!!n&&"arrayValue"in n}function PT(n){return!!n&&"nullValue"in n}function kT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function lh(n){return!!n&&"mapValue"in n}function bx(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[BA])===null||t===void 0?void 0:t.stringValue)===jA}function Ku(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ss(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Ku(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ku(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Sx(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Tx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.value=e}static empty(){return new Wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!lh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ku(t)}setAll(e){let t=wn.emptyPath(),i={},s=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const m=this.getFieldsMap(t);this.applyChanges(m,i,s),i={},s=[],t=d.popLast()}c?i[d.lastSegment()]=Ku(c):s.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,s)}delete(e){const t=this.field(e.popLast());lh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ei(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=t.mapValue.fields[e.get(i)];lh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,i){ss(t,(s,l)=>e[s]=l);for(const s of i)delete e[s]}clone(){return new Wn(Ku(this.value))}}function HA(n){const e=[];return ss(n.fields,(t,i)=>{const s=new wn([t]);if(lh(i)){const l=HA(i.mapValue).fields;if(l.length===0)e.push(s);else for(const c of l)e.push(s.child(c))}else e.push(s)}),new yr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e,t,i,s,l,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=s,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Pn(e,0,Be.min(),Be.min(),Be.min(),Wn.empty(),0)}static newFoundDocument(e,t,i,s){return new Pn(e,1,t,Be.min(),i,s,0)}static newNoDocument(e,t){return new Pn(e,2,t,Be.min(),Be.min(),Wn.empty(),0)}static newUnknownDocument(e,t){return new Pn(e,3,t,Be.min(),Be.min(),Wn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,t){this.position=e,this.inclusive=t}}function VT(n,e,t){let i=0;for(let s=0;s<n.position.length;s++){const l=e[s],c=n.position[s];if(l.field.isKeyField()?i=xe.comparator(xe.fromName(c.referenceValue),t.key):i=ul(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function LT(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ei(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,t="asc"){this.field=e,this.dir=t}}function Ax(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{}class en extends FA{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new Rx(e,t,i):t==="array-contains"?new Dx(e,i):t==="in"?new Ox(e,i):t==="not-in"?new xx(e,i):t==="array-contains-any"?new Mx(e,i):new en(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new Ix(e,i):new Cx(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ul(t,this.value)):t!==null&&ts(this.value)===ts(t)&&this.matchesComparison(ul(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ue(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xr extends FA{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Xr(e,t)}matches(e){return qA(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function qA(n){return n.op==="and"}function GA(n){return wx(n)&&qA(n)}function wx(n){for(const e of n.filters)if(e instanceof Xr)return!1;return!0}function mg(n){if(n instanceof en)return n.field.canonicalString()+n.op.toString()+cl(n.value);if(GA(n))return n.filters.map(e=>mg(e)).join(",");{const e=n.filters.map(t=>mg(t)).join(",");return`${n.op}(${e})`}}function $A(n,e){return n instanceof en?function(i,s){return s instanceof en&&i.op===s.op&&i.field.isEqual(s.field)&&Ei(i.value,s.value)}(n,e):n instanceof Xr?function(i,s){return s instanceof Xr&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((l,c,d)=>l&&$A(c,s.filters[d]),!0):!1}(n,e):void Ue(19439)}function KA(n){return n instanceof en?function(t){return`${t.field.canonicalString()} ${t.op} ${cl(t.value)}`}(n):n instanceof Xr?function(t){return t.op.toString()+" {"+t.getFilters().map(KA).join(" ,")+"}"}(n):"Filter"}class Rx extends en{constructor(e,t,i){super(e,t,i),this.key=xe.fromName(i.referenceValue)}matches(e){const t=xe.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ix extends en{constructor(e,t){super(e,"in",t),this.keys=QA("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Cx extends en{constructor(e,t){super(e,"not-in",t),this.keys=QA("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function QA(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>xe.fromName(i.referenceValue))}class Dx extends en{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Sy(t)&&sc(t.arrayValue,this.value)}}class Ox extends en{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&sc(this.value.arrayValue,t)}}class xx extends en{constructor(e,t){super(e,"not-in",t)}matches(e){if(sc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!sc(this.value.arrayValue,t)}}class Mx extends en{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Sy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>sc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e,t=null,i=[],s=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=s,this.limit=l,this.startAt=c,this.endAt=d,this.Ie=null}}function UT(n,e=null,t=[],i=[],s=null,l=null,c=null){return new Nx(n,e,t,i,s,l,c)}function Ay(n){const e=je(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>mg(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Wh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>cl(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>cl(i)).join(",")),e.Ie=t}return e.Ie}function wy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Ax(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!$A(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!LT(n.startAt,e.startAt)&&LT(n.endAt,e.endAt)}function pg(n){return xe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,t=null,i=[],s=[],l=null,c="F",d=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=s,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Px(n,e,t,i,s,l,c,d){return new Al(n,e,t,i,s,l,c,d)}function Jh(n){return new Al(n)}function zT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function XA(n){return n.collectionGroup!==null}function Qu(n){const e=je(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ee.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new on(wn.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ee.push(new oc(l,i))}),t.has(wn.keyField().canonicalString())||e.Ee.push(new oc(wn.keyField(),i))}return e.Ee}function vi(n){const e=je(n);return e.de||(e.de=kx(e,Qu(n))),e.de}function kx(n,e){if(n.limitType==="F")return UT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const l=s.dir==="desc"?"asc":"desc";return new oc(s.field,l)});const t=n.endAt?new Dh(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Dh(n.startAt.position,n.startAt.inclusive):null;return UT(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function gg(n,e){const t=n.filters.concat([e]);return new Al(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function yg(n,e,t){return new Al(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ed(n,e){return wy(vi(n),vi(e))&&n.limitType===e.limitType}function YA(n){return`${Ay(vi(n))}|lt:${n.limitType}`}function Zo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(s=>KA(s)).join(", ")}]`),Wh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(s=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(s)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>cl(s)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>cl(s)).join(",")),`Target(${i})`}(vi(n))}; limitType=${n.limitType})`}function td(n,e){return e.isFoundDocument()&&function(i,s){const l=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):xe.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,s){for(const l of Qu(i))if(!l.field.isKeyField()&&s.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,s){for(const l of i.filters)if(!l.matches(s))return!1;return!0}(n,e)&&function(i,s){return!(i.startAt&&!function(c,d,m){const g=VT(c,d,m);return c.inclusive?g<=0:g<0}(i.startAt,Qu(i),s)||i.endAt&&!function(c,d,m){const g=VT(c,d,m);return c.inclusive?g>=0:g>0}(i.endAt,Qu(i),s))}(n,e)}function Vx(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function WA(n){return(e,t)=>{let i=!1;for(const s of Qu(n)){const l=Lx(s,e,t);if(l!==0)return l;i=i||s.field.isKeyField()}return 0}}function Lx(n,e,t){const i=n.field.isKeyField()?xe.comparator(e.key,t.key):function(l,c,d){const m=c.data.field(l),g=d.data.field(l);return m!==null&&g!==null?ul(m,g):Ue(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ue(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[s,l]of i)if(this.equalsFn(s,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return void(s[l]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[t]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ss(this.inner,(t,i)=>{for(const[s,l]of i)e(s,l)})}isEmpty(){return PA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux=new Ut(xe.comparator);function ra(){return Ux}const ZA=new Ut(xe.comparator);function Hu(...n){let e=ZA;for(const t of n)e=e.insert(t.key,t);return e}function JA(n){let e=ZA;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Xs(){return Xu()}function ew(){return Xu()}function Xu(){return new oo(n=>n.toString(),(n,e)=>n.isEqual(e))}const zx=new Ut(xe.comparator),Bx=new on(xe.comparator);function et(...n){let e=Bx;for(const t of n)e=e.add(t);return e}const jx=new on($e);function Hx(){return jx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rh(e)?"-0":e}}function tw(n){return{integerValue:""+n}}function Fx(n,e){return gx(e)?tw(e):Ry(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(){this._=void 0}}function qx(n,e,t){return n instanceof lc?function(s,l){const c={fields:{[LA]:{stringValue:VA},[zA]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&by(l)&&(l=Zh(l)),l&&(c.fields[UA]=l),{mapValue:c}}(t,e):n instanceof fl?rw(n,e):n instanceof uc?iw(n,e):function(s,l){const c=nw(s,l),d=BT(c)+BT(s.Re);return dg(c)&&dg(s.Re)?tw(d):Ry(s.serializer,d)}(n,e)}function Gx(n,e,t){return n instanceof fl?rw(n,e):n instanceof uc?iw(n,e):t}function nw(n,e){return n instanceof Oh?function(i){return dg(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class lc extends nd{}class fl extends nd{constructor(e){super(),this.elements=e}}function rw(n,e){const t=aw(e);for(const i of n.elements)t.some(s=>Ei(s,i))||t.push(i);return{arrayValue:{values:t}}}class uc extends nd{constructor(e){super(),this.elements=e}}function iw(n,e){let t=aw(e);for(const i of n.elements)t=t.filter(s=>!Ei(s,i));return{arrayValue:{values:t}}}class Oh extends nd{constructor(e,t){super(),this.serializer=e,this.Re=t}}function BT(n){return Kt(n.integerValue||n.doubleValue)}function aw(n){return Sy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e,t){this.field=e,this.transform=t}}function $x(n,e){return n.field.isEqual(e.field)&&function(i,s){return i instanceof fl&&s instanceof fl||i instanceof uc&&s instanceof uc?ll(i.elements,s.elements,Ei):i instanceof Oh&&s instanceof Oh?Ei(i.Re,s.Re):i instanceof lc&&s instanceof lc}(n.transform,e.transform)}class Kx{constructor(e,t){this.version=e,this.transformResults=t}}class Pr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Pr}static exists(e){return new Pr(void 0,e)}static updateTime(e){return new Pr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function uh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class rd{}function ow(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Iy(n.key,Pr.none()):new Tc(n.key,n.data,Pr.none());{const t=n.data,i=Wn.empty();let s=new on(wn.comparator);for(let l of e.fields)if(!s.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),s=s.add(l)}return new os(n.key,i,new yr(s.toArray()),Pr.none())}}function Qx(n,e,t){n instanceof Tc?function(s,l,c){const d=s.value.clone(),m=HT(s.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof os?function(s,l,c){if(!uh(s.precondition,l))return void l.convertToUnknownDocument(c.version);const d=HT(s.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(lw(s)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(n,e,t):function(s,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function Yu(n,e,t,i){return n instanceof Tc?function(l,c,d,m){if(!uh(l.precondition,c))return d;const g=l.value.clone(),v=FT(l.fieldTransforms,m,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(n,e,t,i):n instanceof os?function(l,c,d,m){if(!uh(l.precondition,c))return d;const g=FT(l.fieldTransforms,m,c),v=c.data;return v.setAll(lw(l)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(E=>E.field))}(n,e,t,i):function(l,c,d){return uh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,e,t)}function Xx(n,e){let t=null;for(const i of n.fieldTransforms){const s=e.data.field(i.field),l=nw(i.transform,s||null);l!=null&&(t===null&&(t=Wn.empty()),t.set(i.field,l))}return t||null}function jT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&ll(i,s,(l,c)=>$x(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Tc extends rd{constructor(e,t,i,s=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class os extends rd{constructor(e,t,i,s,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=s,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function lw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function HT(n,e,t){const i=new Map;pt(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let s=0;s<t.length;s++){const l=n[s],c=l.transform,d=e.data.field(l.field);i.set(l.field,Gx(c,d,t[s]))}return i}function FT(n,e,t){const i=new Map;for(const s of n){const l=s.transform,c=t.data.field(s.field);i.set(s.field,qx(l,c,e))}return i}class Iy extends rd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Yx extends rd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e,t,i,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const l=this.mutations[s];l.key.isEqual(e.key)&&Qx(l,e,i[s])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Yu(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Yu(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=ew();return this.mutations.forEach(s=>{const l=e.get(s.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(s.key)?null:d;const m=ow(c,d);m!==null&&i.set(s.key,m),c.isValidDocument()||c.convertToNoDocument(Be.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),et())}isEqual(e){return this.batchId===e.batchId&&ll(this.mutations,e.mutations,(t,i)=>jT(t,i))&&ll(this.baseMutations,e.baseMutations,(t,i)=>jT(t,i))}}class Cy{constructor(e,t,i,s){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=s}static from(e,t,i){pt(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let s=function(){return zx}();const l=e.mutations;for(let c=0;c<l.length;c++)s=s.insert(l[c].key,i[c].version);return new Cy(e,t,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wt,at;function eM(n){switch(n){case se.OK:return Ue(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Ue(15467,{code:n})}}function uw(n){if(n===void 0)return na("GRPC error has no .code"),se.UNKNOWN;switch(n){case Wt.OK:return se.OK;case Wt.CANCELLED:return se.CANCELLED;case Wt.UNKNOWN:return se.UNKNOWN;case Wt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Wt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Wt.INTERNAL:return se.INTERNAL;case Wt.UNAVAILABLE:return se.UNAVAILABLE;case Wt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Wt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Wt.NOT_FOUND:return se.NOT_FOUND;case Wt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Wt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Wt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Wt.ABORTED:return se.ABORTED;case Wt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Wt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Wt.DATA_LOSS:return se.DATA_LOSS;default:return Ue(39323,{code:n})}}(at=Wt||(Wt={}))[at.OK=0]="OK",at[at.CANCELLED=1]="CANCELLED",at[at.UNKNOWN=2]="UNKNOWN",at[at.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",at[at.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",at[at.NOT_FOUND=5]="NOT_FOUND",at[at.ALREADY_EXISTS=6]="ALREADY_EXISTS",at[at.PERMISSION_DENIED=7]="PERMISSION_DENIED",at[at.UNAUTHENTICATED=16]="UNAUTHENTICATED",at[at.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",at[at.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",at[at.ABORTED=10]="ABORTED",at[at.OUT_OF_RANGE=11]="OUT_OF_RANGE",at[at.UNIMPLEMENTED=12]="UNIMPLEMENTED",at[at.INTERNAL=13]="INTERNAL",at[at.UNAVAILABLE=14]="UNAVAILABLE",at[at.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM=new Qa([4294967295,4294967295],0);function qT(n){const e=xA().encode(n),t=new SA;return t.update(e),new Uint8Array(t.digest())}function GT(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Qa([t,i],0),new Qa([s,l],0)]}class Dy{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Fu(`Invalid padding: ${t}`);if(i<0)throw new Fu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Fu(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Fu(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Qa.fromNumber(this.pe)}we(e,t,i){let s=e.add(t.multiply(Qa.fromNumber(i)));return s.compare(tM)===1&&(s=new Qa([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=qT(e),[i,s]=GT(t);for(let l=0;l<this.hashCount;l++){const c=this.we(i,s,l);if(!this.be(c))return!1}return!0}static create(e,t,i){const s=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Dy(l,s,t);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.pe===0)return;const t=qT(e),[i,s]=GT(t);for(let l=0;l<this.hashCount;l++){const c=this.we(i,s,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Fu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,t,i,s,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const s=new Map;return s.set(e,bc.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new id(Be.min(),s,new Ut($e),ra(),et())}}class bc{constructor(e,t,i,s,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new bc(i,t,et(),et(),et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,t,i,s){this.De=e,this.removedTargetIds=t,this.key=i,this.ve=s}}class cw{constructor(e,t){this.targetId=e,this.Ce=t}}class fw{constructor(e,t,i=Rn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=s}}class $T{constructor(){this.Fe=0,this.Me=KT(),this.xe=Rn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=et(),t=et(),i=et();return this.Me.forEach((s,l)=>{switch(l){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:i=i.add(s);break;default:Ue(38017,{changeType:l})}}),new bc(this.xe,this.Oe,e,t,i)}Qe(){this.Ne=!1,this.Me=KT()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,pt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class nM{constructor(e){this.ze=e,this.je=new Map,this.He=ra(),this.Je=Qf(),this.Ye=Qf(),this.Ze=new Ut($e)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const i=this.rt(t);switch(e.state){case 0:this.it(t)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(t);break;case 3:this.it(t)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),i.ke(e.resumeToken));break;default:Ue(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((i,s)=>{this.it(s)&&t(s)})}ot(e){const t=e.targetId,i=e.Ce.count,s=this._t(t);if(s){const l=s.target;if(pg(l))if(i===0){const c=new xe(l.path);this.tt(t,c,Pn.newNoDocument(c,Be.min()))}else pt(i===1,20013,{expectedCount:i});else{const c=this.ut(t);if(c!==i){const d=this.ct(e),m=d?this.lt(d,e,c):1;if(m!==0){this.st(t);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,g)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:l=0}=t;let c,d;try{c=es(i).toUint8Array()}catch(m){if(m instanceof kA)return ol("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new Dy(c,s,l)}catch(m){return ol(m instanceof Fu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.pe===0?null:d}lt(e,t,i){return t.Ce.count===i-this.Tt(e,t.targetId)?0:2}Tt(e,t){const i=this.ze.getRemoteKeysForTarget(t);let s=0;return i.forEach(l=>{const c=this.ze.Pt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.tt(t,l,null),s++)}),s}It(e){const t=new Map;this.je.forEach((l,c)=>{const d=this._t(c);if(d){if(l.current&&pg(d.target)){const m=new xe(d.target.path);this.Et(m).has(c)||this.dt(c,m)||this.tt(c,m,Pn.newNoDocument(m,e))}l.Le&&(t.set(c,l.qe()),l.Qe())}});let i=et();this.Ye.forEach((l,c)=>{let d=!0;c.forEachWhile(m=>{const g=this._t(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(l))}),this.He.forEach((l,c)=>c.setReadTime(e));const s=new id(e,t,this.Ze,this.He,i);return this.He=ra(),this.Je=Qf(),this.Ye=Qf(),this.Ze=new Ut($e),s}et(e,t){if(!this.it(e))return;const i=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,i),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,i){if(!this.it(e))return;const s=this.rt(e);this.dt(e,t)?s.$e(t,1):s.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),i&&(this.He=this.He.insert(t,i))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new $T,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new on($e),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new on($e),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||Ee("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new $T),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Qf(){return new Ut(xe.comparator)}function KT(){return new Ut(xe.comparator)}const rM={asc:"ASCENDING",desc:"DESCENDING"},iM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aM={and:"AND",or:"OR"};class sM{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function vg(n,e){return n.useProto3Json||Wh(e)?e:{value:e}}function xh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function oM(n,e){return xh(n,e.toTimestamp())}function _i(n){return pt(!!n,49232),Be.fromTimestamp(function(t){const i=Ja(t);return new sn(i.seconds,i.nanos)}(n))}function Oy(n,e){return _g(n,e).canonicalString()}function _g(n,e){const t=function(s){return new Nt(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function dw(n){const e=Nt.fromString(n);return pt(vw(e),10190,{key:e.toString()}),e}function Eg(n,e){return Oy(n.databaseId,e.path)}function Pp(n,e){const t=dw(e);if(t.get(1)!==n.databaseId.projectId)throw new Te(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Te(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new xe(pw(t))}function mw(n,e){return Oy(n.databaseId,e)}function lM(n){const e=dw(n);return e.length===4?Nt.emptyPath():pw(e)}function Tg(n){return new Nt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function pw(n){return pt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function QT(n,e,t){return{name:Eg(n,e),fields:t.value.mapValue.fields}}function uM(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ue(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],l=function(g,v){return g.useProto3Json?(pt(v===void 0||typeof v=="string",58123),Rn.fromBase64String(v||"")):(pt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Rn.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(g){const v=g.code===void 0?se.UNKNOWN:uw(g.code);return new Te(v,g.message||"")}(c);t=new fw(i,s,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=Pp(n,i.document.name),l=_i(i.document.updateTime),c=i.document.createTime?_i(i.document.createTime):Be.min(),d=new Wn({mapValue:{fields:i.document.fields}}),m=Pn.newFoundDocument(s,l,c,d),g=i.targetIds||[],v=i.removedTargetIds||[];t=new ch(g,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=Pp(n,i.document),l=i.readTime?_i(i.readTime):Be.min(),c=Pn.newNoDocument(s,l),d=i.removedTargetIds||[];t=new ch([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=Pp(n,i.document),l=i.removedTargetIds||[];t=new ch([],l,s,null)}else{if(!("filter"in e))return Ue(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:l}=i,c=new Jx(s,l),d=i.targetId;t=new cw(d,c)}}return t}function cM(n,e){let t;if(e instanceof Tc)t={update:QT(n,e.key,e.value)};else if(e instanceof Iy)t={delete:Eg(n,e.key)};else if(e instanceof os)t={update:QT(n,e.key,e.data),updateMask:_M(e.fieldMask)};else{if(!(e instanceof Yx))return Ue(16599,{ft:e.type});t={verify:Eg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const d=c.transform;if(d instanceof lc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof fl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof uc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Oh)return{fieldPath:c.field.canonicalString(),increment:d.Re};throw Ue(20930,{transform:c.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(s,l){return l.updateTime!==void 0?{updateTime:oM(s,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ue(27497)}(n,e.precondition)),t}function fM(n,e){return n&&n.length>0?(pt(e!==void 0,14353),n.map(t=>function(s,l){let c=s.updateTime?_i(s.updateTime):_i(l);return c.isEqual(Be.min())&&(c=_i(l)),new Kx(c,s.transformResults||[])}(t,e))):[]}function hM(n,e){return{documents:[mw(n,e.path)]}}function dM(n,e){const t={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=mw(n,s);const l=function(g){if(g.length!==0)return yw(Xr.create(g,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(g){if(g.length!==0)return g.map(v=>function(b){return{field:Jo(b.field),direction:gM(b.dir)}}(v))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=vg(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:t,parent:s}}function mM(n){let e=lM(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let s=null;if(i>0){pt(i===1,65062);const v=t.from[0];v.allDescendants?s=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=function(E){const b=gw(E);return b instanceof Xr&&GA(b)?b.getFilters():[b]}(t.where));let c=[];t.orderBy&&(c=function(E){return E.map(b=>function(M){return new oc(el(M.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(b))}(t.orderBy));let d=null;t.limit&&(d=function(E){let b;return b=typeof E=="object"?E.value:E,Wh(b)?null:b}(t.limit));let m=null;t.startAt&&(m=function(E){const b=!!E.before,I=E.values||[];return new Dh(I,b)}(t.startAt));let g=null;return t.endAt&&(g=function(E){const b=!E.before,I=E.values||[];return new Dh(I,b)}(t.endAt)),Px(e,s,c,l,d,"F",m,g)}function pM(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue(28987,{purpose:s})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function gw(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=el(t.unaryFilter.field);return en.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=el(t.unaryFilter.field);return en.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=el(t.unaryFilter.field);return en.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=el(t.unaryFilter.field);return en.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ue(61313);default:return Ue(60726)}}(n):n.fieldFilter!==void 0?function(t){return en.create(el(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ue(58110);default:return Ue(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Xr.create(t.compositeFilter.filters.map(i=>gw(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ue(1026)}}(t.compositeFilter.op))}(n):Ue(30097,{filter:n})}function gM(n){return rM[n]}function yM(n){return iM[n]}function vM(n){return aM[n]}function Jo(n){return{fieldPath:n.canonicalString()}}function el(n){return wn.fromServerFormat(n.fieldPath)}function yw(n){return n instanceof en?function(t){if(t.op==="=="){if(kT(t.value))return{unaryFilter:{field:Jo(t.field),op:"IS_NAN"}};if(PT(t.value))return{unaryFilter:{field:Jo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(kT(t.value))return{unaryFilter:{field:Jo(t.field),op:"IS_NOT_NAN"}};if(PT(t.value))return{unaryFilter:{field:Jo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jo(t.field),op:yM(t.op),value:t.value}}}(n):n instanceof Xr?function(t){const i=t.getFilters().map(s=>yw(s));return i.length===1?i[0]:{compositeFilter:{op:vM(t.op),filters:i}}}(n):Ue(54877,{filter:n})}function _M(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function vw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e,t,i,s,l=Be.min(),c=Be.min(),d=Rn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new Ha(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ha(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ha(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ha(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e){this.wt=e}}function TM(n){const e=mM({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?yg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(){this.yn=new SM}addToCollectionParentIndex(e,t){return this.yn.add(t),oe.resolve()}getCollectionParents(e,t){return oe.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return oe.resolve()}deleteFieldIndex(e,t){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,t){return oe.resolve()}getDocumentsMatchingTarget(e,t){return oe.resolve(null)}getIndexType(e,t){return oe.resolve(0)}getFieldIndexes(e,t){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,t){return oe.resolve(Za.min())}getMinOffsetFromCollectionGroup(e,t){return oe.resolve(Za.min())}updateCollectionGroup(e,t,i){return oe.resolve()}updateIndexEntries(e,t){return oe.resolve()}}class SM{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t]||new on(Nt.comparator),l=!s.has(i);return this.index[t]=s.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t];return s&&s.has(i)}getEntries(e){return(this.index[e]||new on(Nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_w=41943040;class Xn{static withCacheSize(e){return new Xn(e,Xn.DEFAULT_COLLECTION_PERCENTILE,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xn.DEFAULT_COLLECTION_PERCENTILE=10,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xn.DEFAULT=new Xn(_w,Xn.DEFAULT_COLLECTION_PERCENTILE,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xn.DISABLED=new Xn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new hl(0)}static ir(){return new hl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT="LruGarbageCollector",AM=1048576;function WT([n,e],[t,i]){const s=$e(n,t);return s===0?$e(e,i):s}class wM{constructor(e){this.cr=e,this.buffer=new on(WT),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();WT(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class RM{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){Ee(YT,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Sl(t)?Ee(YT,"Ignoring IndexedDB error during garbage collection: ",t):await bl(t)}await this.Ir(3e5)})}}class IM{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return oe.resolve(Yh.le);const i=new wM(t);return this.Er.forEachTarget(e,s=>i.Pr(s.sequenceNumber)).next(()=>this.Er.Ar(e,s=>i.Pr(s))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Er.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(XT)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),XT):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let i,s,l,c,d,m,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),s=this.params.maximumSequenceNumbersToCollect):s=E,c=Date.now(),this.nthSequenceNumber(e,s))).next(E=>(i=E,d=Date.now(),this.removeTargets(e,i,t))).next(E=>(l=E,m=Date.now(),this.removeOrphanedDocuments(e,i))).next(E=>(g=Date.now(),Wo()<=Je.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${s} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${E} documents in `+(g-m)+`ms
Total Duration: ${g-v}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:l,documentsRemoved:E})))}}function CM(n,e){return new IM(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(){this.changes=new oo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Pn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?oe.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e,t,i,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(i!==null&&Yu(i.mutation,s,yr.empty(),sn.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,et()).next(()=>i))}getLocalViewOfDocuments(e,t,i=et()){const s=Xs();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,i).next(l=>{let c=Hu();return l.forEach((d,m)=>{c=c.insert(d,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=Xs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,et()))}populateOverlays(e,t,i){const s=[];return i.forEach(l=>{t.has(l)||s.push(l)}),this.documentOverlayCache.getOverlays(e,s).next(l=>{l.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,i,s){let l=ra();const c=Xu(),d=function(){return Xu()}();return t.forEach((m,g)=>{const v=i.get(g.key);s.has(g.key)&&(v===void 0||v.mutation instanceof os)?l=l.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),Yu(v.mutation,g,v.mutation.getFieldMask(),sn.now())):c.set(g.key,yr.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((g,v)=>c.set(g,v)),t.forEach((g,v)=>{var E;return d.set(g,new OM(v,(E=c.get(g))!==null&&E!==void 0?E:null))}),d))}recalculateAndSaveOverlays(e,t){const i=Xu();let s=new Ut((c,d)=>c-d),l=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(m=>{const g=t.get(m);if(g===null)return;let v=i.get(m)||yr.empty();v=d.applyToLocalView(g,v),i.set(m,v);const E=(s.get(d.batchId)||et()).add(m);s=s.insert(d.batchId,E)})}).next(()=>{const c=[],d=s.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,v=m.value,E=ew();v.forEach(b=>{if(!l.has(b)){const I=ow(t.get(b),i.get(b));I!==null&&E.set(b,I),l=l.add(b)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,E))}return oe.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,s){return function(c){return xe.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):XA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,s):this.getDocumentsMatchingCollectionQuery(e,t,i,s)}getNextDocuments(e,t,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,s).next(l=>{const c=s-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,s-l.size):oe.resolve(Xs());let d=rc,m=l;return c.next(g=>oe.forEach(g,(v,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),l.get(v)?oe.resolve():this.remoteDocumentCache.getEntry(e,v).next(b=>{m=m.insert(v,b)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,m,g,et())).next(v=>({batchId:d,changes:JA(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new xe(t)).next(i=>{let s=Hu();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,i,s){const l=t.collectionGroup;let c=Hu();return this.indexManager.getCollectionParents(e,l).next(d=>oe.forEach(d,m=>{const g=function(E,b){return new Al(b,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,i,s).next(v=>{v.forEach((E,b)=>{c=c.insert(E,b)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,s){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,s))).next(c=>{l.forEach((m,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,Pn.newInvalidDocument(v)))});let d=Hu();return c.forEach((m,g)=>{const v=l.get(m);v!==void 0&&Yu(v.mutation,g,yr.empty(),sn.now()),td(t,g)&&(d=d.insert(m,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return oe.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:_i(s.createTime)}}(t)),oe.resolve()}getNamedQuery(e,t){return oe.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(s){return{name:s.name,query:TM(s.bundledQuery),readTime:_i(s.readTime)}}(t)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(){this.overlays=new Ut(xe.comparator),this.Or=new Map}getOverlay(e,t){return oe.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Xs();return oe.forEach(t,s=>this.getOverlay(e,s).next(l=>{l!==null&&i.set(s,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((s,l)=>{this.St(e,t,l)}),oe.resolve()}removeOverlaysForBatchId(e,t,i){const s=this.Or.get(i);return s!==void 0&&(s.forEach(l=>this.overlays=this.overlays.remove(l)),this.Or.delete(i)),oe.resolve()}getOverlaysForCollection(e,t,i){const s=Xs(),l=t.length+1,c=new xe(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>i&&s.set(m.getKey(),m)}return oe.resolve(s)}getOverlaysForCollectionGroup(e,t,i,s){let l=new Ut((g,v)=>g-v);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>i){let v=l.get(g.largestBatchId);v===null&&(v=Xs(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=Xs(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,v)=>d.set(g,v)),!(d.size()>=s)););return oe.resolve(d)}St(e,t,i){const s=this.overlays.get(i.key);if(s!==null){const c=this.Or.get(s.largestBatchId).delete(i.key);this.Or.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new Zx(t,i));let l=this.Or.get(t);l===void 0&&(l=et(),this.Or.set(t,l)),this.Or.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(){this.sessionToken=Rn.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(){this.Nr=new on(yn.Br),this.Lr=new on(yn.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const i=new yn(e,t);this.Nr=this.Nr.add(i),this.Lr=this.Lr.add(i)}qr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Qr(new yn(e,t))}$r(e,t){e.forEach(i=>this.removeReference(i,t))}Ur(e){const t=new xe(new Nt([])),i=new yn(t,e),s=new yn(t,e+1),l=[];return this.Lr.forEachInRange([i,s],c=>{this.Qr(c),l.push(c.key)}),l}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new xe(new Nt([])),i=new yn(t,e),s=new yn(t,e+1);let l=et();return this.Lr.forEachInRange([i,s],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new yn(e,0),i=this.Nr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class yn{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return xe.comparator(e.key,t.key)||$e(e.Gr,t.Gr)}static kr(e,t){return $e(e.Gr,t.Gr)||xe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new on(yn.Br)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,s){const l=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Wx(l,t,i,s);this.mutationQueue.push(c);for(const d of s)this.zr=this.zr.add(new yn(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return oe.resolve(c)}lookupMutationBatch(e,t){return oe.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,s=this.Hr(i),l=s<0?0:s;return oe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?Ty:this.Jn-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new yn(t,0),s=new yn(t,Number.POSITIVE_INFINITY),l=[];return this.zr.forEachInRange([i,s],c=>{const d=this.jr(c.Gr);l.push(d)}),oe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new on($e);return t.forEach(s=>{const l=new yn(s,0),c=new yn(s,Number.POSITIVE_INFINITY);this.zr.forEachInRange([l,c],d=>{i=i.add(d.Gr)})}),oe.resolve(this.Jr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,s=i.length+1;let l=i;xe.isDocumentKey(l)||(l=l.child(""));const c=new yn(new xe(l),0);let d=new on($e);return this.zr.forEachWhile(m=>{const g=m.key.path;return!!i.isPrefixOf(g)&&(g.length===s&&(d=d.add(m.Gr)),!0)},c),oe.resolve(this.Jr(d))}Jr(e){const t=[];return e.forEach(i=>{const s=this.jr(i);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){pt(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.zr;return oe.forEach(t.mutations,s=>{const l=new yn(s.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.zr=i})}Xn(e){}containsKey(e,t){const i=new yn(t,0),s=this.zr.firstAfterOrEqual(i);return oe.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e){this.Zr=e,this.docs=function(){return new Ut(xe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,s=this.docs.get(i),l=s?s.size:0,c=this.Zr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return oe.resolve(i?i.document.mutableCopy():Pn.newInvalidDocument(t))}getEntries(e,t){let i=ra();return t.forEach(s=>{const l=this.docs.get(s);i=i.insert(s,l?l.document.mutableCopy():Pn.newInvalidDocument(s))}),oe.resolve(i)}getDocumentsMatchingQuery(e,t,i,s){let l=ra();const c=t.path,d=new xe(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:v}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||hx(fx(v),i)<=0||(s.has(v.key)||td(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return oe.resolve(l)}getAllFromCollectionGroup(e,t,i,s){Ue(9500)}Xr(e,t){return oe.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new LM(this)}getSize(e){return oe.resolve(this.size)}}class LM extends DM{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?t.push(this.vr.addEntry(e,s)):this.vr.removeEntry(i)}),oe.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e){this.persistence=e,this.ei=new oo(t=>Ay(t),wy),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this.ti=0,this.ni=new xy,this.targetCount=0,this.ri=hl.rr()}forEachTarget(e,t){return this.ei.forEach((i,s)=>t(s)),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.ti&&(this.ti=t),oe.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new hl(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,oe.resolve()}updateTargetData(e,t){return this.ar(t),oe.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,t,i){let s=0;const l=[];return this.ei.forEach((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.ei.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)}),oe.waitFor(l).next(()=>s)}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,t){const i=this.ei.get(t)||null;return oe.resolve(i)}addMatchingKeys(e,t,i){return this.ni.qr(t,i),oe.resolve()}removeMatchingKeys(e,t,i){this.ni.$r(t,i);const s=this.persistence.referenceDelegate,l=[];return s&&t.forEach(c=>{l.push(s.markPotentiallyOrphaned(e,c))}),oe.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),oe.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ni.Wr(t);return oe.resolve(i)}containsKey(e,t){return oe.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e,t){this.ii={},this.overlays={},this.si=new Yh(0),this.oi=!1,this.oi=!0,this._i=new PM,this.referenceDelegate=e(this),this.ai=new UM(this),this.indexManager=new bM,this.remoteDocumentCache=function(s){return new VM(s)}(i=>this.referenceDelegate.ui(i)),this.serializer=new EM(t),this.ci=new MM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new NM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ii[e.toKey()];return i||(i=new kM(t,this.referenceDelegate),this.ii[e.toKey()]=i),i}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,i){Ee("MemoryPersistence","Starting transaction:",e);const s=new zM(this.si.next());return this.referenceDelegate.li(),i(s).next(l=>this.referenceDelegate.hi(s).next(()=>l)).toPromise().then(l=>(s.raiseOnCommittedEvent(),l))}Pi(e,t){return oe.or(Object.values(this.ii).map(i=>()=>i.containsKey(e,t)))}}class zM extends mx{constructor(e){super(),this.currentSequenceNumber=e}}class My{constructor(e){this.persistence=e,this.Ti=new xy,this.Ii=null}static Ei(e){return new My(e)}get di(){if(this.Ii)return this.Ii;throw Ue(60996)}addReference(e,t,i){return this.Ti.addReference(i,t),this.di.delete(i.toString()),oe.resolve()}removeReference(e,t,i){return this.Ti.removeReference(i,t),this.di.add(i.toString()),oe.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),oe.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(s=>this.di.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(l=>this.di.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.di,i=>{const s=xe.fromPath(i);return this.Ai(e,s).next(l=>{l||t.removeEntry(s,Be.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(i=>{i?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return oe.or([()=>oe.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class Mh{constructor(e,t){this.persistence=e,this.Ri=new oo(i=>yx(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=CM(this,t)}static Ei(e,t){return new Mh(e,t)}li(){}hi(e){return oe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(s=>i+s))}Vr(e){let t=0;return this.Ar(e,i=>{t++}).next(()=>t)}Ar(e,t){return oe.forEach(this.Ri,(i,s)=>this.gr(e,i,s).next(l=>l?oe.resolve():t(s)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const s=this.persistence.getRemoteDocumentCache(),l=s.newChangeBuffer();return s.Xr(e,c=>this.gr(e,c,t).next(d=>{d||(i++,l.removeEntry(c,Be.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),oe.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.Ri.set(i,e.currentSequenceNumber),oe.resolve()}removeReference(e,t,i){return this.Ri.set(i,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),oe.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=oh(e.data.value)),t}gr(e,t,i){return oe.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.Ri.get(t);return oe.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e,t,i,s){this.targetId=e,this.fromCache=t,this.ls=i,this.hs=s}static Ps(e,t){let i=et(),s=et();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:s=s.add(l.doc.key)}return new Ny(e,t.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return bC()?8:px(Vn())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,i,s){const l={result:null};return this.Rs(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.Vs(e,t,s,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new BM;return this.fs(e,t,c).next(d=>{if(l.result=d,this.Is)return this.gs(e,t,c,d.size)})}).next(()=>l.result)}gs(e,t,i,s){return i.documentReadCount<this.Es?(Wo()<=Je.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",Zo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),oe.resolve()):(Wo()<=Je.DEBUG&&Ee("QueryEngine","Query:",Zo(t),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.ds*s?(Wo()<=Je.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",Zo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vi(t))):oe.resolve())}Rs(e,t){if(zT(t))return oe.resolve(null);let i=vi(t);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=yg(t,null,"F"),i=vi(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=et(...l);return this.As.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(m=>{const g=this.ps(t,d);return this.ys(t,g,c,m.readTime)?this.Rs(e,yg(t,null,"F")):this.ws(e,g,t,m)}))})))}Vs(e,t,i,s){return zT(t)||s.isEqual(Be.min())?oe.resolve(null):this.As.getDocuments(e,i).next(l=>{const c=this.ps(t,l);return this.ys(t,c,i,s)?oe.resolve(null):(Wo()<=Je.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Zo(t)),this.ws(e,c,t,cx(s,rc)).next(d=>d))})}ps(e,t){let i=new on(WA(e));return t.forEach((s,l)=>{td(e,l)&&(i=i.add(l))}),i}ys(e,t,i,s){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(s)>0)}fs(e,t,i){return Wo()<=Je.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",Zo(t)),this.As.getDocumentsMatchingQuery(e,t,Za.min(),i)}ws(e,t,i,s){return this.As.getDocumentsMatchingQuery(e,i,s).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py="LocalStore",HM=3e8;class FM{constructor(e,t,i,s){this.persistence=e,this.bs=t,this.serializer=s,this.Ss=new Ut($e),this.Ds=new oo(l=>Ay(l),wy),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(i)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xM(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function qM(n,e,t,i){return new FM(n,e,t,i)}async function Tw(n,e){const t=je(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let s;return t.mutationQueue.getAllMutationBatches(i).next(l=>(s=l,t.Fs(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],d=[];let m=et();for(const g of s){c.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}for(const g of l){d.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}return t.localDocuments.getDocuments(i,m).next(g=>({Ms:g,removedBatchIds:c,addedBatchIds:d}))})})}function GM(n,e){const t=je(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),l=t.Cs.newChangeBuffer({trackRemovals:!0});return function(d,m,g,v){const E=g.batch,b=E.keys();let I=oe.resolve();return b.forEach(M=>{I=I.next(()=>v.getEntry(m,M)).next(V=>{const D=g.docVersions.get(M);pt(D!==null,48541),V.version.compareTo(D)<0&&(E.applyToRemoteDocument(V,g),V.isValidDocument()&&(V.setReadTime(g.commitVersion),v.addEntry(V)))})}),I.next(()=>d.mutationQueue.removeMutationBatch(m,E))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let m=et();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m}(e))).next(()=>t.localDocuments.getDocuments(i,s))})}function bw(n){const e=je(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function $M(n,e){const t=je(n),i=e.snapshotVersion;let s=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.Cs.newChangeBuffer({trackRemovals:!0});s=t.Ss;const d=[];e.targetChanges.forEach((v,E)=>{const b=s.get(E);if(!b)return;d.push(t.ai.removeMatchingKeys(l,v.removedDocuments,E).next(()=>t.ai.addMatchingKeys(l,v.addedDocuments,E)));let I=b.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?I=I.withResumeToken(Rn.EMPTY_BYTE_STRING,Be.min()).withLastLimboFreeSnapshotVersion(Be.min()):v.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(v.resumeToken,i)),s=s.insert(E,I),function(V,D,Z){return V.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=HM?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0}(b,I,v)&&d.push(t.ai.updateTargetData(l,I))});let m=ra(),g=et();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))}),d.push(KM(l,c,e.documentUpdates).next(v=>{m=v.xs,g=v.Os})),!i.isEqual(Be.min())){const v=t.ai.getLastRemoteSnapshotVersion(l).next(E=>t.ai.setTargetsMetadata(l,l.currentSequenceNumber,i));d.push(v)}return oe.waitFor(d).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,m,g)).next(()=>m)}).then(l=>(t.Ss=s,l))}function KM(n,e,t){let i=et(),s=et();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=ra();return t.forEach((d,m)=>{const g=l.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(s=s.add(d)),m.isNoDocument()&&m.version.isEqual(Be.min())?(e.removeEntry(d,m.readTime),c=c.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),c=c.insert(d,m)):Ee(Py,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)}),{xs:c,Os:s}})}function QM(n,e){const t=je(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Ty),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function XM(n,e){const t=je(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return t.ai.getTargetData(i,e).next(l=>l?(s=l,oe.resolve(s)):t.ai.allocateTargetId(i).next(c=>(s=new Ha(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.ai.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=t.Ss.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(i.targetId,i),t.Ds.set(e,i.targetId)),i})}async function bg(n,e,t){const i=je(n),s=i.Ss.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,s))}catch(c){if(!Sl(c))throw c;Ee(Py,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ss=i.Ss.remove(e),i.Ds.delete(s.target)}function ZT(n,e,t){const i=je(n);let s=Be.min(),l=et();return i.persistence.runTransaction("Execute query","readwrite",c=>function(m,g,v){const E=je(m),b=E.Ds.get(v);return b!==void 0?oe.resolve(E.Ss.get(b)):E.ai.getTargetData(g,v)}(i,c,vi(e)).next(d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,i.ai.getMatchingKeysForTargetId(c,d.targetId).next(m=>{l=m})}).next(()=>i.bs.getDocumentsMatchingQuery(c,e,t?s:Be.min(),t?l:et())).next(d=>(YM(i,Vx(e),d),{documents:d,Ns:l})))}function YM(n,e,t){let i=n.vs.get(e)||Be.min();t.forEach((s,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.vs.set(e,i)}class JT{constructor(){this.activeTargetIds=Hx()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class WM{constructor(){this.So=new JT,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,i){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new JT,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="ConnectivityMonitor";class tb{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){Ee(eb,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){Ee(eb,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xf=null;function Sg(){return Xf===null?Xf=function(){return 268435456+Math.round(2147483648*Math.random())}():Xf++,"0x"+Xf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kp="RestConnection",JM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class eN{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${i}/databases/${s}`,this.qo=this.databaseId.database===Ih?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Qo(e,t,i,s,l){const c=Sg(),d=this.$o(e,t.toUriEncodedString());Ee(kp,`Sending RPC '${e}' ${c}:`,d,i);const m={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(m,s,l);const{host:g}=new URL(d),v=_l(g);return this.Ko(e,d,m,i,v).then(E=>(Ee(kp,`Received RPC '${e}' ${c}: `,E),E),E=>{throw ol(kp,`RPC '${e}' ${c} failed with error: `,E,"url: ",d,"request:",i),E})}Wo(e,t,i,s,l,c){return this.Qo(e,t,i,s,l)}Uo(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Tl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,l)=>e[l]=s),i&&i.headers.forEach((s,l)=>e[l]=s)}$o(e,t){const i=JM[e];return`${this.Lo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mn="WebChannelConnection";class nN extends eN{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,i,s,l){const c=Sg();return new Promise((d,m)=>{const g=new AA;g.setWithCredentials(!0),g.listenOnce(wA.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case sh.NO_ERROR:const E=g.getResponseJson();Ee(Mn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),d(E);break;case sh.TIMEOUT:Ee(Mn,`RPC '${e}' ${c} timed out`),m(new Te(se.DEADLINE_EXCEEDED,"Request time out"));break;case sh.HTTP_ERROR:const b=g.getStatus();if(Ee(Mn,`RPC '${e}' ${c} failed with status:`,b,"response text:",g.getResponseText()),b>0){let I=g.getResponseJson();Array.isArray(I)&&(I=I[0]);const M=I==null?void 0:I.error;if(M&&M.status&&M.message){const V=function(Z){const j=Z.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(j)>=0?j:se.UNKNOWN}(M.status);m(new Te(V,M.message))}else m(new Te(se.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new Te(se.UNAVAILABLE,"Connection failed."));break;default:Ue(9055,{s_:e,streamId:c,o_:g.getLastErrorCode(),__:g.getLastError()})}}finally{Ee(Mn,`RPC '${e}' ${c} completed.`)}});const v=JSON.stringify(s);Ee(Mn,`RPC '${e}' ${c} sending request:`,s),g.send(t,"POST",v,i,15)})}a_(e,t,i){const s=Sg(),l=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=CA(),d=IA(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Uo(m.initMessageHeaders,t,i),m.encodeInitMessageHeaders=!0;const v=l.join("");Ee(Mn,`Creating RPC '${e}' stream ${s}: ${v}`,m);const E=c.createWebChannel(v,m);let b=!1,I=!1;const M=new tN({Go:D=>{I?Ee(Mn,`Not sending because RPC '${e}' stream ${s} is closed:`,D):(b||(Ee(Mn,`Opening RPC '${e}' stream ${s} transport.`),E.open(),b=!0),Ee(Mn,`RPC '${e}' stream ${s} sending:`,D),E.send(D))},zo:()=>E.close()}),V=(D,Z,j)=>{D.listen(Z,Y=>{try{j(Y)}catch(te){setTimeout(()=>{throw te},0)}})};return V(E,ju.EventType.OPEN,()=>{I||(Ee(Mn,`RPC '${e}' stream ${s} transport opened.`),M.t_())}),V(E,ju.EventType.CLOSE,()=>{I||(I=!0,Ee(Mn,`RPC '${e}' stream ${s} transport closed`),M.r_())}),V(E,ju.EventType.ERROR,D=>{I||(I=!0,ol(Mn,`RPC '${e}' stream ${s} transport errored. Name:`,D.name,"Message:",D.message),M.r_(new Te(se.UNAVAILABLE,"The operation could not be completed")))}),V(E,ju.EventType.MESSAGE,D=>{var Z;if(!I){const j=D.data[0];pt(!!j,16349);const Y=j,te=(Y==null?void 0:Y.error)||((Z=Y[0])===null||Z===void 0?void 0:Z.error);if(te){Ee(Mn,`RPC '${e}' stream ${s} received error:`,te);const K=te.status;let he=function(C){const x=Wt[C];if(x!==void 0)return uw(x)}(K),S=te.message;he===void 0&&(he=se.INTERNAL,S="Unknown error status: "+K+" with message "+te.message),I=!0,M.r_(new Te(he,S)),E.close()}else Ee(Mn,`RPC '${e}' stream ${s} received:`,j),M.i_(j)}}),V(d,RA.STAT_EVENT,D=>{D.stat===cg.PROXY?Ee(Mn,`RPC '${e}' stream ${s} detected buffering proxy`):D.stat===cg.NOPROXY&&Ee(Mn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{M.n_()},0),M}}function Vp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ad(n){return new sM(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e,t,i=1e3,s=1.5,l=6e4){this.bi=e,this.timerId=t,this.u_=i,this.c_=s,this.l_=l,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),i=Math.max(0,Date.now()-this.T_),s=Math.max(0,t-i);s>0&&Ee("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,s,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb="PersistentStream";class Aw{constructor(e,t,i,s,l,c,d,m){this.bi=e,this.R_=i,this.V_=s,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new Sw(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===se.RESOURCE_EXHAUSTED?(na(t.toString()),na("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.m_===t&&this.B_(i,s)},i=>{e(()=>{const s=new Te(se.UNKNOWN,"Fetching auth token failed: "+i.message);return this.L_(s)})})}B_(e,t){const i=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{i(()=>this.listener.jo())}),this.stream.Jo(()=>{i(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(s=>{i(()=>this.L_(s))}),this.stream.onMessage(s=>{i(()=>++this.p_==1?this.q_(s):this.onNext(s))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return Ee(nb,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(Ee(nb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rN extends Aw{constructor(e,t,i,s,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,s,c),this.serializer=l}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=uM(this.serializer,e),i=function(l){if(!("targetChange"in l))return Be.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Be.min():c.readTime?_i(c.readTime):Be.min()}(e);return this.listener.Q_(t,i)}U_(e){const t={};t.database=Tg(this.serializer),t.addTarget=function(l,c){let d;const m=c.target;if(d=pg(m)?{documents:hM(l,m)}:{query:dM(l,m).gt},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=hw(l,c.resumeToken);const g=vg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Be.min())>0){d.readTime=xh(l,c.snapshotVersion.toTimestamp());const g=vg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const i=pM(this.serializer,e);i&&(t.labels=i),this.F_(t)}K_(e){const t={};t.database=Tg(this.serializer),t.removeTarget=e,this.F_(t)}}class iN extends Aw{constructor(e,t,i,s,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,s,c),this.serializer=l}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return pt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,pt(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){pt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=fM(e.writeResults,e.commitTime),i=_i(e.commitTime);return this.listener.j_(i,t)}H_(){const e={};e.database=Tg(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>cM(this.serializer,i))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{}class sN extends aN{constructor(e,t,i,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=s,this.J_=!1}Y_(){if(this.J_)throw new Te(se.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,i,s){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Qo(e,_g(t,i),s,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Te(se.UNKNOWN,l.toString())})}Wo(e,t,i,s,l){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Wo(e,_g(t,i),s,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Te(se.UNKNOWN,c.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class oN{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(na(t),this.ea=!1):Ee("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro="RemoteStore";class lN{constructor(e,t,i,s,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=l,this.ca.vo(c=>{i.enqueueAndForget(async()=>{lo(this)&&(Ee(ro,"Restarting streams for network reachability change."),await async function(m){const g=je(m);g.aa.add(4),await Sc(g),g.la.set("Unknown"),g.aa.delete(4),await sd(g)}(this))})}),this.la=new oN(i,s)}}async function sd(n){if(lo(n))for(const e of n.ua)await e(!0)}async function Sc(n){for(const e of n.ua)await e(!1)}function ww(n,e){const t=je(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),Uy(t)?Ly(t):wl(t).b_()&&Vy(t,e))}function ky(n,e){const t=je(n),i=wl(t);t._a.delete(e),i.b_()&&Rw(t,e),t._a.size===0&&(i.b_()?i.v_():lo(t)&&t.la.set("Unknown"))}function Vy(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Be.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}wl(n).U_(e)}function Rw(n,e){n.ha.Ke(e),wl(n).K_(e)}function Ly(n){n.ha=new nM({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),wl(n).start(),n.la.ta()}function Uy(n){return lo(n)&&!wl(n).w_()&&n._a.size>0}function lo(n){return je(n).aa.size===0}function Iw(n){n.ha=void 0}async function uN(n){n.la.set("Online")}async function cN(n){n._a.forEach((e,t)=>{Vy(n,e)})}async function fN(n,e){Iw(n),Uy(n)?(n.la.ia(e),Ly(n)):n.la.set("Unknown")}async function hN(n,e,t){if(n.la.set("Online"),e instanceof fw&&e.state===2&&e.cause)try{await async function(s,l){const c=l.cause;for(const d of l.targetIds)s._a.has(d)&&(await s.remoteSyncer.rejectListen(d,c),s._a.delete(d),s.ha.removeTarget(d))}(n,e)}catch(i){Ee(ro,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Nh(n,i)}else if(e instanceof ch?n.ha.Xe(e):e instanceof cw?n.ha.ot(e):n.ha.nt(e),!t.isEqual(Be.min()))try{const i=await bw(n.localStore);t.compareTo(i)>=0&&await function(l,c){const d=l.ha.It(c);return d.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const v=l._a.get(g);v&&l._a.set(g,v.withResumeToken(m.resumeToken,c))}}),d.targetMismatches.forEach((m,g)=>{const v=l._a.get(m);if(!v)return;l._a.set(m,v.withResumeToken(Rn.EMPTY_BYTE_STRING,v.snapshotVersion)),Rw(l,m);const E=new Ha(v.target,m,g,v.sequenceNumber);Vy(l,E)}),l.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){Ee(ro,"Failed to raise snapshot:",i),await Nh(n,i)}}async function Nh(n,e,t){if(!Sl(e))throw e;n.aa.add(1),await Sc(n),n.la.set("Offline"),t||(t=()=>bw(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Ee(ro,"Retrying IndexedDB access"),await t(),n.aa.delete(1),await sd(n)})}function Cw(n,e){return e().catch(t=>Nh(n,t,e))}async function od(n){const e=je(n),t=ns(e);let i=e.oa.length>0?e.oa[e.oa.length-1].batchId:Ty;for(;dN(e);)try{const s=await QM(e.localStore,i);if(s===null){e.oa.length===0&&t.v_();break}i=s.batchId,mN(e,s)}catch(s){await Nh(e,s)}Dw(e)&&Ow(e)}function dN(n){return lo(n)&&n.oa.length<10}function mN(n,e){n.oa.push(e);const t=ns(n);t.b_()&&t.W_&&t.G_(e.mutations)}function Dw(n){return lo(n)&&!ns(n).w_()&&n.oa.length>0}function Ow(n){ns(n).start()}async function pN(n){ns(n).H_()}async function gN(n){const e=ns(n);for(const t of n.oa)e.G_(t.mutations)}async function yN(n,e,t){const i=n.oa.shift(),s=Cy.from(i,e,t);await Cw(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await od(n)}async function vN(n,e){e&&ns(n).W_&&await async function(i,s){if(function(c){return eM(c)&&c!==se.ABORTED}(s.code)){const l=i.oa.shift();ns(i).D_(),await Cw(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,s)),await od(i)}}(n,e),Dw(n)&&Ow(n)}async function rb(n,e){const t=je(n);t.asyncQueue.verifyOperationInProgress(),Ee(ro,"RemoteStore received new credentials");const i=lo(t);t.aa.add(3),await Sc(t),i&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await sd(t)}async function _N(n,e){const t=je(n);e?(t.aa.delete(2),await sd(t)):e||(t.aa.add(2),await Sc(t),t.la.set("Unknown"))}function wl(n){return n.Pa||(n.Pa=function(t,i,s){const l=je(t);return l.Y_(),new rN(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(n.datastore,n.asyncQueue,{jo:uN.bind(null,n),Jo:cN.bind(null,n),Zo:fN.bind(null,n),Q_:hN.bind(null,n)}),n.ua.push(async e=>{e?(n.Pa.D_(),Uy(n)?Ly(n):n.la.set("Unknown")):(await n.Pa.stop(),Iw(n))})),n.Pa}function ns(n){return n.Ta||(n.Ta=function(t,i,s){const l=je(t);return l.Y_(),new iN(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:pN.bind(null,n),Zo:vN.bind(null,n),z_:gN.bind(null,n),j_:yN.bind(null,n)}),n.ua.push(async e=>{e?(n.Ta.D_(),await od(n)):(await n.Ta.stop(),n.oa.length>0&&(Ee(ro,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(e,t,i,s,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=s,this.removalCallback=l,this.deferred=new Zi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,s,l){const c=Date.now()+i,d=new zy(e,t,c,s,l);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function By(n,e){if(na("AsyncQueue",`${e}: ${n}`),Sl(n))return new Te(se.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{static emptySet(e){return new il(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||xe.comparator(t.key,i.key):(t,i)=>xe.comparator(t.key,i.key),this.keyedMap=Hu(),this.sortedSet=new Ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof il)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=i.getNext().key;if(!s.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new il;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(){this.Ia=new Ut(xe.comparator)}track(e){const t=e.doc.key,i=this.Ia.get(t);i?e.type!==0&&i.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&i.type!==1?this.Ia=this.Ia.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Ia=this.Ia.remove(t):e.type===1&&i.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):Ue(63341,{Vt:e,Ea:i}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,i)=>{e.push(i)}),e}}class dl{constructor(e,t,i,s,l,c,d,m,g){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,t,i,s,l){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new dl(e,t,il.emptySet(t),c,i,s,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ed(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==i[s].type||!t[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class TN{constructor(){this.queries=ab(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,i){const s=je(t),l=s.queries;s.queries=ab(),l.forEach((c,d)=>{for(const m of d.Ra)m.onError(i)})})(this,new Te(se.ABORTED,"Firestore shutting down"))}}function ab(){return new oo(n=>YA(n),ed)}async function jy(n,e){const t=je(n);let i=3;const s=e.query;let l=t.queries.get(s);l?!l.Va()&&e.ma()&&(i=2):(l=new EN,i=e.ma()?0:1);try{switch(i){case 0:l.Aa=await t.onListen(s,!0);break;case 1:l.Aa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(c){const d=By(c,`Initialization of query '${Zo(e.query)}' failed`);return void e.onError(d)}t.queries.set(s,l),l.Ra.push(e),e.ga(t.onlineState),l.Aa&&e.pa(l.Aa)&&Fy(t)}async function Hy(n,e){const t=je(n),i=e.query;let s=3;const l=t.queries.get(i);if(l){const c=l.Ra.indexOf(e);c>=0&&(l.Ra.splice(c,1),l.Ra.length===0?s=e.ma()?0:1:!l.Va()&&e.ma()&&(s=2))}switch(s){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function bN(n,e){const t=je(n);let i=!1;for(const s of e){const l=s.query,c=t.queries.get(l);if(c){for(const d of c.Ra)d.pa(s)&&(i=!0);c.Aa=s}}i&&Fy(t)}function SN(n,e,t){const i=je(n),s=i.queries.get(e);if(s)for(const l of s.Ra)l.onError(t);i.queries.delete(e)}function Fy(n){n.fa.forEach(e=>{e.next()})}var Ag,sb;(sb=Ag||(Ag={})).ya="default",sb.Cache="cache";class qy{constructor(e,t,i){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=i||{}}pa(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new dl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const i=t!=="Offline";return(!this.options.Fa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=dl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==Ag.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e){this.key=e}}class Mw{constructor(e){this.key=e}}class AN{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=et(),this.mutatedKeys=et(),this.Ua=WA(e),this.Ka=new il(this.Ua)}get Wa(){return this.qa}Ga(e,t){const i=t?t.za:new ib,s=t?t.Ka:this.Ka;let l=t?t.mutatedKeys:this.mutatedKeys,c=s,d=!1;const m=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,g=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((v,E)=>{const b=s.get(v),I=td(this.query,E)?E:null,M=!!b&&this.mutatedKeys.has(b.key),V=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let D=!1;b&&I?b.data.isEqual(I.data)?M!==V&&(i.track({type:3,doc:I}),D=!0):this.ja(b,I)||(i.track({type:2,doc:I}),D=!0,(m&&this.Ua(I,m)>0||g&&this.Ua(I,g)<0)&&(d=!0)):!b&&I?(i.track({type:0,doc:I}),D=!0):b&&!I&&(i.track({type:1,doc:b}),D=!0,(m||g)&&(d=!0)),D&&(I?(c=c.add(I),l=V?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{Ka:c,za:i,ys:d,mutatedKeys:l}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,s){const l=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const c=e.za.da();c.sort((v,E)=>function(I,M){const V=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue(20277,{Vt:D})}};return V(I)-V(M)}(v.type,E.type)||this.Ua(v.doc,E.doc)),this.Ha(i),s=s!=null&&s;const d=t&&!s?this.Ja():[],m=this.$a.size===0&&this.current&&!s?1:0,g=m!==this.Qa;return this.Qa=m,c.length!==0||g?{snapshot:new dl(this.query,e.Ka,l,c,e.mutatedKeys,m===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ya:d}:{Ya:d}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new ib,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=et(),this.Ka.forEach(i=>{this.Za(i.key)&&(this.$a=this.$a.add(i.key))});const t=[];return e.forEach(i=>{this.$a.has(i)||t.push(new Mw(i))}),this.$a.forEach(i=>{e.has(i)||t.push(new xw(i))}),t}Xa(e){this.qa=e.Ns,this.$a=et();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return dl.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Gy="SyncEngine";class wN{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class RN{constructor(e){this.key=e,this.tu=!1}}class IN{constructor(e,t,i,s,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=s,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.nu={},this.ru=new oo(d=>YA(d),ed),this.iu=new Map,this.su=new Set,this.ou=new Ut(xe.comparator),this._u=new Map,this.au=new xy,this.uu={},this.cu=new Map,this.lu=hl.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function CN(n,e,t=!0){const i=Uw(n);let s;const l=i.ru.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),s=l.view.eu()):s=await Nw(i,e,t,!0),s}async function DN(n,e){const t=Uw(n);await Nw(t,e,!0,!1)}async function Nw(n,e,t,i){const s=await XM(n.localStore,vi(e)),l=s.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await ON(n,e,l,c==="current",s.resumeToken)),n.isPrimaryClient&&t&&ww(n.remoteStore,s),d}async function ON(n,e,t,i,s){n.Pu=(E,b,I)=>async function(V,D,Z,j){let Y=D.view.Ga(Z);Y.ys&&(Y=await ZT(V.localStore,D.query,!1).then(({documents:S})=>D.view.Ga(S,Y)));const te=j&&j.targetChanges.get(D.targetId),K=j&&j.targetMismatches.get(D.targetId)!=null,he=D.view.applyChanges(Y,V.isPrimaryClient,te,K);return lb(V,D.targetId,he.Ya),he.snapshot}(n,E,b,I);const l=await ZT(n.localStore,e,!0),c=new AN(e,l.Ns),d=c.Ga(l.documents),m=bc.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",s),g=c.applyChanges(d,n.isPrimaryClient,m);lb(n,t,g.Ya);const v=new wN(e,t,c);return n.ru.set(e,v),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),g.snapshot}async function xN(n,e,t){const i=je(n),s=i.ru.get(e),l=i.iu.get(s.targetId);if(l.length>1)return i.iu.set(s.targetId,l.filter(c=>!ed(c,e))),void i.ru.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await bg(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),t&&ky(i.remoteStore,s.targetId),wg(i,s.targetId)}).catch(bl)):(wg(i,s.targetId),await bg(i.localStore,s.targetId,!0))}async function MN(n,e){const t=je(n),i=t.ru.get(e),s=t.iu.get(i.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),ky(t.remoteStore,i.targetId))}async function NN(n,e,t){const i=BN(n);try{const s=await function(c,d){const m=je(c),g=sn.now(),v=d.reduce((I,M)=>I.add(M.key),et());let E,b;return m.persistence.runTransaction("Locally write mutations","readwrite",I=>{let M=ra(),V=et();return m.Cs.getEntries(I,v).next(D=>{M=D,M.forEach((Z,j)=>{j.isValidDocument()||(V=V.add(Z))})}).next(()=>m.localDocuments.getOverlayedDocuments(I,M)).next(D=>{E=D;const Z=[];for(const j of d){const Y=Xx(j,E.get(j.key).overlayedDocument);Y!=null&&Z.push(new os(j.key,Y,HA(Y.value.mapValue),Pr.exists(!0)))}return m.mutationQueue.addMutationBatch(I,g,Z,d)}).next(D=>{b=D;const Z=D.applyToLocalDocumentSet(E,V);return m.documentOverlayCache.saveOverlays(I,D.batchId,Z)})}).then(()=>({batchId:b.batchId,changes:JA(E)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(c,d,m){let g=c.uu[c.currentUser.toKey()];g||(g=new Ut($e)),g=g.insert(d,m),c.uu[c.currentUser.toKey()]=g}(i,s.batchId,t),await Ac(i,s.changes),await od(i.remoteStore)}catch(s){const l=By(s,"Failed to persist write");t.reject(l)}}async function Pw(n,e){const t=je(n);try{const i=await $M(t.localStore,e);e.targetChanges.forEach((s,l)=>{const c=t._u.get(l);c&&(pt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?c.tu=!0:s.modifiedDocuments.size>0?pt(c.tu,14607):s.removedDocuments.size>0&&(pt(c.tu,42227),c.tu=!1))}),await Ac(t,i,e)}catch(i){await bl(i)}}function ob(n,e,t){const i=je(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const s=[];i.ru.forEach((l,c)=>{const d=c.view.ga(e);d.snapshot&&s.push(d.snapshot)}),function(c,d){const m=je(c);m.onlineState=d;let g=!1;m.queries.forEach((v,E)=>{for(const b of E.Ra)b.ga(d)&&(g=!0)}),g&&Fy(m)}(i.eventManager,e),s.length&&i.nu.Q_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function PN(n,e,t){const i=je(n);i.sharedClientState.updateQueryState(e,"rejected",t);const s=i._u.get(e),l=s&&s.key;if(l){let c=new Ut(xe.comparator);c=c.insert(l,Pn.newNoDocument(l,Be.min()));const d=et().add(l),m=new id(Be.min(),new Map,new Ut($e),c,d);await Pw(i,m),i.ou=i.ou.remove(l),i._u.delete(e),$y(i)}else await bg(i.localStore,e,!1).then(()=>wg(i,e,t)).catch(bl)}async function kN(n,e){const t=je(n),i=e.batch.batchId;try{const s=await GM(t.localStore,e);Vw(t,i,null),kw(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Ac(t,s)}catch(s){await bl(s)}}async function VN(n,e,t){const i=je(n);try{const s=await function(c,d){const m=je(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return m.mutationQueue.lookupMutationBatch(g,d).next(E=>(pt(E!==null,37113),v=E.keys(),m.mutationQueue.removeMutationBatch(g,E))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,v,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>m.localDocuments.getDocuments(g,v))})}(i.localStore,e);Vw(i,e,t),kw(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Ac(i,s)}catch(s){await bl(s)}}function kw(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function Vw(n,e,t){const i=je(n);let s=i.uu[i.currentUser.toKey()];if(s){const l=s.get(e);l&&(t?l.reject(t):l.resolve(),s=s.remove(e)),i.uu[i.currentUser.toKey()]=s}}function wg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.iu.get(e))n.ru.delete(i),t&&n.nu.Tu(i,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(i=>{n.au.containsKey(i)||Lw(n,i)})}function Lw(n,e){n.su.delete(e.path.canonicalString());const t=n.ou.get(e);t!==null&&(ky(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),$y(n))}function lb(n,e,t){for(const i of t)i instanceof xw?(n.au.addReference(i.key,e),LN(n,i)):i instanceof Mw?(Ee(Gy,"Document no longer in limbo: "+i.key),n.au.removeReference(i.key,e),n.au.containsKey(i.key)||Lw(n,i.key)):Ue(19791,{Iu:i})}function LN(n,e){const t=e.key,i=t.path.canonicalString();n.ou.get(t)||n.su.has(i)||(Ee(Gy,"New document in limbo: "+t),n.su.add(i),$y(n))}function $y(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const e=n.su.values().next().value;n.su.delete(e);const t=new xe(Nt.fromString(e)),i=n.lu.next();n._u.set(i,new RN(t)),n.ou=n.ou.insert(t,i),ww(n.remoteStore,new Ha(vi(Jh(t.path)),i,"TargetPurposeLimboResolution",Yh.le))}}async function Ac(n,e,t){const i=je(n),s=[],l=[],c=[];i.ru.isEmpty()||(i.ru.forEach((d,m)=>{c.push(i.Pu(m,e,t).then(g=>{var v;if((g||t)&&i.isPrimaryClient){const E=g?!g.fromCache:(v=t==null?void 0:t.targetChanges.get(m.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(m.targetId,E?"current":"not-current")}if(g){s.push(g);const E=Ny.Ps(m.targetId,g);l.push(E)}}))}),await Promise.all(c),i.nu.Q_(s),await async function(m,g){const v=je(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>oe.forEach(g,b=>oe.forEach(b.ls,I=>v.persistence.referenceDelegate.addReference(E,b.targetId,I)).next(()=>oe.forEach(b.hs,I=>v.persistence.referenceDelegate.removeReference(E,b.targetId,I)))))}catch(E){if(!Sl(E))throw E;Ee(Py,"Failed to update sequence numbers: "+E)}for(const E of g){const b=E.targetId;if(!E.fromCache){const I=v.Ss.get(b),M=I.snapshotVersion,V=I.withLastLimboFreeSnapshotVersion(M);v.Ss=v.Ss.insert(b,V)}}}(i.localStore,l))}async function UN(n,e){const t=je(n);if(!t.currentUser.isEqual(e)){Ee(Gy,"User change. New user:",e.toKey());const i=await Tw(t.localStore,e);t.currentUser=e,function(l,c){l.cu.forEach(d=>{d.forEach(m=>{m.reject(new Te(se.CANCELLED,c))})}),l.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Ac(t,i.Ms)}}function zN(n,e){const t=je(n),i=t._u.get(e);if(i&&i.tu)return et().add(i.key);{let s=et();const l=t.iu.get(e);if(!l)return s;for(const c of l){const d=t.ru.get(c);s=s.unionWith(d.view.Wa)}return s}}function Uw(n){const e=je(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Pw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=PN.bind(null,e),e.nu.Q_=bN.bind(null,e.eventManager),e.nu.Tu=SN.bind(null,e.eventManager),e}function BN(n){const e=je(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=VN.bind(null,e),e}class Ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ad(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return qM(this.persistence,new jM,e.initialUser,this.serializer)}Ru(e){return new Ew(My.Ei,this.serializer)}Au(e){return new WM}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ph.provider={build:()=>new Ph};class jN extends Ph{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){pt(this.persistence.referenceDelegate instanceof Mh,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new RM(i,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?Xn.withCacheSize(this.cacheSizeBytes):Xn.DEFAULT;return new Ew(i=>Mh.Ei(i,t),this.serializer)}}class Rg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>ob(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=UN.bind(null,this.syncEngine),await _N(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new TN}()}createDatastore(e){const t=ad(e.databaseInfo.databaseId),i=function(l){return new nN(l)}(e.databaseInfo);return function(l,c,d,m){return new sN(l,c,d,m)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,s,l,c,d){return new lN(i,s,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>ob(this.syncEngine,t,0),function(){return tb.C()?new tb:new ZM}())}createSyncEngine(e,t){return function(s,l,c,d,m,g,v){const E=new IN(s,l,c,d,m,g);return v&&(E.hu=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const l=je(s);Ee(ro,"RemoteStore shutting down."),l.aa.add(5),await Sc(l),l.ca.shutdown(),l.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Rg.provider={build:()=>new Rg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):na("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs="FirestoreClient";class HN{constructor(e,t,i,s,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=s,this.user=Nn.UNAUTHENTICATED,this.clientId=MA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{Ee(rs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(Ee(rs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=By(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Lp(n,e){n.asyncQueue.verifyOperationInProgress(),Ee(rs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async s=>{i.isEqual(s)||(await Tw(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function ub(n,e){n.asyncQueue.verifyOperationInProgress();const t=await FN(n);Ee(rs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>rb(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>rb(e.remoteStore,s)),n._onlineComponents=e}async function FN(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ee(rs,"Using user provided OfflineComponentProvider");try{await Lp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===se.FAILED_PRECONDITION||s.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;ol("Error using user provided cache. Falling back to memory cache: "+t),await Lp(n,new Ph)}}else Ee(rs,"Using default OfflineComponentProvider"),await Lp(n,new jN(void 0));return n._offlineComponents}async function zw(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ee(rs,"Using user provided OnlineComponentProvider"),await ub(n,n._uninitializedComponentsProvider._online)):(Ee(rs,"Using default OnlineComponentProvider"),await ub(n,new Rg))),n._onlineComponents}function qN(n){return zw(n).then(e=>e.syncEngine)}async function kh(n){const e=await zw(n),t=e.eventManager;return t.onListen=CN.bind(null,e.syncEngine),t.onUnlisten=xN.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=DN.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=MN.bind(null,e.syncEngine),t}function GN(n,e,t={}){const i=new Zi;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,g){const v=new Ky({next:b=>{v.yu(),c.enqueueAndForget(()=>Hy(l,E));const I=b.docs.has(d);!I&&b.fromCache?g.reject(new Te(se.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&b.fromCache&&m&&m.source==="server"?g.reject(new Te(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),E=new qy(Jh(d.path),v,{includeMetadataChanges:!0,Fa:!0});return jy(l,E)}(await kh(n),n.asyncQueue,e,t,i)),i.promise}function $N(n,e,t={}){const i=new Zi;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,g){const v=new Ky({next:b=>{v.yu(),c.enqueueAndForget(()=>Hy(l,E)),b.fromCache&&m.source==="server"?g.reject(new Te(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(b)},error:b=>g.reject(b)}),E=new qy(d,v,{includeMetadataChanges:!0,Fa:!0});return jy(l,E)}(await kh(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(n,e,t){if(!t)throw new Te(se.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function KN(n,e,t,i){if(e===!0&&i===!0)throw new Te(se.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function fb(n){if(!xe.isDocumentKey(n))throw new Te(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function hb(n){if(xe.isDocumentKey(n))throw new Te(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ld(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ue(12329,{type:typeof n})}function Zn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Te(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ld(n);throw new Te(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw="firestore.googleapis.com",db=!0;class mb{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Te(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Hw,this.ssl=db}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:db;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=_w;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<AM)throw new Te(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}KN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Bw((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Te(se.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Te(se.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Te(se.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ud{constructor(e,t,i,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Te(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Te(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new tx;switch(i.type){case"firstParty":return new ax(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Te(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=cb.get(t);i&&(Ee("ComponentProvider","Removing Datastore"),cb.delete(t),i.terminate())}(this),Promise.resolve()}}function QN(n,e,t,i={}){var s;n=Zn(n,ud);const l=_l(e),c=n._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),m=`${e}:${t}`;l&&ay(`https://${m}`),c.host!==Hw&&c.host!==m&&ol("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},c),{host:m,ssl:l,emulatorOptions:i});if(!Ya(g,d)&&(n._setSettings(g),i.mockUserToken)){let v,E;if(typeof i.mockUserToken=="string")v=i.mockUserToken,E=Nn.MOCK_USER;else{v=US(i.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new Te(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Nn(b)}n._authCredentials=new nx(new OA(v,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ls(this.firestore,e,this._query)}}class kn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kn(this.firestore,e,this._key)}}class Xa extends ls{constructor(e,t,i){super(e,t,Jh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kn(this.firestore,null,new xe(e))}withConverter(e){return new Xa(this.firestore,e,this._path)}}function o6(n,e,...t){if(n=Vt(n),jw("collection","path",e),n instanceof ud){const i=Nt.fromString(e,...t);return hb(i),new Xa(n,null,i)}{if(!(n instanceof kn||n instanceof Xa))throw new Te(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Nt.fromString(e,...t));return hb(i),new Xa(n.firestore,null,i)}}function Fw(n,e,...t){if(n=Vt(n),arguments.length===1&&(e=MA.newId()),jw("doc","path",e),n instanceof ud){const i=Nt.fromString(e,...t);return fb(i),new kn(n,null,new xe(i))}{if(!(n instanceof kn||n instanceof Xa))throw new Te(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Nt.fromString(e,...t));return fb(i),new kn(n.firestore,n instanceof Xa?n.converter:null,new xe(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="AsyncQueue";class gb{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new Sw(this,"async_queue_retry"),this.ju=()=>{const i=Vp();i&&Ee(pb,"Visibility state changed to "+i.visibilityState),this.y_.A_()},this.Hu=e;const t=Vp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=Vp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new Zi;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!Sl(e))throw e;Ee(pb,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(i=>{throw this.Ku=i,this.Wu=!1,na("INTERNAL UNHANDLED ERROR: ",yb(i)),i}).then(i=>(this.Wu=!1,i))));return this.Hu=t,t}enqueueAfterDelay(e,t,i){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const s=zy.createAndSchedule(this,e,t,i,l=>this.Xu(l));return this.Uu.push(s),s}Ju(){this.Ku&&Ue(47125,{ec:yb(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function yb(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(n){return function(t,i){if(typeof t!="object"||t===null)return!1;const s=t;for(const l of i)if(l in s&&typeof s[l]=="function")return!0;return!1}(n,["next","error","complete"])}class ia extends ud{constructor(e,t,i,s){super(e,t,i,s),this.type="firestore",this._queue=new gb,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gb(e),this._firestoreClient=void 0,await e}}}function XN(n,e){const t=typeof n=="object"?n:ly(),i=typeof n=="string"?n:Ih,s=$h(t,"firestore").getImmediate({identifier:i});if(!s._initialized){const l=kS("firestore");l&&QN(s,...l)}return s}function cd(n){if(n._terminated)throw new Te(se.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||YN(n),n._firestoreClient}function YN(n){var e,t,i;const s=n._freezeSettings(),l=function(d,m,g,v){return new Ex(d,m,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,Bw(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new HN(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ml(Rn.fromBase64String(e))}catch(t){throw new Te(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ml(Rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Te(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Te(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Te(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==s[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN=/^__.*__$/;class ZN{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new os(e,this.data,this.fieldMask,t,this.fieldTransforms):new Tc(e,this.data,t,this.fieldTransforms)}}class qw{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new os(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Gw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue(40011,{oc:n})}}class hd{constructor(e,t,i,s,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=s,l===void 0&&this._c(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new hd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ac({path:i,cc:!1});return s.lc(e),s}hc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ac({path:i,cc:!1});return s._c(),s}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Vh(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(Gw(this.oc)&&WN.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class JN{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||ad(e)}dc(e,t,i,s=!1){return new hd({oc:e,methodName:t,Ec:i,path:wn.emptyPath(),cc:!1,Ic:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dd(n){const e=n._freezeSettings(),t=ad(n._databaseId);return new JN(n._databaseId,!!e.ignoreUndefinedProperties,t)}function $w(n,e,t,i,s,l={}){const c=n.dc(l.merge||l.mergeFields?2:0,e,t,s);Zy("Data must be an object, but it was:",c,i);const d=Kw(i,c);let m,g;if(l.merge)m=new yr(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const E of l.mergeFields){const b=Ig(e,E,t);if(!c.contains(b))throw new Te(se.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);Xw(v,b)||v.push(b)}m=new yr(v),g=c.fieldTransforms.filter(E=>m.covers(E.field))}else m=null,g=c.fieldTransforms;return new ZN(new Wn(d),m,g)}class md extends wc{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof md}}function eP(n,e,t){return new hd({oc:3,Ec:e.settings.Ec,methodName:n._methodName,cc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Yy extends wc{_toFieldTransform(e){return new sw(e.path,new lc)}isEqual(e){return e instanceof Yy}}class Wy extends wc{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=eP(this,e,!0),i=this.Ac.map(l=>Rl(l,t)),s=new fl(i);return new sw(e.path,s)}isEqual(e){return e instanceof Wy&&Ya(this.Ac,e.Ac)}}function tP(n,e,t,i){const s=n.dc(1,e,t);Zy("Data must be an object, but it was:",s,i);const l=[],c=Wn.empty();ss(i,(m,g)=>{const v=Jy(e,m,t);g=Vt(g);const E=s.hc(v);if(g instanceof md)l.push(v);else{const b=Rl(g,E);b!=null&&(l.push(v),c.set(v,b))}});const d=new yr(l);return new qw(c,d,s.fieldTransforms)}function nP(n,e,t,i,s,l){const c=n.dc(1,e,t),d=[Ig(e,i,t)],m=[s];if(l.length%2!=0)throw new Te(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)d.push(Ig(e,l[b])),m.push(l[b+1]);const g=[],v=Wn.empty();for(let b=d.length-1;b>=0;--b)if(!Xw(g,d[b])){const I=d[b];let M=m[b];M=Vt(M);const V=c.hc(I);if(M instanceof md)g.push(I);else{const D=Rl(M,V);D!=null&&(g.push(I),v.set(I,D))}}const E=new yr(g);return new qw(v,E,c.fieldTransforms)}function rP(n,e,t,i=!1){return Rl(t,n.dc(i?4:3,e))}function Rl(n,e){if(Qw(n=Vt(n)))return Zy("Unsupported field value:",e,n),Kw(n,e);if(n instanceof wc)return function(i,s){if(!Gw(s.oc))throw s.Tc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Tc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(s);l&&s.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(i,s){const l=[];let c=0;for(const d of i){let m=Rl(d,s.Pc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,s){if((i=Vt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Fx(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=sn.fromDate(i);return{timestampValue:xh(s.serializer,l)}}if(i instanceof sn){const l=new sn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:xh(s.serializer,l)}}if(i instanceof Qy)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ml)return{bytesValue:hw(s.serializer,i._byteString)};if(i instanceof kn){const l=s.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw s.Tc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Oy(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof Xy)return function(c,d){return{mapValue:{fields:{[BA]:{stringValue:jA},[Ch]:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw d.Tc("VectorValues must only contain numeric values.");return Ry(d.serializer,g)})}}}}}}(i,s);throw s.Tc(`Unsupported field value: ${ld(i)}`)}(n,e)}function Kw(n,e){const t={};return PA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ss(n,(i,s)=>{const l=Rl(s,e.uc(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function Qw(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof sn||n instanceof Qy||n instanceof ml||n instanceof kn||n instanceof wc||n instanceof Xy)}function Zy(n,e,t){if(!Qw(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const i=ld(t);throw i==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+i)}}function Ig(n,e,t){if((e=Vt(e))instanceof fd)return e._internalPath;if(typeof e=="string")return Jy(n,e);throw Vh("Field path arguments must be of type string or ",n,!1,void 0,t)}const iP=new RegExp("[~\\*/\\[\\]]");function Jy(n,e,t){if(e.search(iP)>=0)throw Vh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new fd(...e.split("."))._internalPath}catch{throw Vh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Vh(n,e,t,i,s){const l=i&&!i.isEmpty(),c=s!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${i}`),c&&(m+=` in document ${s}`),m+=")"),new Te(se.INVALID_ARGUMENT,d+n+m)}function Xw(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e,t,i,s,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=s,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new kn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new aP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(pd("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class aP extends Yw{data(){return super.data()}}function pd(n,e){return typeof e=="string"?Jy(n,e):e instanceof fd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Te(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ev{}class Zw extends ev{}function l6(n,e,...t){let i=[];e instanceof ev&&i.push(e),i=i.concat(t),function(l){const c=l.filter(m=>m instanceof tv).length,d=l.filter(m=>m instanceof gd).length;if(c>1||c>0&&d>0)throw new Te(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)n=s._apply(n);return n}class gd extends Zw{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new gd(e,t,i)}_apply(e){const t=this._parse(e);return Jw(e._query,t),new ls(e.firestore,e.converter,gg(e._query,t))}_parse(e){const t=dd(e.firestore);return function(l,c,d,m,g,v,E){let b;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new Te(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){Eb(E,v);const M=[];for(const V of E)M.push(_b(m,l,V));b={arrayValue:{values:M}}}else b=_b(m,l,E)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||Eb(E,v),b=rP(d,c,E,v==="in"||v==="not-in");return en.create(g,v,b)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function u6(n,e,t){const i=e,s=pd("where",n);return gd._create(s,i,t)}class tv extends ev{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new tv(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Xr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,l){let c=s;const d=l.getFlattenedFilters();for(const m of d)Jw(c,m),c=gg(c,m)}(e._query,t),new ls(e.firestore,e.converter,gg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class nv extends Zw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new nv(e,t)}_apply(e){const t=function(s,l,c){if(s.startAt!==null)throw new Te(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Te(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new oc(l,c)}(e._query,this._field,this._direction);return new ls(e.firestore,e.converter,function(s,l){const c=s.explicitOrderBy.concat([l]);return new Al(s.path,s.collectionGroup,c,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function c6(n,e="asc"){const t=e,i=pd("orderBy",n);return nv._create(i,t)}function _b(n,e,t){if(typeof(t=Vt(t))=="string"){if(t==="")throw new Te(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!XA(e)&&t.indexOf("/")!==-1)throw new Te(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Nt.fromString(t));if(!xe.isDocumentKey(i))throw new Te(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return NT(n,new xe(i))}if(t instanceof kn)return NT(n,t._key);throw new Te(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ld(t)}.`)}function Eb(n,e){if(!Array.isArray(n)||n.length===0)throw new Te(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Jw(n,e){const t=function(s,l){for(const c of s)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Te(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Te(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class sP{convertValue(e,t="none"){switch(ts(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ue(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ss(e,(s,l)=>{i[s]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,s;const l=(s=(i=(t=e.fields)===null||t===void 0?void 0:t[Ch].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(c=>Kt(c.doubleValue));return new Xy(l)}convertGeoPoint(e){return new Qy(Kt(e.latitude),Kt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Zh(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(ic(e));default:return null}}convertTimestamp(e){const t=Ja(e);return new sn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Nt.fromString(e);pt(vw(i),9688,{name:e});const s=new ac(i.get(1),i.get(3)),l=new xe(i.popFirst(5));return s.isEqual(t)||na(`Document ${l} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class tR extends Yw{constructor(e,t,i,s,l,c){super(e,t,i,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new fh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(pd("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class fh extends tR{data(e={}){return super.data(e)}}class nR{constructor(e,t,i,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new qu(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new fh(this._firestore,this._userDataWriter,i.key,i,new qu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Te(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,l){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(d=>{const m=new fh(s._firestore,s._userDataWriter,d.doc.key,d.doc,new qu(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const m=new fh(s._firestore,s._userDataWriter,d.doc.key,d.doc,new qu(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let g=-1,v=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:oP(d.type),doc:m,oldIndex:g,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function oP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lP(n){n=Zn(n,kn);const e=Zn(n.firestore,ia);return GN(cd(e),n._key).then(t=>rR(e,n,t))}class rv extends sP{constructor(e){super(),this.firestore=e}convertBytes(e){return new ml(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new kn(this.firestore,null,t)}}function f6(n){n=Zn(n,ls);const e=Zn(n.firestore,ia),t=cd(e),i=new rv(e);return Ww(n._query),$N(t,n._query).then(s=>new nR(e,i,n,s))}function h6(n,e,t){n=Zn(n,kn);const i=Zn(n.firestore,ia),s=eR(n.converter,e);return yd(i,[$w(dd(i),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,Pr.none())])}function d6(n,e,t,...i){n=Zn(n,kn);const s=Zn(n.firestore,ia),l=dd(s);let c;return c=typeof(e=Vt(e))=="string"||e instanceof fd?nP(l,"updateDoc",n._key,e,t,i):tP(l,"updateDoc",n._key,e),yd(s,[c.toMutation(n._key,Pr.exists(!0))])}function m6(n){return yd(Zn(n.firestore,ia),[new Iy(n._key,Pr.none())])}function p6(n,e){const t=Zn(n.firestore,ia),i=Fw(n),s=eR(n.converter,e);return yd(t,[$w(dd(n.firestore),"addDoc",i._key,s,n.converter!==null,{}).toMutation(i._key,Pr.exists(!1))]).then(()=>i)}function g6(n,...e){var t,i,s;n=Vt(n);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||vb(e[c])||(l=e[c],c++);const d={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(vb(e[c])){const E=e[c];e[c]=(t=E.next)===null||t===void 0?void 0:t.bind(E),e[c+1]=(i=E.error)===null||i===void 0?void 0:i.bind(E),e[c+2]=(s=E.complete)===null||s===void 0?void 0:s.bind(E)}let m,g,v;if(n instanceof kn)g=Zn(n.firestore,ia),v=Jh(n._key.path),m={next:E=>{e[c]&&e[c](rR(g,n,E))},error:e[c+1],complete:e[c+2]};else{const E=Zn(n,ls);g=Zn(E.firestore,ia),v=E._query;const b=new rv(g);m={next:I=>{e[c]&&e[c](new nR(g,b,E,I))},error:e[c+1],complete:e[c+2]},Ww(n._query)}return function(b,I,M,V){const D=new Ky(V),Z=new qy(I,D,M);return b.asyncQueue.enqueueAndForget(async()=>jy(await kh(b),Z)),()=>{D.yu(),b.asyncQueue.enqueueAndForget(async()=>Hy(await kh(b),Z))}}(cd(g),v,d,m)}function yd(n,e){return function(i,s){const l=new Zi;return i.asyncQueue.enqueueAndForget(async()=>NN(await qN(i),s,l)),l.promise}(cd(n),e)}function rR(n,e,t){const i=t.docs.get(e._key),s=new rv(n);return new tR(n,s,e._key,i,new qu(t.hasPendingWrites,t.fromCache),e.converter)}function y6(){return new Yy("serverTimestamp")}function v6(...n){return new Wy("arrayUnion",n)}(function(e,t=!0){(function(s){Tl=s})(so),Js(new Wa("firestore",(i,{instanceIdentifier:s,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new ia(new rx(i.getProvider("auth-internal")),new sx(c,i.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Te(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ac(g.options.projectId,v)}(c,s),c);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),gi(TT,bT,e),gi(TT,bT,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR="firebasestorage.googleapis.com",aR="storageBucket",uP=2*60*1e3,cP=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt extends Ti{constructor(e,t,i=0){super(Up(e),`Firebase Storage: ${t} (${Up(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,qt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Up(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ft;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ft||(Ft={}));function Up(n){return"storage/"+n}function iv(){const n="An unknown error occurred, please check the error payload for server response.";return new qt(Ft.UNKNOWN,n)}function fP(n){return new qt(Ft.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function hP(n){return new qt(Ft.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function dP(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new qt(Ft.UNAUTHENTICATED,n)}function mP(){return new qt(Ft.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function pP(n){return new qt(Ft.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function gP(){return new qt(Ft.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function yP(){return new qt(Ft.CANCELED,"User canceled the upload/download.")}function vP(n){return new qt(Ft.INVALID_URL,"Invalid URL '"+n+"'.")}function _P(n){return new qt(Ft.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function EP(){return new qt(Ft.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+aR+"' property when initializing the app?")}function TP(){return new qt(Ft.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function bP(){return new qt(Ft.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function SP(n){return new qt(Ft.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Cg(n){return new qt(Ft.INVALID_ARGUMENT,n)}function sR(){return new qt(Ft.APP_DELETED,"The Firebase app was deleted.")}function AP(n){return new qt(Ft.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Wu(n,e){return new qt(Ft.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Mu(n){throw new qt(Ft.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=vr.makeFromUrl(e,t)}catch{return new vr(e,"")}if(i.path==="")return i;throw _P(e)}static makeFromUrl(e,t){let i=null;const s="([A-Za-z0-9.\\-_]+)";function l(te){te.path.charAt(te.path.length-1)==="/"&&(te.path_=te.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+s+c,"i"),m={bucket:1,path:3};function g(te){te.path_=decodeURIComponent(te.path)}const v="v[A-Za-z0-9_]+",E=t.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",I=new RegExp(`^https?://${E}/${v}/b/${s}/o${b}`,"i"),M={bucket:1,path:3},V=t===iR?"(?:storage.googleapis.com|storage.cloud.google.com)":t,D="([^?#]*)",Z=new RegExp(`^https?://${V}/${s}/${D}`,"i"),Y=[{regex:d,indices:m,postModify:l},{regex:I,indices:M,postModify:g},{regex:Z,indices:{bucket:1,path:2},postModify:g}];for(let te=0;te<Y.length;te++){const K=Y[te],he=K.regex.exec(e);if(he){const S=he[K.indices.bucket];let w=he[K.indices.path];w||(w=""),i=new vr(S,w),K.postModify(i);break}}if(i==null)throw vP(e);return i}}class wP{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RP(n,e,t){let i=1,s=null,l=null,c=!1,d=0;function m(){return d===2}let g=!1;function v(...D){g||(g=!0,e.apply(null,D))}function E(D){s=setTimeout(()=>{s=null,n(I,m())},D)}function b(){l&&clearTimeout(l)}function I(D,...Z){if(g){b();return}if(D){b(),v.call(null,D,...Z);return}if(m()||c){b(),v.call(null,D,...Z);return}i<64&&(i*=2);let Y;d===1?(d=2,Y=0):Y=(i+Math.random())*1e3,E(Y)}let M=!1;function V(D){M||(M=!0,b(),!g&&(s!==null?(D||(d=2),clearTimeout(s),E(0)):D||(d=1)))}return E(0),l=setTimeout(()=>{c=!0,V(!0)},t),V}function IP(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CP(n){return n!==void 0}function DP(n){return typeof n=="object"&&!Array.isArray(n)}function av(n){return typeof n=="string"||n instanceof String}function Tb(n){return sv()&&n instanceof Blob}function sv(){return typeof Blob<"u"}function bb(n,e,t,i){if(i<e)throw Cg(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw Cg(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(n,e,t){let i=e;return t==null&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function oR(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const s=e(i)+"="+e(n[i]);t=t+s+"&"}return t=t.slice(0,-1),t}var Ws;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Ws||(Ws={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(n,e){const t=n>=500&&n<600,s=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||s||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(e,t,i,s,l,c,d,m,g,v,E,b=!0,I=!1){this.url_=e,this.method_=t,this.headers_=i,this.body_=s,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=m,this.timeout_=g,this.progressCallback_=v,this.connectionFactory_=E,this.retry=b,this.isUsingEmulator=I,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((M,V)=>{this.resolve_=M,this.reject_=V,this.start_()})}start_(){const e=(i,s)=>{if(s){i(!1,new Yf(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=d=>{const m=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,g)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const d=l.getErrorCode()===Ws.NO_ERROR,m=l.getStatus();if(!d||OP(m,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===Ws.ABORT;i(!1,new Yf(!1,null,v));return}const g=this.successCodes_.indexOf(m)!==-1;i(!0,new Yf(g,l))})},t=(i,s)=>{const l=this.resolve_,c=this.reject_,d=s.connection;if(s.wasSuccessCode)try{const m=this.callback_(d,d.getResponse());CP(m)?l(m):l()}catch(m){c(m)}else if(d!==null){const m=iv();m.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,m)):c(m)}else if(s.canceled){const m=this.appDelete_?sR():yP();c(m)}else{const m=gP();c(m)}};this.canceled_?t(!1,new Yf(!1,null,!0)):this.backoffId_=RP(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&IP(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Yf{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function MP(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function NP(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function PP(n,e){e&&(n["X-Firebase-GMPID"]=e)}function kP(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function VP(n,e,t,i,s,l,c=!0,d=!1){const m=oR(n.urlParams),g=n.url+m,v=Object.assign({},n.headers);return PP(v,e),MP(v,t),NP(v,l),kP(v,i),new xP(g,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,c,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LP(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function UP(...n){const e=LP();if(e!==void 0){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}else{if(sv())return new Blob(n);throw new qt(Ft.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function zP(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BP(n){if(typeof atob>"u")throw SP("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class zp{constructor(e,t){this.data=e,this.contentType=t||null}}function jP(n,e){switch(n){case pi.RAW:return new zp(lR(e));case pi.BASE64:case pi.BASE64URL:return new zp(uR(n,e));case pi.DATA_URL:return new zp(FP(e),qP(e))}throw iv()}function lR(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=i,c=n.charCodeAt(++t);i=65536|(l&1023)<<10|c&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function HP(n){let e;try{e=decodeURIComponent(n)}catch{throw Wu(pi.DATA_URL,"Malformed data URL.")}return lR(e)}function uR(n,e){switch(n){case pi.BASE64:{const s=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(s||l)throw Wu(n,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case pi.BASE64URL:{const s=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(s||l)throw Wu(n,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=BP(e)}catch(s){throw s.message.includes("polyfill")?s:Wu(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i}class cR{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Wu(pi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;i!=null&&(this.base64=GP(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function FP(n){const e=new cR(n);return e.base64?uR(pi.BASE64,e.rest):HP(e.rest)}function qP(n){return new cR(n).contentType}function GP(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,t){let i=0,s="";Tb(e)?(this.data_=e,i=e.size,s=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,t){if(Tb(this.data_)){const i=this.data_,s=zP(i,e,t);return s===null?null:new ja(s)}else{const i=new Uint8Array(this.data_.buffer,e,t-e);return new ja(i,!0)}}static getBlob(...e){if(sv()){const t=e.map(i=>i instanceof ja?i.data_:i);return new ja(UP.apply(null,t))}else{const t=e.map(c=>av(c)?jP(pi.RAW,c).data:c.data_);let i=0;t.forEach(c=>{i+=c.byteLength});const s=new Uint8Array(i);let l=0;return t.forEach(c=>{for(let d=0;d<c.length;d++)s[l++]=c[d]}),new ja(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(n){let e;try{e=JSON.parse(n)}catch{return null}return DP(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $P(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function KP(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return n.length===0?t:n+"/"+t}function hR(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QP(n,e){return e}class Bn{constructor(e,t,i,s){this.server=e,this.local=t||e,this.writable=!!i,this.xform=s||QP}}let Wf=null;function XP(n){return!av(n)||n.length<2?n:hR(n)}function dR(){if(Wf)return Wf;const n=[];n.push(new Bn("bucket")),n.push(new Bn("generation")),n.push(new Bn("metageneration")),n.push(new Bn("name","fullPath",!0));function e(l,c){return XP(c)}const t=new Bn("name");t.xform=e,n.push(t);function i(l,c){return c!==void 0?Number(c):c}const s=new Bn("size");return s.xform=i,n.push(s),n.push(new Bn("timeCreated")),n.push(new Bn("updated")),n.push(new Bn("md5Hash",null,!0)),n.push(new Bn("cacheControl",null,!0)),n.push(new Bn("contentDisposition",null,!0)),n.push(new Bn("contentEncoding",null,!0)),n.push(new Bn("contentLanguage",null,!0)),n.push(new Bn("contentType",null,!0)),n.push(new Bn("metadata","customMetadata",!0)),Wf=n,Wf}function YP(n,e){function t(){const i=n.bucket,s=n.fullPath,l=new vr(i,s);return e._makeStorageReference(l)}Object.defineProperty(n,"ref",{get:t})}function WP(n,e,t){const i={};i.type="file";const s=t.length;for(let l=0;l<s;l++){const c=t[l];i[c.local]=c.xform(i,e[c.server])}return YP(i,n),i}function mR(n,e,t){const i=fR(e);return i===null?null:WP(n,i,t)}function ZP(n,e,t,i){const s=fR(e);if(s===null||!av(s.downloadTokens))return null;const l=s.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(g=>{const v=n.bucket,E=n.fullPath,b="/b/"+c(v)+"/o/"+c(E),I=ov(b,t,i),M=oR({alt:"media",token:g});return I+M})[0]}function JP(n,e){const t={},i=e.length;for(let s=0;s<i;s++){const l=e[s];l.writable&&(t[l.server]=n[l.local])}return JSON.stringify(t)}class pR{constructor(e,t,i,s){this.url=e,this.method=t,this.handler=i,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(n){if(!n)throw iv()}function ek(n,e){function t(i,s){const l=mR(n,s,e);return gR(l!==null),l}return t}function tk(n,e){function t(i,s){const l=mR(n,s,e);return gR(l!==null),ZP(l,s,n.host,n._protocol)}return t}function yR(n){function e(t,i){let s;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?s=mP():s=dP():t.getStatus()===402?s=hP(n.bucket):t.getStatus()===403?s=pP(n.path):s=i,s.status=t.getStatus(),s.serverResponse=i.serverResponse,s}return e}function nk(n){const e=yR(n);function t(i,s){let l=e(i,s);return i.getStatus()===404&&(l=fP(n.path)),l.serverResponse=s.serverResponse,l}return t}function rk(n,e,t){const i=e.fullServerUrl(),s=ov(i,n.host,n._protocol),l="GET",c=n.maxOperationRetryTime,d=new pR(s,l,tk(n,t),c);return d.errorHandler=nk(e),d}function ik(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function ak(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=ik(null,e)),i}function sk(n,e,t,i,s){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function d(){let Y="";for(let te=0;te<2;te++)Y=Y+Math.random().toString().slice(2);return Y}const m=d();c["Content-Type"]="multipart/related; boundary="+m;const g=ak(e,i,s),v=JP(g,t),E="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+m+`\r
Content-Type: `+g.contentType+`\r
\r
`,b=`\r
--`+m+"--",I=ja.getBlob(E,i,b);if(I===null)throw TP();const M={name:g.fullPath},V=ov(l,n.host,n._protocol),D="POST",Z=n.maxUploadRetryTime,j=new pR(V,D,ek(n,t),Z);return j.urlParams=M,j.headers=c,j.body=I.uploadData(),j.errorHandler=yR(e),j}class ok{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ws.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ws.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ws.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,s,l){if(this.sent_)throw Mu("cannot .send() more than once");if(_l(e)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),l!==void 0)for(const c in l)l.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,l[c].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Mu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Mu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Mu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Mu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class lk extends ok{initXhr(){this.xhr_.responseType="text"}}function vR(){return new lk}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e,t){this._service=e,t instanceof vr?this._location=t:this._location=vr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new io(e,t)}get root(){const e=new vr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return hR(this._location.path)}get storage(){return this._service}get parent(){const e=$P(this._location.path);if(e===null)return null;const t=new vr(this._location.bucket,e);return new io(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw AP(e)}}function uk(n,e,t){n._throwIfRoot("uploadBytes");const i=sk(n.storage,n._location,dR(),new ja(e,!0),t);return n.storage.makeRequestWithTokens(i,vR).then(s=>({metadata:s,ref:n}))}function ck(n){n._throwIfRoot("getDownloadURL");const e=rk(n.storage,n._location,dR());return n.storage.makeRequestWithTokens(e,vR).then(t=>{if(t===null)throw bP();return t})}function fk(n,e){const t=KP(n._location.path,e),i=new vr(n._location.bucket,t);return new io(n.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hk(n){return/^[A-Za-z]+:\/\//.test(n)}function dk(n,e){return new io(n,e)}function _R(n,e){if(n instanceof lv){const t=n;if(t._bucket==null)throw EP();const i=new io(t,t._bucket);return e!=null?_R(i,e):i}else return e!==void 0?fk(n,e):n}function mk(n,e){if(e&&hk(e)){if(n instanceof lv)return dk(n,e);throw Cg("To use ref(service, url), the first argument must be a Storage instance.")}else return _R(n,e)}function Sb(n,e){const t=e==null?void 0:e[aR];return t==null?null:vr.makeFromBucketSpec(t,n)}function pk(n,e,t,i={}){n.host=`${e}:${t}`;const s=_l(e);s&&ay(`https://${n.host}`),n._isUsingEmulator=!0,n._protocol=s?"https":"http";const{mockUserToken:l}=i;l&&(n._overrideAuthToken=typeof l=="string"?l:US(l,n.app.options.projectId))}class lv{constructor(e,t,i,s,l,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=s,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=iR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=uP,this._maxUploadRetryTime=cP,this._requests=new Set,s!=null?this._bucket=vr.makeFromBucketSpec(s,this._host):this._bucket=Sb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=vr.makeFromBucketSpec(this._url,e):this._bucket=Sb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){bb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){bb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new io(this,e)}_makeRequest(e,t,i,s,l=!0){if(this._deleted)return new wP(sR());{const c=VP(e,this._appId,i,s,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[i,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,s).getPromise()}}const Ab="@firebase/storage",wb="0.13.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER="storage";function _6(n,e,t){return n=Vt(n),uk(n,e,t)}function E6(n){return n=Vt(n),ck(n)}function T6(n,e){return n=Vt(n),mk(n,e)}function gk(n=ly(),e){n=Vt(n);const i=$h(n,ER).getImmediate({identifier:e}),s=kS("storage");return s&&yk(i,...s),i}function yk(n,e,t,i={}){pk(n,e,t,i)}function vk(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new lv(t,i,s,e,so)}function _k(){Js(new Wa(ER,vk,"PUBLIC").setMultipleInstances(!0)),gi(Ab,wb,""),gi(Ab,wb,"esm2017")}_k();const Ek={apiKey:"AIzaSyA0KMElLuUoAu_x-8ZzzcXEoMtFJ6BbQP0",authDomain:"realtime-chat-5a748.firebaseapp.com",projectId:"realtime-chat-5a748",storageBucket:"realtime-chat-5a748.firebasestorage.app",messagingSenderId:"961053510211",appId:"1:961053510211:web:1dfe11a84ef6b0db7e62f6"},uv=jS(Ek),Tk=WO(uv),b6=new Ki,bk=XN(uv),S6=gk(uv),TR=$.createContext({currentUser:null,loading:!0}),Sk=({children:n})=>{const[e,t]=$.useState(null),[i,s]=$.useState(!0);$.useEffect(()=>{const c=j2(Tk,d=>{t(d),s(!1)});return()=>c()},[]);const l=$.useMemo(()=>({currentUser:e,loading:i}),[e,i]);return St.jsx(TR.Provider,{value:l,children:n})},cv=()=>$.useContext(TR),bR=$.createContext({user:null}),Ak=({children:n})=>{const{currentUser:e}=cv(),[t,i]=$.useState(null);$.useEffect(()=>{(async()=>{if(!(e!=null&&e.uid)){i(null);return}try{const c=await lP(Fw(bk,"users",e.uid));c.exists()?i(c.data()):(console.warn("Khng tm thy user trong Firestore."),i(null))}catch(c){console.error("Li khi ly user t Firestore:",c),i(null)}})()},[e]);const s=$.useMemo(()=>({user:t}),[t]);return St.jsx(bR.Provider,{value:s,children:n})},A6=()=>$.useContext(bR);function wk(){return St.jsx("div",{className:"flex justify-center items-center h-screen text-xl text-blue-500",children:"ang ti ni dung..."})}var SR=OS();const Rk=ny(SR),Ik=DS({__proto__:null,default:Rk},[SR]);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kt(){return kt=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},kt.apply(this,arguments)}var Zt;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Zt||(Zt={}));const Rb="popstate";function Ck(n){n===void 0&&(n={});function e(i,s){let{pathname:l,search:c,hash:d}=i.location;return cc("",{pathname:l,search:c,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){return typeof s=="string"?s:ao(s)}return Ok(e,t,null,n)}function Ze(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function pl(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Dk(){return Math.random().toString(36).substr(2,8)}function Ib(n,e){return{usr:n.state,key:n.key,idx:e}}function cc(n,e,t,i){return t===void 0&&(t=null),kt({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?us(e):e,{state:t,key:e&&e.key||i||Dk()})}function ao(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function us(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function Ok(n,e,t,i){i===void 0&&(i={});let{window:s=document.defaultView,v5Compat:l=!1}=i,c=s.history,d=Zt.Pop,m=null,g=v();g==null&&(g=0,c.replaceState(kt({},c.state,{idx:g}),""));function v(){return(c.state||{idx:null}).idx}function E(){d=Zt.Pop;let D=v(),Z=D==null?null:D-g;g=D,m&&m({action:d,location:V.location,delta:Z})}function b(D,Z){d=Zt.Push;let j=cc(V.location,D,Z);g=v()+1;let Y=Ib(j,g),te=V.createHref(j);try{c.pushState(Y,"",te)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;s.location.assign(te)}l&&m&&m({action:d,location:V.location,delta:1})}function I(D,Z){d=Zt.Replace;let j=cc(V.location,D,Z);g=v();let Y=Ib(j,g),te=V.createHref(j);c.replaceState(Y,"",te),l&&m&&m({action:d,location:V.location,delta:0})}function M(D){let Z=s.location.origin!=="null"?s.location.origin:s.location.href,j=typeof D=="string"?D:ao(D);return j=j.replace(/ $/,"%20"),Ze(Z,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,Z)}let V={get action(){return d},get location(){return n(s,c)},listen(D){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(Rb,E),m=D,()=>{s.removeEventListener(Rb,E),m=null}},createHref(D){return e(s,D)},createURL:M,encodeLocation(D){let Z=M(D);return{pathname:Z.pathname,search:Z.search,hash:Z.hash}},push:b,replace:I,go(D){return c.go(D)}};return V}var vt;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(vt||(vt={}));const xk=new Set(["lazy","caseSensitive","path","id","index","children"]);function Mk(n){return n.index===!0}function Lh(n,e,t,i){return t===void 0&&(t=[]),i===void 0&&(i={}),n.map((s,l)=>{let c=[...t,String(l)],d=typeof s.id=="string"?s.id:c.join("-");if(Ze(s.index!==!0||!s.children,"Cannot specify children on an index route"),Ze(!i[d],'Found a route id collision on id "'+d+`".  Route id's must be globally unique within Data Router usages`),Mk(s)){let m=kt({},s,e(s),{id:d});return i[d]=m,m}else{let m=kt({},s,e(s),{id:d,children:void 0});return i[d]=m,s.children&&(m.children=Lh(s.children,e,c,i)),m}})}function Gs(n,e,t){return t===void 0&&(t="/"),hh(n,e,t,!1)}function hh(n,e,t,i){let s=typeof e=="string"?us(e):e,l=Il(s.pathname||"/",t);if(l==null)return null;let c=AR(n);Pk(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let g=Gk(l);d=Fk(c[m],g,i)}return d}function Nk(n,e){let{route:t,pathname:i,params:s}=n;return{id:t.id,pathname:i,params:s,data:e[t.id],handle:t.handle}}function AR(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let s=(l,c,d)=>{let m={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(Ze(m.relativePath.startsWith(i),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(i.length));let g=Ji([i,m.relativePath]),v=t.concat(m);l.children&&l.children.length>0&&(Ze(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),AR(l.children,e,v,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:jk(g,l.index),routesMeta:v})};return n.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))s(l,c);else for(let m of wR(l.path))s(l,c,m)}),e}function wR(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,s=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return s?[l,""]:[l];let c=wR(i.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),s&&d.push(...c),d.map(m=>n.startsWith("/")&&m===""?"/":m)}function Pk(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Hk(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const kk=/^:[\w-]+$/,Vk=3,Lk=2,Uk=1,zk=10,Bk=-2,Cb=n=>n==="*";function jk(n,e){let t=n.split("/"),i=t.length;return t.some(Cb)&&(i+=Bk),e&&(i+=Lk),t.filter(s=>!Cb(s)).reduce((s,l)=>s+(kk.test(l)?Vk:l===""?Uk:zk),i)}function Hk(n,e){return n.length===e.length&&n.slice(0,-1).every((i,s)=>i===e[s])?n[n.length-1]-e[e.length-1]:0}function Fk(n,e,t){t===void 0&&(t=!1);let{routesMeta:i}=n,s={},l="/",c=[];for(let d=0;d<i.length;++d){let m=i[d],g=d===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",E=Db({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},v),b=m.route;if(!E&&g&&t&&!i[i.length-1].route.index&&(E=Db({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!E)return null;Object.assign(s,E.params),c.push({params:s,pathname:Ji([l,E.pathname]),pathnameBase:Qk(Ji([l,E.pathnameBase])),route:b}),E.pathnameBase!=="/"&&(l=Ji([l,E.pathnameBase]))}return c}function Db(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=qk(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let l=s[0],c=l.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:i.reduce((g,v,E)=>{let{paramName:b,isOptional:I}=v;if(b==="*"){let V=d[E]||"";c=l.slice(0,l.length-V.length).replace(/(.)\/+$/,"$1")}const M=d[E];return I&&!M?g[b]=void 0:g[b]=(M||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:n}}function qk(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),pl(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(i.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function Gk(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return pl(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Il(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function $k(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:s=""}=typeof n=="string"?us(n):n;return{pathname:t?t.startsWith("/")?t:Kk(t,e):e,search:Xk(i),hash:Yk(s)}}function Kk(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Bp(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function RR(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function vd(n,e){let t=RR(n);return e?t.map((i,s)=>s===t.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function _d(n,e,t,i){i===void 0&&(i=!1);let s;typeof n=="string"?s=us(n):(s=kt({},n),Ze(!s.pathname||!s.pathname.includes("?"),Bp("?","pathname","search",s)),Ze(!s.pathname||!s.pathname.includes("#"),Bp("#","pathname","hash",s)),Ze(!s.search||!s.search.includes("#"),Bp("#","search","hash",s)));let l=n===""||s.pathname==="",c=l?"/":s.pathname,d;if(c==null)d=t;else{let E=e.length-1;if(!i&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),E-=1;s.pathname=b.join("/")}d=E>=0?e[E]:"/"}let m=$k(s,d),g=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(g||v)&&(m.pathname+="/"),m}const Ji=n=>n.join("/").replace(/\/\/+/g,"/"),Qk=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Xk=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Yk=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;class Uh{constructor(e,t,i,s){s===void 0&&(s=!1),this.status=e,this.statusText=t||"",this.internal=s,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}}function fc(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const IR=["post","put","patch","delete"],Wk=new Set(IR),Zk=["get",...IR],Jk=new Set(Zk),eV=new Set([301,302,303,307,308]),tV=new Set([307,308]),jp={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},nV={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Nu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},fv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rV=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),CR="remix-router-transitions";function iV(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",i=!t;Ze(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let s;if(n.mapRouteProperties)s=n.mapRouteProperties;else if(n.detectErrorBoundary){let P=n.detectErrorBoundary;s=B=>({hasErrorBoundary:P(B)})}else s=rV;let l={},c=Lh(n.routes,s,void 0,l),d,m=n.basename||"/",g=n.dataStrategy||lV,v=n.patchRoutesOnNavigation,E=kt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},n.future),b=null,I=new Set,M=null,V=null,D=null,Z=n.hydrationData!=null,j=Gs(c,n.history.location,m),Y=!1,te=null;if(j==null&&!v){let P=Qn(404,{pathname:n.history.location.pathname}),{matches:B,route:Q}=Bb(c);j=B,te={[Q.id]:P}}j&&!n.hydrationData&&Ur(j,c,n.history.location.pathname).active&&(j=null);let K;if(j)if(j.some(P=>P.route.lazy))K=!1;else if(!j.some(P=>P.route.loader))K=!0;else if(E.v7_partialHydration){let P=n.hydrationData?n.hydrationData.loaderData:null,B=n.hydrationData?n.hydrationData.errors:null;if(B){let Q=j.findIndex(le=>B[le.route.id]!==void 0);K=j.slice(0,Q+1).every(le=>!Og(le.route,P,B))}else K=j.every(Q=>!Og(Q.route,P,B))}else K=n.hydrationData!=null;else if(K=!1,j=[],E.v7_partialHydration){let P=Ur(null,c,n.history.location.pathname);P.active&&P.matches&&(Y=!0,j=P.matches)}let he,S={historyAction:n.history.action,location:n.history.location,matches:j,initialized:K,navigation:jp,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||te,fetchers:new Map,blockers:new Map},w=Zt.Pop,C=!1,x,U=!1,k=new Map,O=null,Se=!1,De=!1,J=[],ue=new Set,de=new Map,Ie=0,L=-1,re=new Map,ce=new Set,fe=new Map,be=new Map,Oe=new Set,Ce=new Map,st=new Map,ot;function Ln(){if(b=n.history.listen(P=>{let{action:B,location:Q,delta:le}=P;if(ot){ot(),ot=void 0;return}pl(st.size===0||le!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let pe=fa({currentLocation:S.location,nextLocation:Q,historyAction:B});if(pe&&le!=null){let we=new Promise(Ne=>{ot=Ne});n.history.go(le*-1),Jr(pe,{state:"blocked",location:Q,proceed(){Jr(pe,{state:"proceeding",proceed:void 0,reset:void 0,location:Q}),we.then(()=>n.history.go(le))},reset(){let Ne=new Map(S.blockers);Ne.set(pe,Nu),xt({blockers:Ne})}});return}return _r(B,Q)}),t){bV(e,k);let P=()=>SV(e,k);e.addEventListener("pagehide",P),O=()=>e.removeEventListener("pagehide",P)}return S.initialized||_r(Zt.Pop,S.location,{initialHydration:!0}),he}function Jn(){b&&b(),O&&O(),I.clear(),x&&x.abort(),S.fetchers.forEach((P,B)=>ua(B)),S.blockers.forEach((P,B)=>ca(B))}function er(P){return I.add(P),()=>I.delete(P)}function xt(P,B){B===void 0&&(B={}),S=kt({},S,P);let Q=[],le=[];E.v7_fetcherPersist&&S.fetchers.forEach((pe,we)=>{pe.state==="idle"&&(Oe.has(we)?le.push(we):Q.push(we))}),Oe.forEach(pe=>{!S.fetchers.has(pe)&&!de.has(pe)&&le.push(pe)}),[...I].forEach(pe=>pe(S,{deletedFetchers:le,viewTransitionOpts:B.viewTransitionOpts,flushSync:B.flushSync===!0})),E.v7_fetcherPersist?(Q.forEach(pe=>S.fetchers.delete(pe)),le.forEach(pe=>ua(pe))):le.forEach(pe=>Oe.delete(pe))}function _n(P,B,Q){var le,pe;let{flushSync:we}=Q===void 0?{}:Q,Ne=S.actionData!=null&&S.navigation.formMethod!=null&&Fr(S.navigation.formMethod)&&S.navigation.state==="loading"&&((le=P.state)==null?void 0:le._isRedirect)!==!0,ye;B.actionData?Object.keys(B.actionData).length>0?ye=B.actionData:ye=null:Ne?ye=S.actionData:ye=null;let ve=B.loaderData?Ub(S.loaderData,B.loaderData,B.matches||[],B.errors):S.loaderData,ge=S.blockers;ge.size>0&&(ge=new Map(ge),ge.forEach((ke,qe)=>ge.set(qe,Nu)));let _e=C===!0||S.navigation.formMethod!=null&&Fr(S.navigation.formMethod)&&((pe=P.state)==null?void 0:pe._isRedirect)!==!0;d&&(c=d,d=void 0),Se||w===Zt.Pop||(w===Zt.Push?n.history.push(P,P.state):w===Zt.Replace&&n.history.replace(P,P.state));let Me;if(w===Zt.Pop){let ke=k.get(S.location.pathname);ke&&ke.has(P.pathname)?Me={currentLocation:S.location,nextLocation:P}:k.has(P.pathname)&&(Me={currentLocation:P,nextLocation:S.location})}else if(U){let ke=k.get(S.location.pathname);ke?ke.add(P.pathname):(ke=new Set([P.pathname]),k.set(S.location.pathname,ke)),Me={currentLocation:S.location,nextLocation:P}}xt(kt({},B,{actionData:ye,loaderData:ve,historyAction:w,location:P,initialized:!0,navigation:jp,revalidation:"idle",restoreScrollPosition:Lr(P,B.matches||S.matches),preventScrollReset:_e,blockers:ge}),{viewTransitionOpts:Me,flushSync:we===!0}),w=Zt.Pop,C=!1,U=!1,Se=!1,De=!1,J=[]}async function Yr(P,B){if(typeof P=="number"){n.history.go(P);return}let Q=Dg(S.location,S.matches,m,E.v7_prependBasename,P,E.v7_relativeSplatPath,B==null?void 0:B.fromRouteId,B==null?void 0:B.relative),{path:le,submission:pe,error:we}=Ob(E.v7_normalizeFormMethod,!1,Q,B),Ne=S.location,ye=cc(S.location,le,B&&B.state);ye=kt({},ye,n.history.encodeLocation(ye));let ve=B&&B.replace!=null?B.replace:void 0,ge=Zt.Push;ve===!0?ge=Zt.Replace:ve===!1||pe!=null&&Fr(pe.formMethod)&&pe.formAction===S.location.pathname+S.location.search&&(ge=Zt.Replace);let _e=B&&"preventScrollReset"in B?B.preventScrollReset===!0:void 0,Me=(B&&B.flushSync)===!0,ke=fa({currentLocation:Ne,nextLocation:ye,historyAction:ge});if(ke){Jr(ke,{state:"blocked",location:ye,proceed(){Jr(ke,{state:"proceeding",proceed:void 0,reset:void 0,location:ye}),Yr(P,B)},reset(){let qe=new Map(S.blockers);qe.set(ke,Nu),xt({blockers:qe})}});return}return await _r(ge,ye,{submission:pe,pendingError:we,preventScrollReset:_e,replace:B&&B.replace,enableViewTransition:B&&B.viewTransition,flushSync:Me})}function ds(){if(lt(),xt({revalidation:"loading"}),S.navigation.state!=="submitting"){if(S.navigation.state==="idle"){_r(S.historyAction,S.location,{startUninterruptedRevalidation:!0});return}_r(w||S.historyAction,S.navigation.location,{overrideNavigation:S.navigation,enableViewTransition:U===!0})}}async function _r(P,B,Q){x&&x.abort(),x=null,w=P,Se=(Q&&Q.startUninterruptedRevalidation)===!0,gs(S.location,S.matches),C=(Q&&Q.preventScrollReset)===!0,U=(Q&&Q.enableViewTransition)===!0;let le=d||c,pe=Q&&Q.overrideNavigation,we=Q!=null&&Q.initialHydration&&S.matches&&S.matches.length>0&&!Y?S.matches:Gs(le,B,m),Ne=(Q&&Q.flushSync)===!0;if(we&&S.initialized&&!De&&mV(S.location,B)&&!(Q&&Q.submission&&Fr(Q.submission.formMethod))){_n(B,{matches:we},{flushSync:Ne});return}let ye=Ur(we,le,B.pathname);if(ye.active&&ye.matches&&(we=ye.matches),!we){let{error:ut,notFoundMatches:Ke,route:tt}=nr(B.pathname);_n(B,{matches:Ke,loaderData:{},errors:{[tt.id]:ut}},{flushSync:Ne});return}x=new AbortController;let ve=Xo(n.history,B,x.signal,Q&&Q.submission),ge;if(Q&&Q.pendingError)ge=[$s(we).route.id,{type:vt.error,error:Q.pendingError}];else if(Q&&Q.submission&&Fr(Q.submission.formMethod)){let ut=await jn(ve,B,Q.submission,we,ye.active,{replace:Q.replace,flushSync:Ne});if(ut.shortCircuited)return;if(ut.pendingActionResult){let[Ke,tt]=ut.pendingActionResult;if(gr(tt)&&fc(tt.error)&&tt.error.status===404){x=null,_n(B,{matches:ut.matches,loaderData:{},errors:{[Ke]:tt.error}});return}}we=ut.matches||we,ge=ut.pendingActionResult,pe=Hp(B,Q.submission),Ne=!1,ye.active=!1,ve=Xo(n.history,ve.url,ve.signal)}let{shortCircuited:_e,matches:Me,loaderData:ke,errors:qe}=await Ml(ve,B,we,ye.active,pe,Q&&Q.submission,Q&&Q.fetcherSubmission,Q&&Q.replace,Q&&Q.initialHydration===!0,Ne,ge);_e||(x=null,_n(B,kt({matches:Me||we},zb(ge),{loaderData:ke,errors:qe})))}async function jn(P,B,Q,le,pe,we){we===void 0&&(we={}),lt();let Ne=EV(B,Q);if(xt({navigation:Ne},{flushSync:we.flushSync===!0}),pe){let ge=await ar(le,B.pathname,P.signal);if(ge.type==="aborted")return{shortCircuited:!0};if(ge.type==="error"){let _e=$s(ge.partialMatches).route.id;return{matches:ge.partialMatches,pendingActionResult:[_e,{type:vt.error,error:ge.error}]}}else if(ge.matches)le=ge.matches;else{let{notFoundMatches:_e,error:Me,route:ke}=nr(B.pathname);return{matches:_e,pendingActionResult:[ke.id,{type:vt.error,error:Me}]}}}let ye,ve=Gu(le,B);if(!ve.route.action&&!ve.route.lazy)ye={type:vt.error,error:Qn(405,{method:P.method,pathname:B.pathname,routeId:ve.route.id})};else if(ye=(await Wr("action",S,P,[ve],le,null))[ve.route.id],P.signal.aborted)return{shortCircuited:!0};if(Ys(ye)){let ge;return we&&we.replace!=null?ge=we.replace:ge=kb(ye.response.headers.get("Location"),new URL(P.url),m)===S.location.pathname+S.location.search,await tr(P,ye,!0,{submission:Q,replace:ge}),{shortCircuited:!0}}if(Fa(ye))throw Qn(400,{type:"defer-action"});if(gr(ye)){let ge=$s(le,ve.route.id);return(we&&we.replace)!==!0&&(w=Zt.Push),{matches:le,pendingActionResult:[ge.route.id,ye]}}return{matches:le,pendingActionResult:[ve.route.id,ye]}}async function Ml(P,B,Q,le,pe,we,Ne,ye,ve,ge,_e){let Me=pe||Hp(B,we),ke=we||Ne||Hb(Me),qe=!Se&&(!E.v7_partialHydration||!ve);if(le){if(qe){let ct=sa(_e);xt(kt({navigation:Me},ct!==void 0?{actionData:ct}:{}),{flushSync:ge})}let Xe=await ar(Q,B.pathname,P.signal);if(Xe.type==="aborted")return{shortCircuited:!0};if(Xe.type==="error"){let ct=$s(Xe.partialMatches).route.id;return{matches:Xe.partialMatches,loaderData:{},errors:{[ct]:Xe.error}}}else if(Xe.matches)Q=Xe.matches;else{let{error:ct,notFoundMatches:sr,route:Tr}=nr(B.pathname);return{matches:sr,loaderData:{},errors:{[Tr.id]:ct}}}}let ut=d||c,[Ke,tt]=Mb(n.history,S,Q,ke,B,E.v7_partialHydration&&ve===!0,E.v7_skipActionErrorRevalidation,De,J,ue,Oe,fe,ce,ut,m,_e);if(rr(Xe=>!(Q&&Q.some(ct=>ct.route.id===Xe))||Ke&&Ke.some(ct=>ct.route.id===Xe)),L=++Ie,Ke.length===0&&tt.length===0){let Xe=Hn();return _n(B,kt({matches:Q,loaderData:{},errors:_e&&gr(_e[1])?{[_e[0]]:_e[1].error}:null},zb(_e),Xe?{fetchers:new Map(S.fetchers)}:{}),{flushSync:ge}),{shortCircuited:!0}}if(qe){let Xe={};if(!le){Xe.navigation=Me;let ct=sa(_e);ct!==void 0&&(Xe.actionData=ct)}tt.length>0&&(Xe.fetchers=oa(tt)),xt(Xe,{flushSync:ge})}tt.forEach(Xe=>{Cn(Xe.key),Xe.controller&&de.set(Xe.key,Xe.controller)});let Dn=()=>tt.forEach(Xe=>Cn(Xe.key));x&&x.signal.addEventListener("abort",Dn);let{loaderResults:ei,fetcherResults:Fn}=await Mt(S,Q,Ke,tt,P);if(P.signal.aborted)return{shortCircuited:!0};x&&x.signal.removeEventListener("abort",Dn),tt.forEach(Xe=>de.delete(Xe.key));let ln=Zf(ei);if(ln)return await tr(P,ln.result,!0,{replace:ye}),{shortCircuited:!0};if(ln=Zf(Fn),ln)return ce.add(ln.key),await tr(P,ln.result,!0,{replace:ye}),{shortCircuited:!0};let{loaderData:ha,errors:qn}=Lb(S,Q,ei,_e,tt,Fn,Ce);Ce.forEach((Xe,ct)=>{Xe.subscribe(sr=>{(sr||Xe.done)&&Ce.delete(ct)})}),E.v7_partialHydration&&ve&&S.errors&&(qn=kt({},S.errors,qn));let un=Hn(),Bt=wi(L),Er=un||Bt||tt.length>0;return kt({matches:Q,loaderData:ha,errors:qn},Er?{fetchers:new Map(S.fetchers)}:{})}function sa(P){if(P&&!gr(P[1]))return{[P[0]]:P[1].data};if(S.actionData)return Object.keys(S.actionData).length===0?null:S.actionData}function oa(P){return P.forEach(B=>{let Q=S.fetchers.get(B.key),le=Pu(void 0,Q?Q.data:void 0);S.fetchers.set(B.key,le)}),new Map(S.fetchers)}function Si(P,B,Q,le){if(i)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Cn(P);let pe=(le&&le.flushSync)===!0,we=d||c,Ne=Dg(S.location,S.matches,m,E.v7_prependBasename,Q,E.v7_relativeSplatPath,B,le==null?void 0:le.relative),ye=Gs(we,Ne,m),ve=Ur(ye,we,Ne);if(ve.active&&ve.matches&&(ye=ve.matches),!ye){It(P,B,Qn(404,{pathname:Ne}),{flushSync:pe});return}let{path:ge,submission:_e,error:Me}=Ob(E.v7_normalizeFormMethod,!0,Ne,le);if(Me){It(P,B,Me,{flushSync:pe});return}let ke=Gu(ye,ge),qe=(le&&le.preventScrollReset)===!0;if(_e&&Fr(_e.formMethod)){Nl(P,B,ge,ke,ye,ve.active,pe,qe,_e);return}fe.set(P,{routeId:B,path:ge}),la(P,B,ge,ke,ye,ve.active,pe,qe,_e)}async function Nl(P,B,Q,le,pe,we,Ne,ye,ve){lt(),fe.delete(P);function ge(Dt){if(!Dt.route.action&&!Dt.route.lazy){let or=Qn(405,{method:ve.formMethod,pathname:Q,routeId:B});return It(P,B,or,{flushSync:Ne}),!0}return!1}if(!we&&ge(le))return;let _e=S.fetchers.get(P);zt(P,TV(ve,_e),{flushSync:Ne});let Me=new AbortController,ke=Xo(n.history,Q,Me.signal,ve);if(we){let Dt=await ar(pe,new URL(ke.url).pathname,ke.signal,P);if(Dt.type==="aborted")return;if(Dt.type==="error"){It(P,B,Dt.error,{flushSync:Ne});return}else if(Dt.matches){if(pe=Dt.matches,le=Gu(pe,Q),ge(le))return}else{It(P,B,Qn(404,{pathname:Q}),{flushSync:Ne});return}}de.set(P,Me);let qe=Ie,Ke=(await Wr("action",S,ke,[le],pe,P))[le.route.id];if(ke.signal.aborted){de.get(P)===Me&&de.delete(P);return}if(E.v7_fetcherPersist&&Oe.has(P)){if(Ys(Ke)||gr(Ke)){zt(P,La(void 0));return}}else{if(Ys(Ke))if(de.delete(P),L>qe){zt(P,La(void 0));return}else return ce.add(P),zt(P,Pu(ve)),tr(ke,Ke,!1,{fetcherSubmission:ve,preventScrollReset:ye});if(gr(Ke)){It(P,B,Ke.error);return}}if(Fa(Ke))throw Qn(400,{type:"defer-action"});let tt=S.navigation.location||S.location,Dn=Xo(n.history,tt,Me.signal),ei=d||c,Fn=S.navigation.state!=="idle"?Gs(ei,S.navigation.location,m):S.matches;Ze(Fn,"Didn't find any matches after fetcher action");let ln=++Ie;re.set(P,ln);let ha=Pu(ve,Ke.data);S.fetchers.set(P,ha);let[qn,un]=Mb(n.history,S,Fn,ve,tt,!1,E.v7_skipActionErrorRevalidation,De,J,ue,Oe,fe,ce,ei,m,[le.route.id,Ke]);un.filter(Dt=>Dt.key!==P).forEach(Dt=>{let or=Dt.key,cn=S.fetchers.get(or),ys=Pu(void 0,cn?cn.data:void 0);S.fetchers.set(or,ys),Cn(or),Dt.controller&&de.set(or,Dt.controller)}),xt({fetchers:new Map(S.fetchers)});let Bt=()=>un.forEach(Dt=>Cn(Dt.key));Me.signal.addEventListener("abort",Bt);let{loaderResults:Er,fetcherResults:Xe}=await Mt(S,Fn,qn,un,Dn);if(Me.signal.aborted)return;Me.signal.removeEventListener("abort",Bt),re.delete(P),de.delete(P),un.forEach(Dt=>de.delete(Dt.key));let ct=Zf(Er);if(ct)return tr(Dn,ct.result,!1,{preventScrollReset:ye});if(ct=Zf(Xe),ct)return ce.add(ct.key),tr(Dn,ct.result,!1,{preventScrollReset:ye});let{loaderData:sr,errors:Tr}=Lb(S,Fn,Er,void 0,un,Xe,Ce);if(S.fetchers.has(P)){let Dt=La(Ke.data);S.fetchers.set(P,Dt)}wi(ln),S.navigation.state==="loading"&&ln>L?(Ze(w,"Expected pending action"),x&&x.abort(),_n(S.navigation.location,{matches:Fn,loaderData:sr,errors:Tr,fetchers:new Map(S.fetchers)})):(xt({errors:Tr,loaderData:Ub(S.loaderData,sr,Fn,Tr),fetchers:new Map(S.fetchers)}),De=!1)}async function la(P,B,Q,le,pe,we,Ne,ye,ve){let ge=S.fetchers.get(P);zt(P,Pu(ve,ge?ge.data:void 0),{flushSync:Ne});let _e=new AbortController,Me=Xo(n.history,Q,_e.signal);if(we){let Ke=await ar(pe,new URL(Me.url).pathname,Me.signal,P);if(Ke.type==="aborted")return;if(Ke.type==="error"){It(P,B,Ke.error,{flushSync:Ne});return}else if(Ke.matches)pe=Ke.matches,le=Gu(pe,Q);else{It(P,B,Qn(404,{pathname:Q}),{flushSync:Ne});return}}de.set(P,_e);let ke=Ie,ut=(await Wr("loader",S,Me,[le],pe,P))[le.route.id];if(Fa(ut)&&(ut=await hv(ut,Me.signal,!0)||ut),de.get(P)===_e&&de.delete(P),!Me.signal.aborted){if(Oe.has(P)){zt(P,La(void 0));return}if(Ys(ut))if(L>ke){zt(P,La(void 0));return}else{ce.add(P),await tr(Me,ut,!1,{preventScrollReset:ye});return}if(gr(ut)){It(P,B,ut.error);return}Ze(!Fa(ut),"Unhandled fetcher deferred data"),zt(P,La(ut.data))}}async function tr(P,B,Q,le){let{submission:pe,fetcherSubmission:we,preventScrollReset:Ne,replace:ye}=le===void 0?{}:le;B.response.headers.has("X-Remix-Revalidate")&&(De=!0);let ve=B.response.headers.get("Location");Ze(ve,"Expected a Location header on the redirect Response"),ve=kb(ve,new URL(P.url),m);let ge=cc(S.location,ve,{_isRedirect:!0});if(t){let Ke=!1;if(B.response.headers.has("X-Remix-Reload-Document"))Ke=!0;else if(fv.test(ve)){const tt=n.history.createURL(ve);Ke=tt.origin!==e.location.origin||Il(tt.pathname,m)==null}if(Ke){ye?e.location.replace(ve):e.location.assign(ve);return}}x=null;let _e=ye===!0||B.response.headers.has("X-Remix-Replace")?Zt.Replace:Zt.Push,{formMethod:Me,formAction:ke,formEncType:qe}=S.navigation;!pe&&!we&&Me&&ke&&qe&&(pe=Hb(S.navigation));let ut=pe||we;if(tV.has(B.response.status)&&ut&&Fr(ut.formMethod))await _r(_e,ge,{submission:kt({},ut,{formAction:ve}),preventScrollReset:Ne||C,enableViewTransition:Q?U:void 0});else{let Ke=Hp(ge,pe);await _r(_e,ge,{overrideNavigation:Ke,fetcherSubmission:we,preventScrollReset:Ne||C,enableViewTransition:Q?U:void 0})}}async function Wr(P,B,Q,le,pe,we){let Ne,ye={};try{Ne=await uV(g,P,B,Q,le,pe,we,l,s)}catch(ve){return le.forEach(ge=>{ye[ge.route.id]={type:vt.error,error:ve}}),ye}for(let[ve,ge]of Object.entries(Ne))if(pV(ge)){let _e=ge.result;ye[ve]={type:vt.redirect,response:hV(_e,Q,ve,pe,m,E.v7_relativeSplatPath)}}else ye[ve]=await fV(ge);return ye}async function Mt(P,B,Q,le,pe){let we=P.matches,Ne=Wr("loader",P,pe,Q,B,null),ye=Promise.all(le.map(async _e=>{if(_e.matches&&_e.match&&_e.controller){let ke=(await Wr("loader",P,Xo(n.history,_e.path,_e.controller.signal),[_e.match],_e.matches,_e.key))[_e.match.route.id];return{[_e.key]:ke}}else return Promise.resolve({[_e.key]:{type:vt.error,error:Qn(404,{pathname:_e.path})}})})),ve=await Ne,ge=(await ye).reduce((_e,Me)=>Object.assign(_e,Me),{});return await Promise.all([vV(B,ve,pe.signal,we,P.loaderData),_V(B,ge,le)]),{loaderResults:ve,fetcherResults:ge}}function lt(){De=!0,J.push(...rr()),fe.forEach((P,B)=>{de.has(B)&&ue.add(B),Cn(B)})}function zt(P,B,Q){Q===void 0&&(Q={}),S.fetchers.set(P,B),xt({fetchers:new Map(S.fetchers)},{flushSync:(Q&&Q.flushSync)===!0})}function It(P,B,Q,le){le===void 0&&(le={});let pe=$s(S.matches,B);ua(P),xt({errors:{[pe.route.id]:Q},fetchers:new Map(S.fetchers)},{flushSync:(le&&le.flushSync)===!0})}function ms(P){return be.set(P,(be.get(P)||0)+1),Oe.has(P)&&Oe.delete(P),S.fetchers.get(P)||nV}function ua(P){let B=S.fetchers.get(P);de.has(P)&&!(B&&B.state==="loading"&&re.has(P))&&Cn(P),fe.delete(P),re.delete(P),ce.delete(P),E.v7_fetcherPersist&&Oe.delete(P),ue.delete(P),S.fetchers.delete(P)}function Ai(P){let B=(be.get(P)||0)-1;B<=0?(be.delete(P),Oe.add(P),E.v7_fetcherPersist||ua(P)):be.set(P,B),xt({fetchers:new Map(S.fetchers)})}function Cn(P){let B=de.get(P);B&&(B.abort(),de.delete(P))}function Zr(P){for(let B of P){let Q=ms(B),le=La(Q.data);S.fetchers.set(B,le)}}function Hn(){let P=[],B=!1;for(let Q of ce){let le=S.fetchers.get(Q);Ze(le,"Expected fetcher: "+Q),le.state==="loading"&&(ce.delete(Q),P.push(Q),B=!0)}return Zr(P),B}function wi(P){let B=[];for(let[Q,le]of re)if(le<P){let pe=S.fetchers.get(Q);Ze(pe,"Expected fetcher: "+Q),pe.state==="loading"&&(Cn(Q),re.delete(Q),B.push(Q))}return Zr(B),B.length>0}function Ri(P,B){let Q=S.blockers.get(P)||Nu;return st.get(P)!==B&&st.set(P,B),Q}function ca(P){S.blockers.delete(P),st.delete(P)}function Jr(P,B){let Q=S.blockers.get(P)||Nu;Ze(Q.state==="unblocked"&&B.state==="blocked"||Q.state==="blocked"&&B.state==="blocked"||Q.state==="blocked"&&B.state==="proceeding"||Q.state==="blocked"&&B.state==="unblocked"||Q.state==="proceeding"&&B.state==="unblocked","Invalid blocker state transition: "+Q.state+" -> "+B.state);let le=new Map(S.blockers);le.set(P,B),xt({blockers:le})}function fa(P){let{currentLocation:B,nextLocation:Q,historyAction:le}=P;if(st.size===0)return;st.size>1&&pl(!1,"A router only supports one blocker at a time");let pe=Array.from(st.entries()),[we,Ne]=pe[pe.length-1],ye=S.blockers.get(we);if(!(ye&&ye.state==="proceeding")&&Ne({currentLocation:B,nextLocation:Q,historyAction:le}))return we}function nr(P){let B=Qn(404,{pathname:P}),Q=d||c,{matches:le,route:pe}=Bb(Q);return rr(),{notFoundMatches:le,route:pe,error:B}}function rr(P){let B=[];return Ce.forEach((Q,le)=>{(!P||P(le))&&(Q.cancel(),B.push(le),Ce.delete(le))}),B}function ps(P,B,Q){if(M=P,D=B,V=Q||null,!Z&&S.navigation===jp){Z=!0;let le=Lr(S.location,S.matches);le!=null&&xt({restoreScrollPosition:le})}return()=>{M=null,D=null,V=null}}function ir(P,B){return V&&V(P,B.map(le=>Nk(le,S.loaderData)))||P.key}function gs(P,B){if(M&&D){let Q=ir(P,B);M[Q]=D()}}function Lr(P,B){if(M){let Q=ir(P,B),le=M[Q];if(typeof le=="number")return le}return null}function Ur(P,B,Q){if(v)if(P){if(Object.keys(P[0].params).length>0)return{active:!0,matches:hh(B,Q,m,!0)}}else return{active:!0,matches:hh(B,Q,m,!0)||[]};return{active:!1,matches:null}}async function ar(P,B,Q,le){if(!v)return{type:"success",matches:P};let pe=P;for(;;){let we=d==null,Ne=d||c,ye=l;try{await v({signal:Q,path:B,matches:pe,fetcherKey:le,patch:(_e,Me)=>{Q.aborted||Pb(_e,Me,Ne,ye,s)}})}catch(_e){return{type:"error",error:_e,partialMatches:pe}}finally{we&&!Q.aborted&&(c=[...c])}if(Q.aborted)return{type:"aborted"};let ve=Gs(Ne,B,m);if(ve)return{type:"success",matches:ve};let ge=hh(Ne,B,m,!0);if(!ge||pe.length===ge.length&&pe.every((_e,Me)=>_e.route.id===ge[Me].route.id))return{type:"success",matches:null};pe=ge}}function uo(P){l={},d=Lh(P,s,void 0,l)}function Ct(P,B){let Q=d==null;Pb(P,B,d||c,l,s),Q&&(c=[...c],xt({}))}return he={get basename(){return m},get future(){return E},get state(){return S},get routes(){return c},get window(){return e},initialize:Ln,subscribe:er,enableScrollRestoration:ps,navigate:Yr,fetch:Si,revalidate:ds,createHref:P=>n.history.createHref(P),encodeLocation:P=>n.history.encodeLocation(P),getFetcher:ms,deleteFetcher:Ai,dispose:Jn,getBlocker:Ri,deleteBlocker:ca,patchRoutes:Ct,_internalFetchControllers:de,_internalActiveDeferreds:Ce,_internalSetRoutes:uo},he}function aV(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function Dg(n,e,t,i,s,l,c,d){let m,g;if(c){m=[];for(let E of e)if(m.push(E),E.route.id===c){g=E;break}}else m=e,g=e[e.length-1];let v=_d(s||".",vd(m,l),Il(n.pathname,t)||n.pathname,d==="path");if(s==null&&(v.search=n.search,v.hash=n.hash),(s==null||s===""||s===".")&&g){let E=dv(v.search);if(g.route.index&&!E)v.search=v.search?v.search.replace(/^\?/,"?index&"):"?index";else if(!g.route.index&&E){let b=new URLSearchParams(v.search),I=b.getAll("index");b.delete("index"),I.filter(V=>V).forEach(V=>b.append("index",V));let M=b.toString();v.search=M?"?"+M:""}}return i&&t!=="/"&&(v.pathname=v.pathname==="/"?t:Ji([t,v.pathname])),ao(v)}function Ob(n,e,t,i){if(!i||!aV(i))return{path:t};if(i.formMethod&&!yV(i.formMethod))return{path:t,error:Qn(405,{method:i.formMethod})};let s=()=>({path:t,error:Qn(400,{type:"invalid-body"})}),l=i.formMethod||"get",c=n?l.toUpperCase():l.toLowerCase(),d=xR(t);if(i.body!==void 0){if(i.formEncType==="text/plain"){if(!Fr(c))return s();let b=typeof i.body=="string"?i.body:i.body instanceof FormData||i.body instanceof URLSearchParams?Array.from(i.body.entries()).reduce((I,M)=>{let[V,D]=M;return""+I+V+"="+D+`
`},""):String(i.body);return{path:t,submission:{formMethod:c,formAction:d,formEncType:i.formEncType,formData:void 0,json:void 0,text:b}}}else if(i.formEncType==="application/json"){if(!Fr(c))return s();try{let b=typeof i.body=="string"?JSON.parse(i.body):i.body;return{path:t,submission:{formMethod:c,formAction:d,formEncType:i.formEncType,formData:void 0,json:b,text:void 0}}}catch{return s()}}}Ze(typeof FormData=="function","FormData is not available in this environment");let m,g;if(i.formData)m=xg(i.formData),g=i.formData;else if(i.body instanceof FormData)m=xg(i.body),g=i.body;else if(i.body instanceof URLSearchParams)m=i.body,g=Vb(m);else if(i.body==null)m=new URLSearchParams,g=new FormData;else try{m=new URLSearchParams(i.body),g=Vb(m)}catch{return s()}let v={formMethod:c,formAction:d,formEncType:i&&i.formEncType||"application/x-www-form-urlencoded",formData:g,json:void 0,text:void 0};if(Fr(v.formMethod))return{path:t,submission:v};let E=us(t);return e&&E.search&&dv(E.search)&&m.append("index",""),E.search="?"+m,{path:ao(E),submission:v}}function xb(n,e,t){t===void 0&&(t=!1);let i=n.findIndex(s=>s.route.id===e);return i>=0?n.slice(0,t?i+1:i):n}function Mb(n,e,t,i,s,l,c,d,m,g,v,E,b,I,M,V){let D=V?gr(V[1])?V[1].error:V[1].data:void 0,Z=n.createURL(e.location),j=n.createURL(s),Y=t;l&&e.errors?Y=xb(t,Object.keys(e.errors)[0],!0):V&&gr(V[1])&&(Y=xb(t,V[0]));let te=V?V[1].statusCode:void 0,K=c&&te&&te>=400,he=Y.filter((w,C)=>{let{route:x}=w;if(x.lazy)return!0;if(x.loader==null)return!1;if(l)return Og(x,e.loaderData,e.errors);if(sV(e.loaderData,e.matches[C],w)||m.some(O=>O===w.route.id))return!0;let U=e.matches[C],k=w;return Nb(w,kt({currentUrl:Z,currentParams:U.params,nextUrl:j,nextParams:k.params},i,{actionResult:D,actionStatus:te,defaultShouldRevalidate:K?!1:d||Z.pathname+Z.search===j.pathname+j.search||Z.search!==j.search||DR(U,k)}))}),S=[];return E.forEach((w,C)=>{if(l||!t.some(Se=>Se.route.id===w.routeId)||v.has(C))return;let x=Gs(I,w.path,M);if(!x){S.push({key:C,routeId:w.routeId,path:w.path,matches:null,match:null,controller:null});return}let U=e.fetchers.get(C),k=Gu(x,w.path),O=!1;b.has(C)?O=!1:g.has(C)?(g.delete(C),O=!0):U&&U.state!=="idle"&&U.data===void 0?O=d:O=Nb(k,kt({currentUrl:Z,currentParams:e.matches[e.matches.length-1].params,nextUrl:j,nextParams:t[t.length-1].params},i,{actionResult:D,actionStatus:te,defaultShouldRevalidate:K?!1:d})),O&&S.push({key:C,routeId:w.routeId,path:w.path,matches:x,match:k,controller:new AbortController})}),[he,S]}function Og(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let i=e!=null&&e[n.id]!==void 0,s=t!=null&&t[n.id]!==void 0;return!i&&s?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!i&&!s}function sV(n,e,t){let i=!e||t.route.id!==e.route.id,s=n[t.route.id]===void 0;return i||s}function DR(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function Nb(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function Pb(n,e,t,i,s){var l;let c;if(n){let g=i[n];Ze(g,"No route found to patch children into: routeId = "+n),g.children||(g.children=[]),c=g.children}else c=t;let d=e.filter(g=>!c.some(v=>OR(g,v))),m=Lh(d,s,[n||"_","patch",String(((l=c)==null?void 0:l.length)||"0")],i);c.push(...m)}function OR(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,i)=>{var s;return(s=e.children)==null?void 0:s.some(l=>OR(t,l))}):!1}async function oV(n,e,t){if(!n.lazy)return;let i=await n.lazy();if(!n.lazy)return;let s=t[n.id];Ze(s,"No route found in manifest");let l={};for(let c in i){let m=s[c]!==void 0&&c!=="hasErrorBoundary";pl(!m,'Route "'+s.id+'" has a static property "'+c+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+c+'" will be ignored.')),!m&&!xk.has(c)&&(l[c]=i[c])}Object.assign(s,l),Object.assign(s,kt({},e(s),{lazy:void 0}))}async function lV(n){let{matches:e}=n,t=e.filter(s=>s.shouldLoad);return(await Promise.all(t.map(s=>s.resolve()))).reduce((s,l,c)=>Object.assign(s,{[t[c].route.id]:l}),{})}async function uV(n,e,t,i,s,l,c,d,m,g){let v=l.map(I=>I.route.lazy?oV(I.route,m,d):void 0),E=l.map((I,M)=>{let V=v[M],D=s.some(j=>j.route.id===I.route.id);return kt({},I,{shouldLoad:D,resolve:async j=>(j&&i.method==="GET"&&(I.route.lazy||I.route.loader)&&(D=!0),D?cV(e,i,I,V,j,g):Promise.resolve({type:vt.data,result:void 0}))})}),b=await n({matches:E,request:i,params:l[0].params,fetcherKey:c,context:g});try{await Promise.all(v)}catch{}return b}async function cV(n,e,t,i,s,l){let c,d,m=g=>{let v,E=new Promise((M,V)=>v=V);d=()=>v(),e.signal.addEventListener("abort",d);let b=M=>typeof g!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+n+'" [routeId: '+t.route.id+"]"))):g({request:e,params:t.params,context:l},...M!==void 0?[M]:[]),I=(async()=>{try{return{type:"data",result:await(s?s(V=>b(V)):b())}}catch(M){return{type:"error",result:M}}})();return Promise.race([I,E])};try{let g=t.route[n];if(i)if(g){let v,[E]=await Promise.all([m(g).catch(b=>{v=b}),i]);if(v!==void 0)throw v;c=E}else if(await i,g=t.route[n],g)c=await m(g);else if(n==="action"){let v=new URL(e.url),E=v.pathname+v.search;throw Qn(405,{method:e.method,pathname:E,routeId:t.route.id})}else return{type:vt.data,result:void 0};else if(g)c=await m(g);else{let v=new URL(e.url),E=v.pathname+v.search;throw Qn(404,{pathname:E})}Ze(c.result!==void 0,"You defined "+(n==="action"?"an action":"a loader")+" for route "+('"'+t.route.id+"\" but didn't return anything from your `"+n+"` ")+"function. Please return a value or `null`.")}catch(g){return{type:vt.error,result:g}}finally{d&&e.signal.removeEventListener("abort",d)}return c}async function fV(n){let{result:e,type:t}=n;if(MR(e)){let E;try{let b=e.headers.get("Content-Type");b&&/\bapplication\/json\b/.test(b)?e.body==null?E=null:E=await e.json():E=await e.text()}catch(b){return{type:vt.error,error:b}}return t===vt.error?{type:vt.error,error:new Uh(e.status,e.statusText,E),statusCode:e.status,headers:e.headers}:{type:vt.data,data:E,statusCode:e.status,headers:e.headers}}if(t===vt.error){if(jb(e)){var i,s;if(e.data instanceof Error){var l,c;return{type:vt.error,error:e.data,statusCode:(l=e.init)==null?void 0:l.status,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}}return{type:vt.error,error:new Uh(((i=e.init)==null?void 0:i.status)||500,void 0,e.data),statusCode:fc(e)?e.status:void 0,headers:(s=e.init)!=null&&s.headers?new Headers(e.init.headers):void 0}}return{type:vt.error,error:e,statusCode:fc(e)?e.status:void 0}}if(gV(e)){var d,m;return{type:vt.deferred,deferredData:e,statusCode:(d=e.init)==null?void 0:d.status,headers:((m=e.init)==null?void 0:m.headers)&&new Headers(e.init.headers)}}if(jb(e)){var g,v;return{type:vt.data,data:e.data,statusCode:(g=e.init)==null?void 0:g.status,headers:(v=e.init)!=null&&v.headers?new Headers(e.init.headers):void 0}}return{type:vt.data,data:e}}function hV(n,e,t,i,s,l){let c=n.headers.get("Location");if(Ze(c,"Redirects returned/thrown from loaders/actions must have a Location header"),!fv.test(c)){let d=i.slice(0,i.findIndex(m=>m.route.id===t)+1);c=Dg(new URL(e.url),d,s,!0,c,l),n.headers.set("Location",c)}return n}function kb(n,e,t){if(fv.test(n)){let i=n,s=i.startsWith("//")?new URL(e.protocol+i):new URL(i),l=Il(s.pathname,t)!=null;if(s.origin===e.origin&&l)return s.pathname+s.search+s.hash}return n}function Xo(n,e,t,i){let s=n.createURL(xR(e)).toString(),l={signal:t};if(i&&Fr(i.formMethod)){let{formMethod:c,formEncType:d}=i;l.method=c.toUpperCase(),d==="application/json"?(l.headers=new Headers({"Content-Type":d}),l.body=JSON.stringify(i.json)):d==="text/plain"?l.body=i.text:d==="application/x-www-form-urlencoded"&&i.formData?l.body=xg(i.formData):l.body=i.formData}return new Request(s,l)}function xg(n){let e=new URLSearchParams;for(let[t,i]of n.entries())e.append(t,typeof i=="string"?i:i.name);return e}function Vb(n){let e=new FormData;for(let[t,i]of n.entries())e.append(t,i);return e}function dV(n,e,t,i,s){let l={},c=null,d,m=!1,g={},v=t&&gr(t[1])?t[1].error:void 0;return n.forEach(E=>{if(!(E.route.id in e))return;let b=E.route.id,I=e[b];if(Ze(!Ys(I),"Cannot handle redirect results in processLoaderData"),gr(I)){let M=I.error;v!==void 0&&(M=v,v=void 0),c=c||{};{let V=$s(n,b);c[V.route.id]==null&&(c[V.route.id]=M)}l[b]=void 0,m||(m=!0,d=fc(I.error)?I.error.status:500),I.headers&&(g[b]=I.headers)}else Fa(I)?(i.set(b,I.deferredData),l[b]=I.deferredData.data,I.statusCode!=null&&I.statusCode!==200&&!m&&(d=I.statusCode),I.headers&&(g[b]=I.headers)):(l[b]=I.data,I.statusCode&&I.statusCode!==200&&!m&&(d=I.statusCode),I.headers&&(g[b]=I.headers))}),v!==void 0&&t&&(c={[t[0]]:v},l[t[0]]=void 0),{loaderData:l,errors:c,statusCode:d||200,loaderHeaders:g}}function Lb(n,e,t,i,s,l,c){let{loaderData:d,errors:m}=dV(e,t,i,c);return s.forEach(g=>{let{key:v,match:E,controller:b}=g,I=l[v];if(Ze(I,"Did not find corresponding fetcher result"),!(b&&b.signal.aborted))if(gr(I)){let M=$s(n.matches,E==null?void 0:E.route.id);m&&m[M.route.id]||(m=kt({},m,{[M.route.id]:I.error})),n.fetchers.delete(v)}else if(Ys(I))Ze(!1,"Unhandled fetcher revalidation redirect");else if(Fa(I))Ze(!1,"Unhandled fetcher deferred data");else{let M=La(I.data);n.fetchers.set(v,M)}}),{loaderData:d,errors:m}}function Ub(n,e,t,i){let s=kt({},e);for(let l of t){let c=l.route.id;if(e.hasOwnProperty(c)?e[c]!==void 0&&(s[c]=e[c]):n[c]!==void 0&&l.route.loader&&(s[c]=n[c]),i&&i.hasOwnProperty(c))break}return s}function zb(n){return n?gr(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function $s(n,e){return(e?n.slice(0,n.findIndex(i=>i.route.id===e)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function Bb(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Qn(n,e){let{pathname:t,routeId:i,method:s,type:l,message:c}=e===void 0?{}:e,d="Unknown Server Error",m="Unknown @remix-run/router error";return n===400?(d="Bad Request",s&&t&&i?m="You made a "+s+' request to "'+t+'" but '+('did not provide a `loader` for route "'+i+'", ')+"so there is no way to handle the request.":l==="defer-action"?m="defer() is not supported in actions":l==="invalid-body"&&(m="Unable to encode submission body")):n===403?(d="Forbidden",m='Route "'+i+'" does not match URL "'+t+'"'):n===404?(d="Not Found",m='No route matches URL "'+t+'"'):n===405&&(d="Method Not Allowed",s&&t&&i?m="You made a "+s.toUpperCase()+' request to "'+t+'" but '+('did not provide an `action` for route "'+i+'", ')+"so there is no way to handle the request.":s&&(m='Invalid request method "'+s.toUpperCase()+'"')),new Uh(n||500,d,new Error(m),!0)}function Zf(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[i,s]=e[t];if(Ys(s))return{key:i,result:s}}}function xR(n){let e=typeof n=="string"?us(n):n;return ao(kt({},e,{hash:""}))}function mV(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function pV(n){return MR(n.result)&&eV.has(n.result.status)}function Fa(n){return n.type===vt.deferred}function gr(n){return n.type===vt.error}function Ys(n){return(n&&n.type)===vt.redirect}function jb(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function gV(n){let e=n;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function MR(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function yV(n){return Jk.has(n.toLowerCase())}function Fr(n){return Wk.has(n.toLowerCase())}async function vV(n,e,t,i,s){let l=Object.entries(e);for(let c=0;c<l.length;c++){let[d,m]=l[c],g=n.find(b=>(b==null?void 0:b.route.id)===d);if(!g)continue;let v=i.find(b=>b.route.id===g.route.id),E=v!=null&&!DR(v,g)&&(s&&s[g.route.id])!==void 0;Fa(m)&&E&&await hv(m,t,!1).then(b=>{b&&(e[d]=b)})}}async function _V(n,e,t){for(let i=0;i<t.length;i++){let{key:s,routeId:l,controller:c}=t[i],d=e[s];n.find(g=>(g==null?void 0:g.route.id)===l)&&Fa(d)&&(Ze(c,"Expected an AbortController for revalidating fetcher deferred result"),await hv(d,c.signal,!0).then(g=>{g&&(e[s]=g)}))}}async function hv(n,e,t){if(t===void 0&&(t=!1),!await n.deferredData.resolveData(e)){if(t)try{return{type:vt.data,data:n.deferredData.unwrappedData}}catch(s){return{type:vt.error,error:s}}return{type:vt.data,data:n.deferredData.data}}}function dv(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Gu(n,e){let t=typeof e=="string"?us(e).search:e.search;if(n[n.length-1].route.index&&dv(t||""))return n[n.length-1];let i=RR(n);return i[i.length-1]}function Hb(n){let{formMethod:e,formAction:t,formEncType:i,text:s,formData:l,json:c}=n;if(!(!e||!t||!i)){if(s!=null)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:void 0,text:s};if(l!=null)return{formMethod:e,formAction:t,formEncType:i,formData:l,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:c,text:void 0}}}function Hp(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function EV(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Pu(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function TV(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function La(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function bV(n,e){try{let t=n.sessionStorage.getItem(CR);if(t){let i=JSON.parse(t);for(let[s,l]of Object.entries(i||{}))l&&Array.isArray(l)&&e.set(s,new Set(l||[]))}}catch{}}function SV(n,e){if(e.size>0){let t={};for(let[i,s]of e)t[i]=[...s];try{n.sessionStorage.setItem(CR,JSON.stringify(t))}catch(i){pl(!1,"Failed to save applied view transitions in sessionStorage ("+i+").")}}}/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zh(){return zh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},zh.apply(this,arguments)}const Ed=$.createContext(null),NR=$.createContext(null),cs=$.createContext(null),mv=$.createContext(null),bi=$.createContext({outlet:null,matches:[],isDataRoute:!1}),PR=$.createContext(null);function AV(n,e){let{relative:t}=e===void 0?{}:e;Cl()||Ze(!1);let{basename:i,navigator:s}=$.useContext(cs),{hash:l,pathname:c,search:d}=LR(n,{relative:t}),m=c;return i!=="/"&&(m=c==="/"?i:Ji([i,c])),s.createHref({pathname:m,search:d,hash:l})}function Cl(){return $.useContext(mv)!=null}function Rc(){return Cl()||Ze(!1),$.useContext(mv).location}function kR(n){$.useContext(cs).static||$.useLayoutEffect(n)}function VR(){let{isDataRoute:n}=$.useContext(bi);return n?UV():wV()}function wV(){Cl()||Ze(!1);let n=$.useContext(Ed),{basename:e,future:t,navigator:i}=$.useContext(cs),{matches:s}=$.useContext(bi),{pathname:l}=Rc(),c=JSON.stringify(vd(s,t.v7_relativeSplatPath)),d=$.useRef(!1);return kR(()=>{d.current=!0}),$.useCallback(function(g,v){if(v===void 0&&(v={}),!d.current)return;if(typeof g=="number"){i.go(g);return}let E=_d(g,JSON.parse(c),l,v.relative==="path");n==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Ji([e,E.pathname])),(v.replace?i.replace:i.push)(E,v.state,v)},[e,i,c,l,n])}const RV=$.createContext(null);function IV(n){let e=$.useContext(bi).outlet;return e&&$.createElement(RV.Provider,{value:n},e)}function w6(){let{matches:n}=$.useContext(bi),e=n[n.length-1];return e?e.params:{}}function LR(n,e){let{relative:t}=e===void 0?{}:e,{future:i}=$.useContext(cs),{matches:s}=$.useContext(bi),{pathname:l}=Rc(),c=JSON.stringify(vd(s,i.v7_relativeSplatPath));return $.useMemo(()=>_d(n,JSON.parse(c),l,t==="path"),[n,c,l,t])}function CV(n,e,t,i){Cl()||Ze(!1);let{navigator:s,static:l}=$.useContext(cs),{matches:c}=$.useContext(bi),d=c[c.length-1],m=d?d.params:{};d&&d.pathname;let g=d?d.pathnameBase:"/";d&&d.route;let v=Rc(),E;E=v;let b=E.pathname||"/",I=b;if(g!=="/"){let D=g.replace(/^\//,"").split("/");I="/"+b.replace(/^\//,"").split("/").slice(D.length).join("/")}let M=!l&&t&&t.matches&&t.matches.length>0?t.matches:Gs(n,{pathname:I});return NV(M&&M.map(D=>Object.assign({},D,{params:Object.assign({},m,D.params),pathname:Ji([g,s.encodeLocation?s.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?g:Ji([g,s.encodeLocation?s.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),c,t,i)}function DV(){let n=LV(),e=fc(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return $.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),t?$.createElement("pre",{style:s},t):null,null)}const OV=$.createElement(DV,null);class xV extends $.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?$.createElement(bi.Provider,{value:this.props.routeContext},$.createElement(PR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function MV(n){let{routeContext:e,match:t,children:i}=n,s=$.useContext(Ed);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),$.createElement(bi.Provider,{value:e},i)}function NV(n,e,t,i){var s;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),n==null){var l;if(!t)return null;if(t.errors)n=t.matches;else if((l=i)!=null&&l.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let c=n,d=(s=t)==null?void 0:s.errors;if(d!=null){let v=c.findIndex(E=>E.route.id&&(d==null?void 0:d[E.route.id])!==void 0);v>=0||Ze(!1),c=c.slice(0,Math.min(c.length,v+1))}let m=!1,g=-1;if(t&&i&&i.v7_partialHydration)for(let v=0;v<c.length;v++){let E=c[v];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(g=v),E.route.id){let{loaderData:b,errors:I}=t,M=E.route.loader&&b[E.route.id]===void 0&&(!I||I[E.route.id]===void 0);if(E.route.lazy||M){m=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}return c.reduceRight((v,E,b)=>{let I,M=!1,V=null,D=null;t&&(I=d&&E.route.id?d[E.route.id]:void 0,V=E.route.errorElement||OV,m&&(g<0&&b===0?(zV("route-fallback"),M=!0,D=null):g===b&&(M=!0,D=E.route.hydrateFallbackElement||null)));let Z=e.concat(c.slice(0,b+1)),j=()=>{let Y;return I?Y=V:M?Y=D:E.route.Component?Y=$.createElement(E.route.Component,null):E.route.element?Y=E.route.element:Y=v,$.createElement(MV,{match:E,routeContext:{outlet:v,matches:Z,isDataRoute:t!=null},children:Y})};return t&&(E.route.ErrorBoundary||E.route.errorElement||b===0)?$.createElement(xV,{location:t.location,revalidation:t.revalidation,component:V,error:I,children:j(),routeContext:{outlet:null,matches:Z,isDataRoute:!0}}):j()},null)}var UR=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(UR||{}),zR=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(zR||{});function PV(n){let e=$.useContext(Ed);return e||Ze(!1),e}function kV(n){let e=$.useContext(NR);return e||Ze(!1),e}function VV(n){let e=$.useContext(bi);return e||Ze(!1),e}function BR(n){let e=VV(),t=e.matches[e.matches.length-1];return t.route.id||Ze(!1),t.route.id}function LV(){var n;let e=$.useContext(PR),t=kV(),i=BR();return e!==void 0?e:(n=t.errors)==null?void 0:n[i]}function UV(){let{router:n}=PV(UR.UseNavigateStable),e=BR(zR.UseNavigateStable),t=$.useRef(!1);return kR(()=>{t.current=!0}),$.useCallback(function(s,l){l===void 0&&(l={}),t.current&&(typeof s=="number"?n.navigate(s):n.navigate(s,zh({fromRouteId:e},l)))},[n,e])}const Fb={};function zV(n,e,t){Fb[n]||(Fb[n]=!0)}function BV(n,e){n==null||n.v7_startTransition,(n==null?void 0:n.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function jR(n){let{to:e,replace:t,state:i,relative:s}=n;Cl()||Ze(!1);let{future:l,static:c}=$.useContext(cs),{matches:d}=$.useContext(bi),{pathname:m}=Rc(),g=VR(),v=_d(e,vd(d,l.v7_relativeSplatPath),m,s==="path"),E=JSON.stringify(v);return $.useEffect(()=>g(JSON.parse(E),{replace:t,state:i,relative:s}),[g,E,s,t,i]),null}function R6(n){return IV(n.context)}function jV(n){let{basename:e="/",children:t=null,location:i,navigationType:s=Zt.Pop,navigator:l,static:c=!1,future:d}=n;Cl()&&Ze(!1);let m=e.replace(/^\/*/,"/"),g=$.useMemo(()=>({basename:m,navigator:l,static:c,future:zh({v7_relativeSplatPath:!1},d)}),[m,d,l,c]);typeof i=="string"&&(i=us(i));let{pathname:v="/",search:E="",hash:b="",state:I=null,key:M="default"}=i,V=$.useMemo(()=>{let D=Il(v,m);return D==null?null:{location:{pathname:D,search:E,hash:b,state:I,key:M},navigationType:s}},[m,v,E,b,I,M,s]);return V==null?null:$.createElement(cs.Provider,{value:g},$.createElement(mv.Provider,{children:t,value:V}))}new Promise(()=>{});function HV(n){let e={hasErrorBoundary:n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&Object.assign(e,{element:$.createElement(n.Component),Component:void 0}),n.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:$.createElement(n.HydrateFallback),HydrateFallback:void 0}),n.ErrorBoundary&&Object.assign(e,{errorElement:$.createElement(n.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hc(){return hc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},hc.apply(this,arguments)}function FV(n,e){if(n==null)return{};var t={},i=Object.keys(n),s,l;for(l=0;l<i.length;l++)s=i[l],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}function qV(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function GV(n,e){return n.button===0&&(!e||e==="_self")&&!qV(n)}const $V=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],KV="6";try{window.__reactRouterVersion=KV}catch{}function QV(n,e){return iV({basename:e==null?void 0:e.basename,future:hc({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:Ck({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||XV(),routes:n,mapRouteProperties:HV,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function XV(){var n;let e=(n=window)==null?void 0:n.__staticRouterHydrationData;return e&&e.errors&&(e=hc({},e,{errors:YV(e.errors)})),e}function YV(n){if(!n)return null;let e=Object.entries(n),t={};for(let[i,s]of e)if(s&&s.__type==="RouteErrorResponse")t[i]=new Uh(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let l=window[s.__subType];if(typeof l=="function")try{let c=new l(s.message);c.stack="",t[i]=c}catch{}}if(t[i]==null){let l=new Error(s.message);l.stack="",t[i]=l}}else t[i]=s;return t}const WV=$.createContext({isTransitioning:!1}),ZV=$.createContext(new Map),JV="startTransition",qb=iy[JV],eL="flushSync",Gb=Ik[eL];function tL(n){qb?qb(n):n()}function ku(n){Gb?Gb(n):n()}class nL{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",t(i))}})}}function rL(n){let{fallbackElement:e,router:t,future:i}=n,[s,l]=$.useState(t.state),[c,d]=$.useState(),[m,g]=$.useState({isTransitioning:!1}),[v,E]=$.useState(),[b,I]=$.useState(),[M,V]=$.useState(),D=$.useRef(new Map),{v7_startTransition:Z}=i||{},j=$.useCallback(w=>{Z?tL(w):w()},[Z]),Y=$.useCallback((w,C)=>{let{deletedFetchers:x,flushSync:U,viewTransitionOpts:k}=C;w.fetchers.forEach((Se,De)=>{Se.data!==void 0&&D.current.set(De,Se.data)}),x.forEach(Se=>D.current.delete(Se));let O=t.window==null||t.window.document==null||typeof t.window.document.startViewTransition!="function";if(!k||O){U?ku(()=>l(w)):j(()=>l(w));return}if(U){ku(()=>{b&&(v&&v.resolve(),b.skipTransition()),g({isTransitioning:!0,flushSync:!0,currentLocation:k.currentLocation,nextLocation:k.nextLocation})});let Se=t.window.document.startViewTransition(()=>{ku(()=>l(w))});Se.finished.finally(()=>{ku(()=>{E(void 0),I(void 0),d(void 0),g({isTransitioning:!1})})}),ku(()=>I(Se));return}b?(v&&v.resolve(),b.skipTransition(),V({state:w,currentLocation:k.currentLocation,nextLocation:k.nextLocation})):(d(w),g({isTransitioning:!0,flushSync:!1,currentLocation:k.currentLocation,nextLocation:k.nextLocation}))},[t.window,b,v,D,j]);$.useLayoutEffect(()=>t.subscribe(Y),[t,Y]),$.useEffect(()=>{m.isTransitioning&&!m.flushSync&&E(new nL)},[m]),$.useEffect(()=>{if(v&&c&&t.window){let w=c,C=v.promise,x=t.window.document.startViewTransition(async()=>{j(()=>l(w)),await C});x.finished.finally(()=>{E(void 0),I(void 0),d(void 0),g({isTransitioning:!1})}),I(x)}},[j,c,v,t.window]),$.useEffect(()=>{v&&c&&s.location.key===c.location.key&&v.resolve()},[v,b,s.location,c]),$.useEffect(()=>{!m.isTransitioning&&M&&(d(M.state),g({isTransitioning:!0,flushSync:!1,currentLocation:M.currentLocation,nextLocation:M.nextLocation}),V(void 0))},[m.isTransitioning,M]),$.useEffect(()=>{},[]);let te=$.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:w=>t.navigate(w),push:(w,C,x)=>t.navigate(w,{state:C,preventScrollReset:x==null?void 0:x.preventScrollReset}),replace:(w,C,x)=>t.navigate(w,{replace:!0,state:C,preventScrollReset:x==null?void 0:x.preventScrollReset})}),[t]),K=t.basename||"/",he=$.useMemo(()=>({router:t,navigator:te,static:!1,basename:K}),[t,te,K]),S=$.useMemo(()=>({v7_relativeSplatPath:t.future.v7_relativeSplatPath}),[t.future.v7_relativeSplatPath]);return $.useEffect(()=>BV(i,t.future),[i,t.future]),$.createElement($.Fragment,null,$.createElement(Ed.Provider,{value:he},$.createElement(NR.Provider,{value:s},$.createElement(ZV.Provider,{value:D.current},$.createElement(WV.Provider,{value:m},$.createElement(jV,{basename:K,location:s.location,navigationType:s.historyAction,navigator:te,future:S},s.initialized||t.future.v7_partialHydration?$.createElement(iL,{routes:t.routes,future:t.future,state:s}):e))))),null)}const iL=$.memo(aL);function aL(n){let{routes:e,future:t,state:i}=n;return CV(e,void 0,i,t)}const sL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",oL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,I6=$.forwardRef(function(e,t){let{onClick:i,relative:s,reloadDocument:l,replace:c,state:d,target:m,to:g,preventScrollReset:v,viewTransition:E}=e,b=FV(e,$V),{basename:I}=$.useContext(cs),M,V=!1;if(typeof g=="string"&&oL.test(g)&&(M=g,sL))try{let Y=new URL(window.location.href),te=g.startsWith("//")?new URL(Y.protocol+g):new URL(g),K=Il(te.pathname,I);te.origin===Y.origin&&K!=null?g=K+te.search+te.hash:V=!0}catch{}let D=AV(g,{relative:s}),Z=lL(g,{replace:c,state:d,target:m,preventScrollReset:v,relative:s,viewTransition:E});function j(Y){i&&i(Y),Y.defaultPrevented||Z(Y)}return $.createElement("a",hc({},b,{href:M||D,onClick:V||l?i:j,ref:t,target:m}))});var $b;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})($b||($b={}));var Kb;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(Kb||(Kb={}));function lL(n,e){let{target:t,replace:i,state:s,preventScrollReset:l,relative:c,viewTransition:d}=e===void 0?{}:e,m=VR(),g=Rc(),v=LR(n,{relative:c});return $.useCallback(E=>{if(GV(E,t)){E.preventDefault();let b=i!==void 0?i:ao(g)===ao(v);m(n,{replace:b,state:s,preventScrollReset:l,relative:c,viewTransition:d})}},[g,m,v,i,s,t,n,l,c,d])}const uL="modulepreload",cL=function(n){return"/chat/"+n},Qb={},Dl=function(e,t,i){let s=Promise.resolve();if(t&&t.length>0){let c=function(g){return Promise.all(g.map(v=>Promise.resolve(v).then(E=>({status:"fulfilled",value:E}),E=>({status:"rejected",reason:E}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),m=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));s=c(t.map(g=>{if(g=cL(g),g in Qb)return;Qb[g]=!0;const v=g.endsWith(".css"),E=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${E}`))return;const b=document.createElement("link");if(b.rel=v?"stylesheet":uL,v||(b.as="script"),b.crossOrigin="",b.href=g,m&&b.setAttribute("nonce",m),document.head.appendChild(b),v)return new Promise((I,M)=>{b.addEventListener("load",I),b.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${g}`)))})}))}function l(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return s.then(c=>{for(const d of c||[])d.status==="rejected"&&l(d.reason);return e().catch(l)})};var Fp={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var Xb;function fL(){return Xb||(Xb=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var l="",c=0;c<arguments.length;c++){var d=arguments[c];d&&(l=s(l,i(d)))}return l}function i(l){if(typeof l=="string"||typeof l=="number")return l;if(typeof l!="object")return"";if(Array.isArray(l))return t.apply(null,l);if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]"))return l.toString();var c="";for(var d in l)e.call(l,d)&&l[d]&&(c=s(c,d));return c}function s(l,c){return c?l?l+" "+c:l+c:l}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(Fp)),Fp.exports}var hL=fL();const Yi=ny(hL);function Mg(){return Mg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Mg.apply(null,arguments)}function In(n){"@babel/helpers - typeof";return In=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},In(n)}var dL=Symbol.for("react.element"),mL=Symbol.for("react.transitional.element"),pL=Symbol.for("react.fragment");function gL(n){return n&&In(n)==="object"&&(n.$$typeof===dL||n.$$typeof===mL)&&n.type===pL}var Ng={},yL=function(e){};function vL(n,e){}function _L(n,e){}function EL(){Ng={}}function HR(n,e,t){!e&&!Ng[t]&&(n(!1,t),Ng[t]=!0)}function pv(n,e){HR(vL,n,e)}function TL(n,e){HR(_L,n,e)}pv.preMessage=yL;pv.resetWarned=EL;pv.noteOnce=TL;function bL(n,e){if(In(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(In(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function FR(n){var e=bL(n,"string");return In(e)=="symbol"?e:e+""}function He(n,e,t){return(e=FR(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Yb(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,i)}return t}function wt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Yb(Object(t),!0).forEach(function(i){He(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Yb(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var qp={exports:{}},mt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wb;function SL(){if(Wb)return mt;Wb=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.server_context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),I=Symbol.for("react.offscreen"),M;M=Symbol.for("react.module.reference");function V(D){if(typeof D=="object"&&D!==null){var Z=D.$$typeof;switch(Z){case n:switch(D=D.type,D){case t:case s:case i:case g:case v:return D;default:switch(D=D&&D.$$typeof,D){case d:case c:case m:case b:case E:case l:return D;default:return Z}}case e:return Z}}}return mt.ContextConsumer=c,mt.ContextProvider=l,mt.Element=n,mt.ForwardRef=m,mt.Fragment=t,mt.Lazy=b,mt.Memo=E,mt.Portal=e,mt.Profiler=s,mt.StrictMode=i,mt.Suspense=g,mt.SuspenseList=v,mt.isAsyncMode=function(){return!1},mt.isConcurrentMode=function(){return!1},mt.isContextConsumer=function(D){return V(D)===c},mt.isContextProvider=function(D){return V(D)===l},mt.isElement=function(D){return typeof D=="object"&&D!==null&&D.$$typeof===n},mt.isForwardRef=function(D){return V(D)===m},mt.isFragment=function(D){return V(D)===t},mt.isLazy=function(D){return V(D)===b},mt.isMemo=function(D){return V(D)===E},mt.isPortal=function(D){return V(D)===e},mt.isProfiler=function(D){return V(D)===s},mt.isStrictMode=function(D){return V(D)===i},mt.isSuspense=function(D){return V(D)===g},mt.isSuspenseList=function(D){return V(D)===v},mt.isValidElementType=function(D){return typeof D=="string"||typeof D=="function"||D===t||D===s||D===i||D===g||D===v||D===I||typeof D=="object"&&D!==null&&(D.$$typeof===b||D.$$typeof===E||D.$$typeof===l||D.$$typeof===c||D.$$typeof===m||D.$$typeof===M||D.getModuleId!==void 0)},mt.typeOf=V,mt}var Zb;function AL(){return Zb||(Zb=1,qp.exports=SL()),qp.exports}var Gp=AL();function wL(n,e,t){var i=$.useRef({});return(!("value"in i.current)||t(i.current.condition,e))&&(i.current.value=n(),i.current.condition=e),i.current.value}var RL=Number($.version.split(".")[0]),IL=function(e,t){typeof e=="function"?e(t):In(e)==="object"&&e&&"current"in e&&(e.current=t)},CL=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var s=t.filter(Boolean);return s.length<=1?s[0]:function(l){t.forEach(function(c){IL(c,l)})}},C6=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return wL(function(){return CL.apply(void 0,t)},t,function(s,l){return s.length!==l.length||s.every(function(c,d){return c!==l[d]})})},DL=function(e){var t,i;if(!e)return!1;if(gv(e)&&RL>=19)return!0;var s=Gp.isMemo(e)?e.type.type:e.type;return!(typeof s=="function"&&!((t=s.prototype)!==null&&t!==void 0&&t.render)&&s.$$typeof!==Gp.ForwardRef||typeof e=="function"&&!((i=e.prototype)!==null&&i!==void 0&&i.render)&&e.$$typeof!==Gp.ForwardRef)};function gv(n){return $.isValidElement(n)&&!gL(n)}var D6=function(e){return gv(e)&&DL(e)},O6=function(e){if(e&&gv(e)){var t=e;return t.props.propertyIsEnumerable("ref")?t.props.ref:t.ref}return null};function fs(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Jb(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,FR(i.key),i)}}function hs(n,e,t){return e&&Jb(n.prototype,e),t&&Jb(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Pg(n,e){return Pg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},Pg(n,e)}function qR(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Pg(n,e)}function Bh(n){return Bh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Bh(n)}function GR(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GR=function(){return!!n})()}function Zu(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function OL(n,e){if(e&&(In(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zu(n)}function $R(n){var e=GR();return function(){var t,i=Bh(n);if(e){var s=Bh(this).constructor;t=Reflect.construct(i,arguments,s)}else t=i.apply(this,arguments);return OL(this,t)}}function kg(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function xL(n){if(Array.isArray(n))return kg(n)}function ML(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function KR(n,e){if(n){if(typeof n=="string")return kg(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?kg(n,e):void 0}}function NL(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ol(n){return xL(n)||ML(n)||KR(n)||NL()}function PL(n){if(Array.isArray(n))return n}function kL(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,s,l,c,d=[],m=!0,g=!1;try{if(l=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;m=!1}else for(;!(m=(i=l.call(t)).done)&&(d.push(i.value),d.length!==e);m=!0);}catch(v){g=!0,s=v}finally{try{if(!m&&t.return!=null&&(c=t.return(),Object(c)!==c))return}finally{if(g)throw s}}return d}}function VL(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rt(n,e){return PL(n)||kL(n,e)||KR(n,e)||VL()}function dc(n){for(var e=0,t,i=0,s=n.length;s>=4;++i,s-=4)t=n.charCodeAt(i)&255|(n.charCodeAt(++i)&255)<<8|(n.charCodeAt(++i)&255)<<16|(n.charCodeAt(++i)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(n.charCodeAt(i+2)&255)<<16;case 2:e^=(n.charCodeAt(i+1)&255)<<8;case 1:e^=n.charCodeAt(i)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}function Ic(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function LL(n,e){if(!n)return!1;if(n.contains)return n.contains(e);for(var t=e;t;){if(t===n)return!0;t=t.parentNode}return!1}var eS="data-rc-order",tS="data-rc-priority",UL="rc-util-key",Vg=new Map;function QR(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=n.mark;return e?e.startsWith("data-")?e:"data-".concat(e):UL}function Td(n){if(n.attachTo)return n.attachTo;var e=document.querySelector("head");return e||document.body}function zL(n){return n==="queue"?"prependQueue":n?"prepend":"append"}function yv(n){return Array.from((Vg.get(n)||n).children).filter(function(e){return e.tagName==="STYLE"})}function XR(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Ic())return null;var t=e.csp,i=e.prepend,s=e.priority,l=s===void 0?0:s,c=zL(i),d=c==="prependQueue",m=document.createElement("style");m.setAttribute(eS,c),d&&l&&m.setAttribute(tS,"".concat(l)),t!=null&&t.nonce&&(m.nonce=t==null?void 0:t.nonce),m.innerHTML=n;var g=Td(e),v=g.firstChild;if(i){if(d){var E=(e.styles||yv(g)).filter(function(b){if(!["prepend","prependQueue"].includes(b.getAttribute(eS)))return!1;var I=Number(b.getAttribute(tS)||0);return l>=I});if(E.length)return g.insertBefore(m,E[E.length-1].nextSibling),m}g.insertBefore(m,v)}else g.appendChild(m);return m}function YR(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=Td(e);return(e.styles||yv(t)).find(function(i){return i.getAttribute(QR(e))===n})}function WR(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=YR(n,e);if(t){var i=Td(e);i.removeChild(t)}}function BL(n,e){var t=Vg.get(n);if(!t||!LL(document,t)){var i=XR("",e),s=i.parentNode;Vg.set(n,s),n.removeChild(i)}}function Ju(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=Td(t),s=yv(i),l=wt(wt({},t),{},{styles:s});BL(i,l);var c=YR(e,l);if(c){var d,m;if((d=l.csp)!==null&&d!==void 0&&d.nonce&&c.nonce!==((m=l.csp)===null||m===void 0?void 0:m.nonce)){var g;c.nonce=(g=l.csp)===null||g===void 0?void 0:g.nonce}return c.innerHTML!==n&&(c.innerHTML=n),c}var v=XR(n,l);return v.setAttribute(QR(l),e),v}var jL="%";function Lg(n){return n.join(jL)}var HL=function(){function n(e){fs(this,n),He(this,"instanceId",void 0),He(this,"cache",new Map),this.instanceId=e}return hs(n,[{key:"get",value:function(t){return this.opGet(Lg(t))}},{key:"opGet",value:function(t){return this.cache.get(t)||null}},{key:"update",value:function(t,i){return this.opUpdate(Lg(t),i)}},{key:"opUpdate",value:function(t,i){var s=this.cache.get(t),l=i(s);l===null?this.cache.delete(t):this.cache.set(t,l)}}]),n}(),gl="data-token-hash",Kr="data-css-hash",qa="__cssinjs_instance__";function FL(){var n=Math.random().toString(12).slice(2);if(typeof document<"u"&&document.head&&document.body){var e=document.body.querySelectorAll("style[".concat(Kr,"]"))||[],t=document.head.firstChild;Array.from(e).forEach(function(s){s[qa]=s[qa]||n,s[qa]===n&&document.head.insertBefore(s,t)});var i={};Array.from(document.querySelectorAll("style[".concat(Kr,"]"))).forEach(function(s){var l=s.getAttribute(Kr);if(i[l]){if(s[qa]===n){var c;(c=s.parentNode)===null||c===void 0||c.removeChild(s)}}else i[l]=!0})}return new HL(n)}var bd=$.createContext({hashPriority:"low",cache:FL(),defaultCache:!0});function qL(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}var vv=function(){function n(){fs(this,n),He(this,"cache",void 0),He(this,"keys",void 0),He(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return hs(n,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(t){var i,s,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c={map:this.cache};return t.forEach(function(d){if(!c)c=void 0;else{var m;c=(m=c)===null||m===void 0||(m=m.map)===null||m===void 0?void 0:m.get(d)}}),(i=c)!==null&&i!==void 0&&i.value&&l&&(c.value[1]=this.cacheCallTimes++),(s=c)===null||s===void 0?void 0:s.value}},{key:"get",value:function(t){var i;return(i=this.internalGet(t,!0))===null||i===void 0?void 0:i[0]}},{key:"has",value:function(t){return!!this.internalGet(t)}},{key:"set",value:function(t,i){var s=this;if(!this.has(t)){if(this.size()+1>n.MAX_CACHE_SIZE+n.MAX_CACHE_OFFSET){var l=this.keys.reduce(function(g,v){var E=Rt(g,2),b=E[1];return s.internalGet(v)[1]<b?[v,s.internalGet(v)[1]]:g},[this.keys[0],this.cacheCallTimes]),c=Rt(l,1),d=c[0];this.delete(d)}this.keys.push(t)}var m=this.cache;t.forEach(function(g,v){if(v===t.length-1)m.set(g,{value:[i,s.cacheCallTimes++]});else{var E=m.get(g);E?E.map||(E.map=new Map):m.set(g,{map:new Map}),m=m.get(g).map}})}},{key:"deleteByPath",value:function(t,i){var s=t.get(i[0]);if(i.length===1){var l;return s.map?t.set(i[0],{map:s.map}):t.delete(i[0]),(l=s.value)===null||l===void 0?void 0:l[0]}var c=this.deleteByPath(s.map,i.slice(1));return(!s.map||s.map.size===0)&&!s.value&&t.delete(i[0]),c}},{key:"delete",value:function(t){if(this.has(t))return this.keys=this.keys.filter(function(i){return!qL(i,t)}),this.deleteByPath(this.cache,t)}}]),n}();He(vv,"MAX_CACHE_SIZE",20);He(vv,"MAX_CACHE_OFFSET",5);var nS=0,ZR=function(){function n(e){fs(this,n),He(this,"derivatives",void 0),He(this,"id",void 0),this.derivatives=Array.isArray(e)?e:[e],this.id=nS,e.length===0&&(e.length>0,void 0),nS+=1}return hs(n,[{key:"getDerivativeToken",value:function(t){return this.derivatives.reduce(function(i,s){return s(t,i)},void 0)}}]),n}(),$p=new vv;function GL(n){var e=Array.isArray(n)?n:[n];return $p.has(e)||$p.set(e,new ZR(e)),$p.get(e)}var $L=new WeakMap,Kp={};function KL(n,e){for(var t=$L,i=0;i<e.length;i+=1){var s=e[i];t.has(s)||t.set(s,new WeakMap),t=t.get(s)}return t.has(Kp)||t.set(Kp,n()),t.get(Kp)}var rS=new WeakMap;function ec(n){var e=rS.get(n)||"";return e||(Object.keys(n).forEach(function(t){var i=n[t];e+=t,i instanceof ZR?e+=i.id:i&&In(i)==="object"?e+=ec(i):e+=i}),e=dc(e),rS.set(n,e)),e}function iS(n,e){return dc("".concat(e,"_").concat(ec(n)))}var Ug=Ic();function zg(n){return typeof n=="number"?"".concat(n,"px"):n}function jh(n,e,t){var i,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(l)return n;var c=wt(wt({},s),{},(i={},He(i,gl,e),He(i,Kr,t),i)),d=Object.keys(c).map(function(m){var g=c[m];return g?"".concat(m,'="').concat(g,'"'):null}).filter(function(m){return m}).join(" ");return"<style ".concat(d,">").concat(n,"</style>")}var dh=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return"--".concat(t?"".concat(t,"-"):"").concat(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},QL=function(e,t,i){return Object.keys(e).length?".".concat(t).concat(i!=null&&i.scope?".".concat(i.scope):"","{").concat(Object.entries(e).map(function(s){var l=Rt(s,2),c=l[0],d=l[1];return"".concat(c,":").concat(d,";")}).join(""),"}"):""},JR=function(e,t,i){var s={},l={};return Object.entries(e).forEach(function(c){var d,m,g=Rt(c,2),v=g[0],E=g[1];if(i!=null&&(d=i.preserve)!==null&&d!==void 0&&d[v])l[v]=E;else if((typeof E=="string"||typeof E=="number")&&!(i!=null&&(m=i.ignore)!==null&&m!==void 0&&m[v])){var b,I=dh(v,i==null?void 0:i.prefix);s[I]=typeof E=="number"&&!(i!=null&&(b=i.unitless)!==null&&b!==void 0&&b[v])?"".concat(E,"px"):String(E),l[v]="var(".concat(I,")")}}),[l,QL(s,t,{scope:i==null?void 0:i.scope})]},aS=Ic()?$.useLayoutEffect:$.useEffect,_v=function(e,t){var i=$.useRef(!0);aS(function(){return e(i.current)},t),aS(function(){return i.current=!1,function(){i.current=!0}},[])},x6=function(e,t){_v(function(i){if(!i)return e()},t)},XL=wt({},iy),sS=XL.useInsertionEffect,YL=function(e,t,i){$.useMemo(e,i),_v(function(){return t(!0)},i)},WL=sS?function(n,e,t){return sS(function(){return n(),e()},t)}:YL,ZL=wt({},iy),JL=ZL.useInsertionEffect,e4=function(e){var t=[],i=!1;function s(l){i||t.push(l)}return $.useEffect(function(){return i=!1,function(){i=!0,t.length&&t.forEach(function(l){return l()})}},e),s},t4=function(){return function(e){e()}},n4=typeof JL<"u"?e4:t4;function Ev(n,e,t,i,s){var l=$.useContext(bd),c=l.cache,d=[n].concat(Ol(e)),m=Lg(d),g=n4([m]),v=function(M){c.opUpdate(m,function(V){var D=V||[void 0,void 0],Z=Rt(D,2),j=Z[0],Y=j===void 0?0:j,te=Z[1],K=te,he=K||t(),S=[Y,he];return M?M(S):S})};$.useMemo(function(){v()},[m]);var E=c.opGet(m),b=E[1];return WL(function(){s==null||s(b)},function(I){return v(function(M){var V=Rt(M,2),D=V[0],Z=V[1];return I&&D===0&&(s==null||s(b)),[D+1,Z]}),function(){c.opUpdate(m,function(M){var V=M||[],D=Rt(V,2),Z=D[0],j=Z===void 0?0:Z,Y=D[1],te=j-1;return te===0?(g(function(){(I||!c.opGet(m))&&(i==null||i(Y,!1))}),null):[j-1,Y]})}},[m]),b}var r4={},i4="css",Ks=new Map;function a4(n){Ks.set(n,(Ks.get(n)||0)+1)}function s4(n,e){if(typeof document<"u"){var t=document.querySelectorAll("style[".concat(gl,'="').concat(n,'"]'));t.forEach(function(i){if(i[qa]===e){var s;(s=i.parentNode)===null||s===void 0||s.removeChild(i)}})}}var o4=0;function l4(n,e){Ks.set(n,(Ks.get(n)||0)-1);var t=Array.from(Ks.keys()),i=t.filter(function(s){var l=Ks.get(s)||0;return l<=0});t.length-i.length>o4&&i.forEach(function(s){s4(s,e),Ks.delete(s)})}var u4=function(e,t,i,s){var l=i.getDerivativeToken(e),c=wt(wt({},l),t);return s&&(c=s(c)),c},e1="token";function c4(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=$.useContext(bd),s=i.cache.instanceId,l=i.container,c=t.salt,d=c===void 0?"":c,m=t.override,g=m===void 0?r4:m,v=t.formatToken,E=t.getComputedToken,b=t.cssVar,I=KL(function(){return Object.assign.apply(Object,[{}].concat(Ol(e)))},e),M=ec(I),V=ec(g),D=b?ec(b):"",Z=Ev(e1,[d,n.id,M,V,D],function(){var j,Y=E?E(I,g,n):u4(I,g,n,v),te=wt({},Y),K="";if(b){var he=JR(Y,b.key,{prefix:b.prefix,ignore:b.ignore,unitless:b.unitless,preserve:b.preserve}),S=Rt(he,2);Y=S[0],K=S[1]}var w=iS(Y,d);Y._tokenKey=w,te._tokenKey=iS(te,d);var C=(j=b==null?void 0:b.key)!==null&&j!==void 0?j:w;Y._themeKey=C,a4(C);var x="".concat(i4,"-").concat(dc(w));return Y._hashId=x,[Y,x,te,K,(b==null?void 0:b.key)||""]},function(j){l4(j[0]._themeKey,s)},function(j){var Y=Rt(j,4),te=Y[0],K=Y[3];if(b&&K){var he=Ju(K,dc("css-variables-".concat(te._themeKey)),{mark:Kr,prepend:"queue",attachTo:l,priority:-999});he[qa]=s,he.setAttribute(gl,te._themeKey)}});return Z}var f4=function(e,t,i){var s=Rt(e,5),l=s[2],c=s[3],d=s[4],m=i||{},g=m.plain;if(!c)return null;var v=l._tokenKey,E=-999,b={"data-rc-order":"prependQueue","data-rc-priority":"".concat(E)},I=jh(c,d,v,b,g);return[E,v,I]},h4={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},t1="comm",n1="rule",r1="decl",d4="@import",m4="@namespace",p4="@keyframes",g4="@layer",i1=Math.abs,Tv=String.fromCharCode;function a1(n){return n.trim()}function mh(n,e,t){return n.replace(e,t)}function y4(n,e,t){return n.indexOf(e,t)}function al(n,e){return n.charCodeAt(e)|0}function yl(n,e,t){return n.slice(e,t)}function mi(n){return n.length}function v4(n){return n.length}function Jf(n,e){return e.push(n),n}var Sd=1,vl=1,s1=0,Vr=0,Jt=0,xl="";function bv(n,e,t,i,s,l,c,d){return{value:n,root:e,parent:t,type:i,props:s,children:l,line:Sd,column:vl,length:c,return:"",siblings:d}}function _4(){return Jt}function E4(){return Jt=Vr>0?al(xl,--Vr):0,vl--,Jt===10&&(vl=1,Sd--),Jt}function Qr(){return Jt=Vr<s1?al(xl,Vr++):0,vl++,Jt===10&&(vl=1,Sd++),Jt}function Ga(){return al(xl,Vr)}function ph(){return Vr}function Ad(n,e){return yl(xl,n,e)}function mc(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function T4(n){return Sd=vl=1,s1=mi(xl=n),Vr=0,[]}function b4(n){return xl="",n}function Qp(n){return a1(Ad(Vr-1,Bg(n===91?n+2:n===40?n+1:n)))}function S4(n){for(;(Jt=Ga())&&Jt<33;)Qr();return mc(n)>2||mc(Jt)>3?"":" "}function A4(n,e){for(;--e&&Qr()&&!(Jt<48||Jt>102||Jt>57&&Jt<65||Jt>70&&Jt<97););return Ad(n,ph()+(e<6&&Ga()==32&&Qr()==32))}function Bg(n){for(;Qr();)switch(Jt){case n:return Vr;case 34:case 39:n!==34&&n!==39&&Bg(Jt);break;case 40:n===41&&Bg(n);break;case 92:Qr();break}return Vr}function w4(n,e){for(;Qr()&&n+Jt!==57;)if(n+Jt===84&&Ga()===47)break;return"/*"+Ad(e,Vr-1)+"*"+Tv(n===47?n:Qr())}function R4(n){for(;!mc(Ga());)Qr();return Ad(n,Vr)}function I4(n){return b4(gh("",null,null,null,[""],n=T4(n),0,[0],n))}function gh(n,e,t,i,s,l,c,d,m){for(var g=0,v=0,E=c,b=0,I=0,M=0,V=1,D=1,Z=1,j=0,Y="",te=s,K=l,he=i,S=Y;D;)switch(M=j,j=Qr()){case 40:if(M!=108&&al(S,E-1)==58){y4(S+=mh(Qp(j),"&","&\f"),"&\f",i1(g?d[g-1]:0))!=-1&&(Z=-1);break}case 34:case 39:case 91:S+=Qp(j);break;case 9:case 10:case 13:case 32:S+=S4(M);break;case 92:S+=A4(ph()-1,7);continue;case 47:switch(Ga()){case 42:case 47:Jf(C4(w4(Qr(),ph()),e,t,m),m),(mc(M||1)==5||mc(Ga()||1)==5)&&mi(S)&&yl(S,-1,void 0)!==" "&&(S+=" ");break;default:S+="/"}break;case 123*V:d[g++]=mi(S)*Z;case 125*V:case 59:case 0:switch(j){case 0:case 125:D=0;case 59+v:Z==-1&&(S=mh(S,/\f/g,"")),I>0&&(mi(S)-E||V===0&&M===47)&&Jf(I>32?lS(S+";",i,t,E-1,m):lS(mh(S," ","")+";",i,t,E-2,m),m);break;case 59:S+=";";default:if(Jf(he=oS(S,e,t,g,v,s,d,Y,te=[],K=[],E,l),l),j===123)if(v===0)gh(S,e,he,he,te,l,E,d,K);else{switch(b){case 99:if(al(S,3)===110)break;case 108:if(al(S,2)===97)break;default:v=0;case 100:case 109:case 115:}v?gh(n,he,he,i&&Jf(oS(n,he,he,0,0,s,d,Y,s,te=[],E,K),K),s,K,E,d,i?te:K):gh(S,he,he,he,[""],K,0,d,K)}}g=v=I=0,V=Z=1,Y=S="",E=c;break;case 58:E=1+mi(S),I=M;default:if(V<1){if(j==123)--V;else if(j==125&&V++==0&&E4()==125)continue}switch(S+=Tv(j),j*V){case 38:Z=v>0?1:(S+="\f",-1);break;case 44:d[g++]=(mi(S)-1)*Z,Z=1;break;case 64:Ga()===45&&(S+=Qp(Qr())),b=Ga(),v=E=mi(Y=S+=R4(ph())),j++;break;case 45:M===45&&mi(S)==2&&(V=0)}}return l}function oS(n,e,t,i,s,l,c,d,m,g,v,E){for(var b=s-1,I=s===0?l:[""],M=v4(I),V=0,D=0,Z=0;V<i;++V)for(var j=0,Y=yl(n,b+1,b=i1(D=c[V])),te=n;j<M;++j)(te=a1(D>0?I[j]+" "+Y:mh(Y,/&\f/g,I[j])))&&(m[Z++]=te);return bv(n,e,t,s===0?n1:d,m,g,v,E)}function C4(n,e,t,i){return bv(n,e,t,t1,Tv(_4()),yl(n,2,-2),0,i)}function lS(n,e,t,i,s){return bv(n,e,t,r1,yl(n,0,i),yl(n,i+1,-1),i,s)}function jg(n,e){for(var t="",i=0;i<n.length;i++)t+=e(n[i],i,n,e)||"";return t}function D4(n,e,t,i){switch(n.type){case g4:if(n.children.length)break;case d4:case m4:case r1:return n.return=n.return||n.value;case t1:return"";case p4:return n.return=n.value+"{"+jg(n.children,i)+"}";case n1:if(!mi(n.value=n.props.join(",")))return""}return mi(t=jg(n.children,i))?n.return=n.value+"{"+t+"}":""}var uS="data-ant-cssinjs-cache-path",o1="_FILE_STYLE__",Zs,l1=!0;function O4(){if(!Zs&&(Zs={},Ic())){var n=document.createElement("div");n.className=uS,n.style.position="fixed",n.style.visibility="hidden",n.style.top="-9999px",document.body.appendChild(n);var e=getComputedStyle(n).content||"";e=e.replace(/^"/,"").replace(/"$/,""),e.split(";").forEach(function(s){var l=s.split(":"),c=Rt(l,2),d=c[0],m=c[1];Zs[d]=m});var t=document.querySelector("style[".concat(uS,"]"));if(t){var i;l1=!1,(i=t.parentNode)===null||i===void 0||i.removeChild(t)}document.body.removeChild(n)}}function x4(n){return O4(),!!Zs[n]}function M4(n){var e=Zs[n],t=null;if(e&&Ic())if(l1)t=o1;else{var i=document.querySelector("style[".concat(Kr,'="').concat(Zs[n],'"]'));i?t=i.innerHTML:delete Zs[n]}return[t,e]}var N4="_skip_check_",u1="_multi_value_";function yh(n){var e=jg(I4(n),D4);return e.replace(/\{%%%\:[^;];}/g,";")}function P4(n){return In(n)==="object"&&n&&(N4 in n||u1 in n)}function cS(n,e,t){if(!e)return n;var i=".".concat(e),s=t==="low"?":where(".concat(i,")"):i,l=n.split(",").map(function(c){var d,m=c.trim().split(/\s+/),g=m[0]||"",v=((d=g.match(/^\w+/))===null||d===void 0?void 0:d[0])||"";return g="".concat(v).concat(s).concat(g.slice(v.length)),[g].concat(Ol(m.slice(1))).join(" ")});return l.join(",")}var k4=function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},s=i.root,l=i.injectHash,c=i.parentSelectors,d=t.hashId,m=t.layer;t.path;var g=t.hashPriority,v=t.transformers,E=v===void 0?[]:v;t.linters;var b="",I={};function M(Z){var j=Z.getName(d);if(!I[j]){var Y=n(Z.style,t,{root:!1,parentSelectors:c}),te=Rt(Y,1),K=te[0];I[j]="@keyframes ".concat(Z.getName(d)).concat(K)}}function V(Z){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return Z.forEach(function(Y){Array.isArray(Y)?V(Y,j):Y&&j.push(Y)}),j}var D=V(Array.isArray(e)?e:[e]);return D.forEach(function(Z){var j=typeof Z=="string"&&!s?{}:Z;if(typeof j=="string")b+="".concat(j,`
`);else if(j._keyframe)M(j);else{var Y=E.reduce(function(te,K){var he;return(K==null||(he=K.visit)===null||he===void 0?void 0:he.call(K,te))||te},j);Object.keys(Y).forEach(function(te){var K=Y[te];if(In(K)==="object"&&K&&(te!=="animationName"||!K._keyframe)&&!P4(K)){var he=!1,S=te.trim(),w=!1;(s||l)&&d?S.startsWith("@")?he=!0:S==="&"?S=cS("",d,g):S=cS(te,d,g):s&&!d&&(S==="&"||S==="")&&(S="",w=!0);var C=n(K,t,{root:w,injectHash:he,parentSelectors:[].concat(Ol(c),[S])}),x=Rt(C,2),U=x[0],k=x[1];I=wt(wt({},I),k),b+="".concat(S).concat(U)}else{let De=function(J,ue){var de=J.replace(/[A-Z]/g,function(L){return"-".concat(L.toLowerCase())}),Ie=ue;!h4[J]&&typeof Ie=="number"&&Ie!==0&&(Ie="".concat(Ie,"px")),J==="animationName"&&ue!==null&&ue!==void 0&&ue._keyframe&&(M(ue),Ie=ue.getName(d)),b+="".concat(de,":").concat(Ie,";")};var O,Se=(O=K==null?void 0:K.value)!==null&&O!==void 0?O:K;In(K)==="object"&&K!==null&&K!==void 0&&K[u1]&&Array.isArray(Se)?Se.forEach(function(J){De(te,J)}):De(te,Se)}})}}),s?m&&(b&&(b="@layer ".concat(m.name," {").concat(b,"}")),m.dependencies&&(I["@layer ".concat(m.name)]=m.dependencies.map(function(Z){return"@layer ".concat(Z,", ").concat(m.name,";")}).join(`
`))):b="{".concat(b,"}"),[b,I]};function c1(n,e){return dc("".concat(n.join("%")).concat(e))}function V4(){return null}var f1="style";function fS(n,e){var t=n.token,i=n.path,s=n.hashId,l=n.layer,c=n.nonce,d=n.clientOnly,m=n.order,g=m===void 0?0:m,v=$.useContext(bd),E=v.autoClear;v.mock;var b=v.defaultCache,I=v.hashPriority,M=v.container,V=v.ssrInline,D=v.transformers,Z=v.linters,j=v.cache,Y=v.layer,te=t._tokenKey,K=[te];Y&&K.push("layer"),K.push.apply(K,Ol(i));var he=Ug,S=Ev(f1,K,function(){var k=K.join("|");if(x4(k)){var O=M4(k),Se=Rt(O,2),De=Se[0],J=Se[1];if(De)return[De,te,J,{},d,g]}var ue=e(),de=k4(ue,{hashId:s,hashPriority:I,layer:Y?l:void 0,path:i.join("-"),transformers:D,linters:Z}),Ie=Rt(de,2),L=Ie[0],re=Ie[1],ce=yh(L),fe=c1(K,ce);return[ce,te,fe,re,d,g]},function(k,O){var Se=Rt(k,3),De=Se[2];(O||E)&&Ug&&WR(De,{mark:Kr})},function(k){var O=Rt(k,4),Se=O[0];O[1];var De=O[2],J=O[3];if(he&&Se!==o1){var ue={mark:Kr,prepend:Y?!1:"queue",attachTo:M,priority:g},de=typeof c=="function"?c():c;de&&(ue.csp={nonce:de});var Ie=[],L=[];Object.keys(J).forEach(function(ce){ce.startsWith("@layer")?Ie.push(ce):L.push(ce)}),Ie.forEach(function(ce){Ju(yh(J[ce]),"_layer-".concat(ce),wt(wt({},ue),{},{prepend:!0}))});var re=Ju(Se,De,ue);re[qa]=j.instanceId,re.setAttribute(gl,te),L.forEach(function(ce){Ju(yh(J[ce]),"_effect-".concat(ce),ue)})}}),w=Rt(S,3),C=w[0],x=w[1],U=w[2];return function(k){var O;if(!V||he||!b)O=$.createElement(V4,null);else{var Se;O=$.createElement("style",Mg({},(Se={},He(Se,gl,x),He(Se,Kr,U),Se),{dangerouslySetInnerHTML:{__html:C}}))}return $.createElement($.Fragment,null,O,k)}}var L4=function(e,t,i){var s=Rt(e,6),l=s[0],c=s[1],d=s[2],m=s[3],g=s[4],v=s[5],E=i||{},b=E.plain;if(g)return null;var I=l,M={"data-rc-order":"prependQueue","data-rc-priority":"".concat(v)};return I=jh(l,c,d,M,b),m&&Object.keys(m).forEach(function(V){if(!t[V]){t[V]=!0;var D=yh(m[V]),Z=jh(D,c,"_effect-".concat(V),M,b);V.startsWith("@layer")?I=Z+I:I+=Z}}),[v,d,I]},h1="cssVar",U4=function(e,t){var i=e.key,s=e.prefix,l=e.unitless,c=e.ignore,d=e.token,m=e.scope,g=m===void 0?"":m,v=$.useContext(bd),E=v.cache.instanceId,b=v.container,I=d._tokenKey,M=[].concat(Ol(e.path),[i,g,I]),V=Ev(h1,M,function(){var D=t(),Z=JR(D,i,{prefix:s,unitless:l,ignore:c,scope:g}),j=Rt(Z,2),Y=j[0],te=j[1],K=c1(M,te);return[Y,te,K,i]},function(D){var Z=Rt(D,3),j=Z[2];Ug&&WR(j,{mark:Kr})},function(D){var Z=Rt(D,3),j=Z[1],Y=Z[2];if(j){var te=Ju(j,Y,{mark:Kr,prepend:"queue",attachTo:b,priority:-999});te[qa]=E,te.setAttribute(gl,i)}});return V},z4=function(e,t,i){var s=Rt(e,4),l=s[1],c=s[2],d=s[3],m=i||{},g=m.plain;if(!l)return null;var v=-999,E={"data-rc-order":"prependQueue","data-rc-priority":"".concat(v)},b=jh(l,d,c,E,g);return[v,c,b]},Vu;Vu={},He(Vu,f1,L4),He(Vu,e1,f4),He(Vu,h1,z4);var d1=function(){function n(e,t){fs(this,n),He(this,"name",void 0),He(this,"style",void 0),He(this,"_keyframe",!0),this.name=e,this.style=t}return hs(n,[{key:"getName",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return t?"".concat(t,"-").concat(this.name):this.name}}]),n}();function Yo(n){return n.notSplit=!0,n}Yo(["borderTop","borderBottom"]),Yo(["borderTop"]),Yo(["borderBottom"]),Yo(["borderLeft","borderRight"]),Yo(["borderLeft"]),Yo(["borderRight"]);const m1={blue:"#1677FF",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#EB2F96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},Hh=Object.assign(Object.assign({},m1),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0}),gn=Math.round;function Xp(n,e){const t=n.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],i=t.map(s=>parseFloat(s));for(let s=0;s<3;s+=1)i[s]=e(i[s]||0,t[s]||"",s);return t[3]?i[3]=t[3].includes("%")?i[3]/100:i[3]:i[3]=1,i}const hS=(n,e,t)=>t===0?n:n/100;function Lu(n,e){const t=e||255;return n>t?t:n<0?0:n}class vn{constructor(e){He(this,"isValid",!0),He(this,"r",0),He(this,"g",0),He(this,"b",0),He(this,"a",1),He(this,"_h",void 0),He(this,"_s",void 0),He(this,"_l",void 0),He(this,"_v",void 0),He(this,"_max",void 0),He(this,"_min",void 0),He(this,"_brightness",void 0);function t(i){return i[0]in e&&i[1]in e&&i[2]in e}if(e)if(typeof e=="string"){let s=function(l){return i.startsWith(l)};const i=e.trim();/^#?[A-F\d]{3,8}$/i.test(i)?this.fromHexString(i):s("rgb")?this.fromRgbString(i):s("hsl")?this.fromHslString(i):(s("hsv")||s("hsb"))&&this.fromHsvString(i)}else if(e instanceof vn)this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this._h=e._h,this._s=e._s,this._l=e._l,this._v=e._v;else if(t("rgb"))this.r=Lu(e.r),this.g=Lu(e.g),this.b=Lu(e.b),this.a=typeof e.a=="number"?Lu(e.a,1):1;else if(t("hsl"))this.fromHsl(e);else if(t("hsv"))this.fromHsv(e);else throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(e))}setR(e){return this._sc("r",e)}setG(e){return this._sc("g",e)}setB(e){return this._sc("b",e)}setA(e){return this._sc("a",e,1)}setHue(e){const t=this.toHsv();return t.h=e,this._c(t)}getLuminance(){function e(l){const c=l/255;return c<=.03928?c/12.92:Math.pow((c+.055)/1.055,2.4)}const t=e(this.r),i=e(this.g),s=e(this.b);return .2126*t+.7152*i+.0722*s}getHue(){if(typeof this._h>"u"){const e=this.getMax()-this.getMin();e===0?this._h=0:this._h=gn(60*(this.r===this.getMax()?(this.g-this.b)/e+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/e+2:(this.r-this.g)/e+4))}return this._h}getSaturation(){if(typeof this._s>"u"){const e=this.getMax()-this.getMin();e===0?this._s=0:this._s=e/this.getMax()}return this._s}getLightness(){return typeof this._l>"u"&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return typeof this._v>"u"&&(this._v=this.getMax()/255),this._v}getBrightness(){return typeof this._brightness>"u"&&(this._brightness=(this.r*299+this.g*587+this.b*114)/1e3),this._brightness}darken(e=10){const t=this.getHue(),i=this.getSaturation();let s=this.getLightness()-e/100;return s<0&&(s=0),this._c({h:t,s:i,l:s,a:this.a})}lighten(e=10){const t=this.getHue(),i=this.getSaturation();let s=this.getLightness()+e/100;return s>1&&(s=1),this._c({h:t,s:i,l:s,a:this.a})}mix(e,t=50){const i=this._c(e),s=t/100,l=d=>(i[d]-this[d])*s+this[d],c={r:gn(l("r")),g:gn(l("g")),b:gn(l("b")),a:gn(l("a")*100)/100};return this._c(c)}tint(e=10){return this.mix({r:255,g:255,b:255,a:1},e)}shade(e=10){return this.mix({r:0,g:0,b:0,a:1},e)}onBackground(e){const t=this._c(e),i=this.a+t.a*(1-this.a),s=l=>gn((this[l]*this.a+t[l]*t.a*(1-this.a))/i);return this._c({r:s("r"),g:s("g"),b:s("b"),a:i})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}clone(){return this._c(this)}toHexString(){let e="#";const t=(this.r||0).toString(16);e+=t.length===2?t:"0"+t;const i=(this.g||0).toString(16);e+=i.length===2?i:"0"+i;const s=(this.b||0).toString(16);if(e+=s.length===2?s:"0"+s,typeof this.a=="number"&&this.a>=0&&this.a<1){const l=gn(this.a*255).toString(16);e+=l.length===2?l:"0"+l}return e}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const e=this.getHue(),t=gn(this.getSaturation()*100),i=gn(this.getLightness()*100);return this.a!==1?`hsla(${e},${t}%,${i}%,${this.a})`:`hsl(${e},${t}%,${i}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return this.a!==1?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(e,t,i){const s=this.clone();return s[e]=Lu(t,i),s}_c(e){return new this.constructor(e)}getMax(){return typeof this._max>"u"&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return typeof this._min>"u"&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(e){const t=e.replace("#","");function i(s,l){return parseInt(t[s]+t[l||s],16)}t.length<6?(this.r=i(0),this.g=i(1),this.b=i(2),this.a=t[3]?i(3)/255:1):(this.r=i(0,1),this.g=i(2,3),this.b=i(4,5),this.a=t[6]?i(6,7)/255:1)}fromHsl({h:e,s:t,l:i,a:s}){if(this._h=e%360,this._s=t,this._l=i,this.a=typeof s=="number"?s:1,t<=0){const b=gn(i*255);this.r=b,this.g=b,this.b=b}let l=0,c=0,d=0;const m=e/60,g=(1-Math.abs(2*i-1))*t,v=g*(1-Math.abs(m%2-1));m>=0&&m<1?(l=g,c=v):m>=1&&m<2?(l=v,c=g):m>=2&&m<3?(c=g,d=v):m>=3&&m<4?(c=v,d=g):m>=4&&m<5?(l=v,d=g):m>=5&&m<6&&(l=g,d=v);const E=i-g/2;this.r=gn((l+E)*255),this.g=gn((c+E)*255),this.b=gn((d+E)*255)}fromHsv({h:e,s:t,v:i,a:s}){this._h=e%360,this._s=t,this._v=i,this.a=typeof s=="number"?s:1;const l=gn(i*255);if(this.r=l,this.g=l,this.b=l,t<=0)return;const c=e/60,d=Math.floor(c),m=c-d,g=gn(i*(1-t)*255),v=gn(i*(1-t*m)*255),E=gn(i*(1-t*(1-m))*255);switch(d){case 0:this.g=E,this.b=g;break;case 1:this.r=v,this.b=g;break;case 2:this.r=g,this.b=E;break;case 3:this.r=g,this.g=v;break;case 4:this.r=E,this.g=g;break;case 5:default:this.g=g,this.b=v;break}}fromHsvString(e){const t=Xp(e,hS);this.fromHsv({h:t[0],s:t[1],v:t[2],a:t[3]})}fromHslString(e){const t=Xp(e,hS);this.fromHsl({h:t[0],s:t[1],l:t[2],a:t[3]})}fromRgbString(e){const t=Xp(e,(i,s)=>s.includes("%")?gn(i/100*255):i);this.r=t[0],this.g=t[1],this.b=t[2],this.a=t[3]}}var eh=2,dS=.16,B4=.05,j4=.05,H4=.15,p1=5,g1=4,F4=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function mS(n,e,t){var i;return Math.round(n.h)>=60&&Math.round(n.h)<=240?i=t?Math.round(n.h)-eh*e:Math.round(n.h)+eh*e:i=t?Math.round(n.h)+eh*e:Math.round(n.h)-eh*e,i<0?i+=360:i>=360&&(i-=360),i}function pS(n,e,t){if(n.h===0&&n.s===0)return n.s;var i;return t?i=n.s-dS*e:e===g1?i=n.s+dS:i=n.s+B4*e,i>1&&(i=1),t&&e===p1&&i>.1&&(i=.1),i<.06&&(i=.06),Math.round(i*100)/100}function gS(n,e,t){var i;return t?i=n.v+j4*e:i=n.v-H4*e,i=Math.max(0,Math.min(1,i)),Math.round(i*100)/100}function y1(n){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[],i=new vn(n),s=i.toHsv(),l=p1;l>0;l-=1){var c=new vn({h:mS(s,l,!0),s:pS(s,l,!0),v:gS(s,l,!0)});t.push(c)}t.push(i);for(var d=1;d<=g1;d+=1){var m=new vn({h:mS(s,d),s:pS(s,d),v:gS(s,d)});t.push(m)}return e.theme==="dark"?F4.map(function(g){var v=g.index,E=g.amount;return new vn(e.backgroundColor||"#141414").mix(t[v],E).toHexString()}):t.map(function(g){return g.toHexString()})}var Yp={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Hg=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];Hg.primary=Hg[5];var Fg=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];Fg.primary=Fg[5];var qg=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];qg.primary=qg[5];var Gg=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];Gg.primary=Gg[5];var $g=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];$g.primary=$g[5];var Kg=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];Kg.primary=Kg[5];var Qg=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];Qg.primary=Qg[5];var Xg=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];Xg.primary=Xg[5];var Yg=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];Yg.primary=Yg[5];var Wg=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];Wg.primary=Wg[5];var Zg=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];Zg.primary=Zg[5];var Jg=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];Jg.primary=Jg[5];var ey=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];ey.primary=ey[5];var Wp={red:Hg,volcano:Fg,orange:qg,gold:Gg,yellow:$g,lime:Kg,green:Qg,cyan:Xg,blue:Yg,geekblue:Wg,purple:Zg,magenta:Jg,grey:ey};function q4(n,e){let{generateColorPalettes:t,generateNeutralColorPalettes:i}=e;const{colorSuccess:s,colorWarning:l,colorError:c,colorInfo:d,colorPrimary:m,colorBgBase:g,colorTextBase:v}=n,E=t(m),b=t(s),I=t(l),M=t(c),V=t(d),D=i(g,v),Z=n.colorLink||n.colorInfo,j=t(Z),Y=new vn(M[1]).mix(new vn(M[3]),50).toHexString();return Object.assign(Object.assign({},D),{colorPrimaryBg:E[1],colorPrimaryBgHover:E[2],colorPrimaryBorder:E[3],colorPrimaryBorderHover:E[4],colorPrimaryHover:E[5],colorPrimary:E[6],colorPrimaryActive:E[7],colorPrimaryTextHover:E[8],colorPrimaryText:E[9],colorPrimaryTextActive:E[10],colorSuccessBg:b[1],colorSuccessBgHover:b[2],colorSuccessBorder:b[3],colorSuccessBorderHover:b[4],colorSuccessHover:b[4],colorSuccess:b[6],colorSuccessActive:b[7],colorSuccessTextHover:b[8],colorSuccessText:b[9],colorSuccessTextActive:b[10],colorErrorBg:M[1],colorErrorBgHover:M[2],colorErrorBgFilledHover:Y,colorErrorBgActive:M[3],colorErrorBorder:M[3],colorErrorBorderHover:M[4],colorErrorHover:M[5],colorError:M[6],colorErrorActive:M[7],colorErrorTextHover:M[8],colorErrorText:M[9],colorErrorTextActive:M[10],colorWarningBg:I[1],colorWarningBgHover:I[2],colorWarningBorder:I[3],colorWarningBorderHover:I[4],colorWarningHover:I[4],colorWarning:I[6],colorWarningActive:I[7],colorWarningTextHover:I[8],colorWarningText:I[9],colorWarningTextActive:I[10],colorInfoBg:V[1],colorInfoBgHover:V[2],colorInfoBorder:V[3],colorInfoBorderHover:V[4],colorInfoHover:V[4],colorInfo:V[6],colorInfoActive:V[7],colorInfoTextHover:V[8],colorInfoText:V[9],colorInfoTextActive:V[10],colorLinkHover:j[4],colorLink:j[6],colorLinkActive:j[7],colorBgMask:new vn("#000").setA(.45).toRgbString(),colorWhite:"#fff"})}const G4=n=>{let e=n,t=n,i=n,s=n;return n<6&&n>=5?e=n+1:n<16&&n>=6?e=n+2:n>=16&&(e=16),n<7&&n>=5?t=4:n<8&&n>=7?t=5:n<14&&n>=8?t=6:n<16&&n>=14?t=7:n>=16&&(t=8),n<6&&n>=2?i=1:n>=6&&(i=2),n>4&&n<8?s=4:n>=8&&(s=6),{borderRadius:n,borderRadiusXS:i,borderRadiusSM:t,borderRadiusLG:e,borderRadiusOuter:s}};function $4(n){const{motionUnit:e,motionBase:t,borderRadius:i,lineWidth:s}=n;return Object.assign({motionDurationFast:`${(t+e).toFixed(1)}s`,motionDurationMid:`${(t+e*2).toFixed(1)}s`,motionDurationSlow:`${(t+e*3).toFixed(1)}s`,lineWidthBold:s+1},G4(i))}const K4=n=>{const{controlHeight:e}=n;return{controlHeightSM:e*.75,controlHeightXS:e*.5,controlHeightLG:e*1.25}};function Q4(n){return(n+8)/n}function X4(n){const e=Array.from({length:10}).map((t,i)=>{const s=i-1,l=n*Math.pow(Math.E,s/5),c=i>1?Math.floor(l):Math.ceil(l);return Math.floor(c/2)*2});return e[1]=n,e.map(t=>({size:t,lineHeight:Q4(t)}))}const Y4=n=>{const e=X4(n),t=e.map(v=>v.size),i=e.map(v=>v.lineHeight),s=t[1],l=t[0],c=t[2],d=i[1],m=i[0],g=i[2];return{fontSizeSM:l,fontSize:s,fontSizeLG:c,fontSizeXL:t[3],fontSizeHeading1:t[6],fontSizeHeading2:t[5],fontSizeHeading3:t[4],fontSizeHeading4:t[3],fontSizeHeading5:t[2],lineHeight:d,lineHeightLG:g,lineHeightSM:m,fontHeight:Math.round(d*s),fontHeightLG:Math.round(g*c),fontHeightSM:Math.round(m*l),lineHeightHeading1:i[6],lineHeightHeading2:i[5],lineHeightHeading3:i[4],lineHeightHeading4:i[3],lineHeightHeading5:i[2]}};function W4(n){const{sizeUnit:e,sizeStep:t}=n;return{sizeXXL:e*(t+8),sizeXL:e*(t+4),sizeLG:e*(t+2),sizeMD:e*(t+1),sizeMS:e*t,size:e*t,sizeSM:e*(t-1),sizeXS:e*(t-2),sizeXXS:e*(t-3)}}const Nr=(n,e)=>new vn(n).setA(e).toRgbString(),Uu=(n,e)=>new vn(n).darken(e).toHexString(),Z4=n=>{const e=y1(n);return{1:e[0],2:e[1],3:e[2],4:e[3],5:e[4],6:e[5],7:e[6],8:e[4],9:e[5],10:e[6]}},J4=(n,e)=>{const t=n||"#fff",i=e||"#000";return{colorBgBase:t,colorTextBase:i,colorText:Nr(i,.88),colorTextSecondary:Nr(i,.65),colorTextTertiary:Nr(i,.45),colorTextQuaternary:Nr(i,.25),colorFill:Nr(i,.15),colorFillSecondary:Nr(i,.06),colorFillTertiary:Nr(i,.04),colorFillQuaternary:Nr(i,.02),colorBgSolid:Nr(i,1),colorBgSolidHover:Nr(i,.75),colorBgSolidActive:Nr(i,.95),colorBgLayout:Uu(t,4),colorBgContainer:Uu(t,0),colorBgElevated:Uu(t,0),colorBgSpotlight:Nr(i,.85),colorBgBlur:"transparent",colorBorder:Uu(t,15),colorBorderSecondary:Uu(t,6)}};function eU(n){Yp.pink=Yp.magenta,Wp.pink=Wp.magenta;const e=Object.keys(m1).map(t=>{const i=n[t]===Yp[t]?Wp[t]:y1(n[t]);return Array.from({length:10},()=>1).reduce((s,l,c)=>(s[`${t}-${c+1}`]=i[c],s[`${t}${c+1}`]=i[c],s),{})}).reduce((t,i)=>(t=Object.assign(Object.assign({},t),i),t),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n),e),q4(n,{generateColorPalettes:Z4,generateNeutralColorPalettes:J4})),Y4(n.fontSize)),W4(n)),K4(n)),$4(n))}const tU=GL(eU),nU={token:Hh,override:{override:Hh},hashed:!0},rU=Gr.createContext(nU),yS="ant",v1="anticon",M6=["outlined","borderless","filled","underlined"],iU=(n,e)=>e||(n?`${yS}-${n}`:yS),Fh=$.createContext({getPrefixCls:iU,iconPrefixCls:v1}),{Consumer:N6}=Fh,vS={};function aU(n){const e=$.useContext(Fh),{getPrefixCls:t,direction:i,getPopupContainer:s}=e,l=e[n];return Object.assign(Object.assign({classNames:vS,styles:vS},l),{getPrefixCls:t,direction:i,getPopupContainer:s})}var _1=hs(function n(){fs(this,n)}),E1="CALC_UNIT",sU=new RegExp(E1,"g");function Zp(n){return typeof n=="number"?"".concat(n).concat(E1):n}var oU=function(n){qR(t,n);var e=$R(t);function t(i,s){var l;fs(this,t),l=e.call(this),He(Zu(l),"result",""),He(Zu(l),"unitlessCssVar",void 0),He(Zu(l),"lowPriority",void 0);var c=In(i);return l.unitlessCssVar=s,i instanceof t?l.result="(".concat(i.result,")"):c==="number"?l.result=Zp(i):c==="string"&&(l.result=i),l}return hs(t,[{key:"add",value:function(s){return s instanceof t?this.result="".concat(this.result," + ").concat(s.getResult()):(typeof s=="number"||typeof s=="string")&&(this.result="".concat(this.result," + ").concat(Zp(s))),this.lowPriority=!0,this}},{key:"sub",value:function(s){return s instanceof t?this.result="".concat(this.result," - ").concat(s.getResult()):(typeof s=="number"||typeof s=="string")&&(this.result="".concat(this.result," - ").concat(Zp(s))),this.lowPriority=!0,this}},{key:"mul",value:function(s){return this.lowPriority&&(this.result="(".concat(this.result,")")),s instanceof t?this.result="".concat(this.result," * ").concat(s.getResult(!0)):(typeof s=="number"||typeof s=="string")&&(this.result="".concat(this.result," * ").concat(s)),this.lowPriority=!1,this}},{key:"div",value:function(s){return this.lowPriority&&(this.result="(".concat(this.result,")")),s instanceof t?this.result="".concat(this.result," / ").concat(s.getResult(!0)):(typeof s=="number"||typeof s=="string")&&(this.result="".concat(this.result," / ").concat(s)),this.lowPriority=!1,this}},{key:"getResult",value:function(s){return this.lowPriority||s?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(s){var l=this,c=s||{},d=c.unit,m=!0;return typeof d=="boolean"?m=d:Array.from(this.unitlessCssVar).some(function(g){return l.result.includes(g)})&&(m=!1),this.result=this.result.replace(sU,m?"px":""),typeof this.lowPriority<"u"?"calc(".concat(this.result,")"):this.result}}]),t}(_1),lU=function(n){qR(t,n);var e=$R(t);function t(i){var s;return fs(this,t),s=e.call(this),He(Zu(s),"result",0),i instanceof t?s.result=i.result:typeof i=="number"&&(s.result=i),s}return hs(t,[{key:"add",value:function(s){return s instanceof t?this.result+=s.result:typeof s=="number"&&(this.result+=s),this}},{key:"sub",value:function(s){return s instanceof t?this.result-=s.result:typeof s=="number"&&(this.result-=s),this}},{key:"mul",value:function(s){return s instanceof t?this.result*=s.result:typeof s=="number"&&(this.result*=s),this}},{key:"div",value:function(s){return s instanceof t?this.result/=s.result:typeof s=="number"&&(this.result/=s),this}},{key:"equal",value:function(){return this.result}}]),t}(_1),uU=function(e,t){var i=e==="css"?oU:lU;return function(s){return new i(s,t)}},_S=function(e,t){return"".concat([t,e.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-"))};function ES(n,e,t,i){var s=wt({},e[n]);if(i!=null&&i.deprecatedTokens){var l=i.deprecatedTokens;l.forEach(function(d){var m=Rt(d,2),g=m[0],v=m[1];if(s!=null&&s[g]||s!=null&&s[v]){var E;(E=s[v])!==null&&E!==void 0||(s[v]=s==null?void 0:s[g])}})}var c=wt(wt({},t),s);return Object.keys(c).forEach(function(d){c[d]===e[d]&&delete c[d]}),c}var T1=typeof CSSINJS_STATISTIC<"u",ty=!0;function Sv(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];if(!T1)return Object.assign.apply(Object,[{}].concat(e));ty=!1;var i={};return e.forEach(function(s){if(In(s)==="object"){var l=Object.keys(s);l.forEach(function(c){Object.defineProperty(i,c,{configurable:!0,enumerable:!0,get:function(){return s[c]}})})}}),ty=!0,i}var TS={};function cU(){}var fU=function(e){var t,i=e,s=cU;return T1&&typeof Proxy<"u"&&(t=new Set,i=new Proxy(e,{get:function(c,d){if(ty){var m;(m=t)===null||m===void 0||m.add(d)}return c[d]}}),s=function(c,d){var m;TS[c]={global:Array.from(t),component:wt(wt({},(m=TS[c])===null||m===void 0?void 0:m.component),d)}}),{token:i,keys:t,flush:s}};function bS(n,e,t){if(typeof t=="function"){var i;return t(Sv(e,(i=e[n])!==null&&i!==void 0?i:{}))}return t??{}}function hU(n){return n==="js"?{max:Math.max,min:Math.min}:{max:function(){for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return"max(".concat(i.map(function(l){return zg(l)}).join(","),")")},min:function(){for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return"min(".concat(i.map(function(l){return zg(l)}).join(","),")")}}}var dU=1e3*60*10,mU=function(){function n(){fs(this,n),He(this,"map",new Map),He(this,"objectIDMap",new WeakMap),He(this,"nextID",0),He(this,"lastAccessBeat",new Map),He(this,"accessBeat",0)}return hs(n,[{key:"set",value:function(t,i){this.clear();var s=this.getCompositeKey(t);this.map.set(s,i),this.lastAccessBeat.set(s,Date.now())}},{key:"get",value:function(t){var i=this.getCompositeKey(t),s=this.map.get(i);return this.lastAccessBeat.set(i,Date.now()),this.accessBeat+=1,s}},{key:"getCompositeKey",value:function(t){var i=this,s=t.map(function(l){return l&&In(l)==="object"?"obj_".concat(i.getObjectID(l)):"".concat(In(l),"_").concat(l)});return s.join("|")}},{key:"getObjectID",value:function(t){if(this.objectIDMap.has(t))return this.objectIDMap.get(t);var i=this.nextID;return this.objectIDMap.set(t,i),this.nextID+=1,i}},{key:"clear",value:function(){var t=this;if(this.accessBeat>1e4){var i=Date.now();this.lastAccessBeat.forEach(function(s,l){i-s>dU&&(t.map.delete(l),t.lastAccessBeat.delete(l))}),this.accessBeat=0}}}]),n}(),SS=new mU;function pU(n,e){return Gr.useMemo(function(){var t=SS.get(e);if(t)return t;var i=n();return SS.set(e,i),i},e)}var gU=function(){return{}};function yU(n){var e=n.useCSP,t=e===void 0?gU:e,i=n.useToken,s=n.usePrefix,l=n.getResetStyles,c=n.getCommonStyle,d=n.getCompUnitless;function m(b,I,M,V){var D=Array.isArray(b)?b[0]:b;function Z(w){return"".concat(String(D)).concat(w.slice(0,1).toUpperCase()).concat(w.slice(1))}var j=(V==null?void 0:V.unitless)||{},Y=typeof d=="function"?d(b):{},te=wt(wt({},Y),{},He({},Z("zIndexPopup"),!0));Object.keys(j).forEach(function(w){te[Z(w)]=j[w]});var K=wt(wt({},V),{},{unitless:te,prefixToken:Z}),he=v(b,I,M,K),S=g(D,M,K);return function(w){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:w,x=he(w,C),U=Rt(x,2),k=U[1],O=S(C),Se=Rt(O,2),De=Se[0],J=Se[1];return[De,k,J]}}function g(b,I,M){var V=M.unitless,D=M.injectStyle,Z=D===void 0?!0:D,j=M.prefixToken,Y=M.ignore,te=function(S){var w=S.rootCls,C=S.cssVar,x=C===void 0?{}:C,U=i(),k=U.realToken;return U4({path:[b],prefix:x.prefix,key:x.key,unitless:V,ignore:Y,token:k,scope:w},function(){var O=bS(b,k,I),Se=ES(b,k,O,{deprecatedTokens:M==null?void 0:M.deprecatedTokens});return Object.keys(O).forEach(function(De){Se[j(De)]=Se[De],delete Se[De]}),Se}),null},K=function(S){var w=i(),C=w.cssVar;return[function(x){return Z&&C?Gr.createElement(Gr.Fragment,null,Gr.createElement(te,{rootCls:S,cssVar:C,component:b}),x):x},C==null?void 0:C.key]};return K}function v(b,I,M){var V=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},D=Array.isArray(b)?b:[b,b],Z=Rt(D,1),j=Z[0],Y=D.join("-"),te=n.layer||{name:"antd"};return function(K){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:K,S=i(),w=S.theme,C=S.realToken,x=S.hashId,U=S.token,k=S.cssVar,O=s(),Se=O.rootPrefixCls,De=O.iconPrefixCls,J=t(),ue=k?"css":"js",de=pU(function(){var be=new Set;return k&&Object.keys(V.unitless||{}).forEach(function(Oe){be.add(dh(Oe,k.prefix)),be.add(dh(Oe,_S(j,k.prefix)))}),uU(ue,be)},[ue,j,k==null?void 0:k.prefix]),Ie=hU(ue),L=Ie.max,re=Ie.min,ce={theme:w,token:U,hashId:x,nonce:function(){return J.nonce},clientOnly:V.clientOnly,layer:te,order:V.order||-999};typeof l=="function"&&fS(wt(wt({},ce),{},{clientOnly:!1,path:["Shared",Se]}),function(){return l(U,{prefix:{rootPrefixCls:Se,iconPrefixCls:De},csp:J})});var fe=fS(wt(wt({},ce),{},{path:[Y,K,De]}),function(){if(V.injectStyle===!1)return[];var be=fU(U),Oe=be.token,Ce=be.flush,st=bS(j,C,M),ot=".".concat(K),Ln=ES(j,C,st,{deprecatedTokens:V.deprecatedTokens});k&&st&&In(st)==="object"&&Object.keys(st).forEach(function(_n){st[_n]="var(".concat(dh(_n,_S(j,k.prefix)),")")});var Jn=Sv(Oe,{componentCls:ot,prefixCls:K,iconCls:".".concat(De),antCls:".".concat(Se),calc:de,max:L,min:re},k?st:Ln),er=I(Jn,{hashId:x,prefixCls:K,rootPrefixCls:Se,iconPrefixCls:De});Ce(j,Ln);var xt=typeof c=="function"?c(Jn,K,he,V.resetFont):null;return[V.resetStyle===!1?null:xt,er]});return[fe,x]}}function E(b,I,M){var V=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},D=v(b,I,M,wt({resetStyle:!1,order:-998},V)),Z=function(Y){var te=Y.prefixCls,K=Y.rootCls,he=K===void 0?te:K;return D(te,he),null};return Z}return{genStyleHooks:m,genSubStyleComponent:E,genComponentStyleHook:v}}const vU="5.25.1";function Jp(n){return n>=0&&n<=255}function th(n,e){const{r:t,g:i,b:s,a:l}=new vn(n).toRgb();if(l<1)return n;const{r:c,g:d,b:m}=new vn(e).toRgb();for(let g=.01;g<=1;g+=.01){const v=Math.round((t-c*(1-g))/g),E=Math.round((i-d*(1-g))/g),b=Math.round((s-m*(1-g))/g);if(Jp(v)&&Jp(E)&&Jp(b))return new vn({r:v,g:E,b,a:Math.round(g*100)/100}).toRgbString()}return new vn({r:t,g:i,b:s,a:1}).toRgbString()}var _U=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t};function b1(n){const{override:e}=n,t=_U(n,["override"]),i=Object.assign({},e);Object.keys(Hh).forEach(b=>{delete i[b]});const s=Object.assign(Object.assign({},t),i),l=480,c=576,d=768,m=992,g=1200,v=1600;if(s.motion===!1){const b="0s";s.motionDurationFast=b,s.motionDurationMid=b,s.motionDurationSlow=b}return Object.assign(Object.assign(Object.assign({},s),{colorFillContent:s.colorFillSecondary,colorFillContentHover:s.colorFill,colorFillAlter:s.colorFillQuaternary,colorBgContainerDisabled:s.colorFillTertiary,colorBorderBg:s.colorBgContainer,colorSplit:th(s.colorBorderSecondary,s.colorBgContainer),colorTextPlaceholder:s.colorTextQuaternary,colorTextDisabled:s.colorTextQuaternary,colorTextHeading:s.colorText,colorTextLabel:s.colorTextSecondary,colorTextDescription:s.colorTextTertiary,colorTextLightSolid:s.colorWhite,colorHighlight:s.colorError,colorBgTextHover:s.colorFillSecondary,colorBgTextActive:s.colorFill,colorIcon:s.colorTextTertiary,colorIconHover:s.colorText,colorErrorOutline:th(s.colorErrorBg,s.colorBgContainer),colorWarningOutline:th(s.colorWarningBg,s.colorBgContainer),fontSizeIcon:s.fontSizeSM,lineWidthFocus:s.lineWidth*3,lineWidth:s.lineWidth,controlOutlineWidth:s.lineWidth*2,controlInteractiveSize:s.controlHeight/2,controlItemBgHover:s.colorFillTertiary,controlItemBgActive:s.colorPrimaryBg,controlItemBgActiveHover:s.colorPrimaryBgHover,controlItemBgActiveDisabled:s.colorFill,controlTmpOutline:s.colorFillQuaternary,controlOutline:th(s.colorPrimaryBg,s.colorBgContainer),lineType:s.lineType,borderRadius:s.borderRadius,borderRadiusXS:s.borderRadiusXS,borderRadiusSM:s.borderRadiusSM,borderRadiusLG:s.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:s.sizeXXS,paddingXS:s.sizeXS,paddingSM:s.sizeSM,padding:s.size,paddingMD:s.sizeMD,paddingLG:s.sizeLG,paddingXL:s.sizeXL,paddingContentHorizontalLG:s.sizeLG,paddingContentVerticalLG:s.sizeMS,paddingContentHorizontal:s.sizeMS,paddingContentVertical:s.sizeSM,paddingContentHorizontalSM:s.size,paddingContentVerticalSM:s.sizeXS,marginXXS:s.sizeXXS,marginXS:s.sizeXS,marginSM:s.sizeSM,margin:s.size,marginMD:s.sizeMD,marginLG:s.sizeLG,marginXL:s.sizeXL,marginXXL:s.sizeXXL,boxShadow:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:l,screenXSMin:l,screenXSMax:c-1,screenSM:c,screenSMMin:c,screenSMMax:d-1,screenMD:d,screenMDMin:d,screenMDMax:m-1,screenLG:m,screenLGMin:m,screenLGMax:g-1,screenXL:g,screenXLMin:g,screenXLMax:v-1,screenXXL:v,screenXXLMin:v,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`
      0 1px 2px -2px ${new vn("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new vn("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new vn("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),i)}var AS=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t};const S1={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0,opacityImage:!0},EU={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},TU={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},A1=(n,e,t)=>{const i=t.getDerivativeToken(n),{override:s}=e,l=AS(e,["override"]);let c=Object.assign(Object.assign({},i),{override:s});return c=b1(c),l&&Object.entries(l).forEach(d=>{let[m,g]=d;const{theme:v}=g,E=AS(g,["theme"]);let b=E;v&&(b=A1(Object.assign(Object.assign({},c),E),{override:E},v)),c[m]=b}),c};function bU(){const{token:n,hashed:e,theme:t,override:i,cssVar:s}=Gr.useContext(rU),l=`${vU}-${e||""}`,c=t||tU,[d,m,g]=c4(c,[Hh,n],{salt:l,override:i,getComputedToken:A1,formatToken:b1,cssVar:s&&{prefix:s.prefix,key:s.key,unitless:S1,ignore:EU,preserve:TU}});return[c,g,e?m:"",d,s]}const P6={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},SU=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{boxSizing:"border-box",margin:0,padding:0,color:n.colorText,fontSize:n.fontSize,lineHeight:n.lineHeight,listStyle:"none",fontFamily:e?"inherit":n.fontFamily}},AU=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),k6=()=>({"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),wU=n=>({a:{color:n.colorLink,textDecoration:n.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${n.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:n.colorLinkHover},"&:active":{color:n.colorLinkActive},"&:active, &:hover":{textDecoration:n.linkHoverDecoration,outline:0},"&:focus":{textDecoration:n.linkFocusDecoration,outline:0},"&[disabled]":{color:n.colorTextDisabled,cursor:"not-allowed"}}}),RU=(n,e,t,i)=>{const s=`[class^="${e}"], [class*=" ${e}"]`,l=t?`.${t}`:s,c={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}};let d={};return i!==!1&&(d={fontFamily:n.fontFamily,fontSize:n.fontSize}),{[l]:Object.assign(Object.assign(Object.assign({},d),c),{[s]:c})}},IU=(n,e)=>({outline:`${zg(n.lineWidthFocus)} solid ${n.colorPrimaryBorder}`,outlineOffset:e??1,transition:"outline-offset 0s, outline 0s"}),V6=(n,e)=>({"&:focus-visible":Object.assign({},IU(n,e))}),CU=n=>({[`.${n}`]:Object.assign(Object.assign({},AU()),{[`.${n} .${n}-icon`]:{display:"block"}})}),{genStyleHooks:DU,genComponentStyleHook:L6,genSubStyleComponent:U6}=yU({usePrefix:()=>{const{getPrefixCls:n,iconPrefixCls:e}=$.useContext(Fh);return{rootPrefixCls:n(),iconPrefixCls:e}},useToken:()=>{const[n,e,t,i,s]=bU();return{theme:n,realToken:e,hashId:t,token:i,cssVar:s}},useCSP:()=>{const{csp:n}=$.useContext(Fh);return n??{}},getResetStyles:(n,e)=>{var t;const i=wU(n);return[i,{"&":i},CU((t=e==null?void 0:e.prefix.iconPrefixCls)!==null&&t!==void 0?t:v1)]},getCommonStyle:RU,getCompUnitless:()=>S1});function z6(n){return n&&Gr.isValidElement(n)&&n.type===Gr.Fragment}const OU=(n,e,t)=>Gr.isValidElement(n)?Gr.cloneElement(n,typeof t=="function"?t(n.props||{}):t):e;function xU(n,e){return OU(n,n,e)}function MU(n,e,t){var i=t||{},s=i.noTrailing,l=s===void 0?!1:s,c=i.noLeading,d=c===void 0?!1:c,m=i.debounceMode,g=m===void 0?void 0:m,v,E=!1,b=0;function I(){v&&clearTimeout(v)}function M(D){var Z=D||{},j=Z.upcomingOnly,Y=j===void 0?!1:j;I(),E=!Y}function V(){for(var D=arguments.length,Z=new Array(D),j=0;j<D;j++)Z[j]=arguments[j];var Y=this,te=Date.now()-b;if(E)return;function K(){b=Date.now(),e.apply(Y,Z)}function he(){v=void 0}!d&&g&&!v&&K(),I(),g===void 0&&te>n?d?(b=Date.now(),l||(v=setTimeout(g?he:K,n))):K():l!==!0&&(v=setTimeout(g?he:K,g===void 0?n-te:n))}return V.cancel=M,V}function NU(n,e,t){var i={},s=i.atBegin,l=s===void 0?!1:s;return MU(n,e,{debounceMode:l!==!1})}const qh=100,w1=qh/5,R1=qh/2-w1/2,eg=R1*2*Math.PI,wS=50,RS=n=>{const{dotClassName:e,style:t,hasCircleCls:i}=n;return $.createElement("circle",{className:Yi(`${e}-circle`,{[`${e}-circle-bg`]:i}),r:R1,cx:wS,cy:wS,strokeWidth:w1,style:t})},PU=n=>{let{percent:e,prefixCls:t}=n;const i=`${t}-dot`,s=`${i}-holder`,l=`${s}-hidden`,[c,d]=$.useState(!1);_v(()=>{e!==0&&d(!0)},[e!==0]);const m=Math.max(Math.min(e,100),0);if(!c)return null;const g={strokeDashoffset:`${eg/4}`,strokeDasharray:`${eg*m/100} ${eg*(100-m)/100}`};return $.createElement("span",{className:Yi(s,`${i}-progress`,m<=0&&l)},$.createElement("svg",{viewBox:`0 0 ${qh} ${qh}`,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":m},$.createElement(RS,{dotClassName:i,hasCircleCls:!0}),$.createElement(RS,{dotClassName:i,style:g})))};function kU(n){const{prefixCls:e,percent:t=0}=n,i=`${e}-dot`,s=`${i}-holder`,l=`${s}-hidden`;return $.createElement($.Fragment,null,$.createElement("span",{className:Yi(s,t>0&&l)},$.createElement("span",{className:Yi(i,`${e}-dot-spin`)},[1,2,3,4].map(c=>$.createElement("i",{className:`${e}-dot-item`,key:c})))),$.createElement(PU,{prefixCls:e,percent:t}))}function VU(n){const{prefixCls:e,indicator:t,percent:i}=n,s=`${e}-dot`;return t&&$.isValidElement(t)?xU(t,{className:Yi(t.props.className,s),percent:i}):$.createElement(kU,{prefixCls:e,percent:i})}const LU=new d1("antSpinMove",{to:{opacity:1}}),UU=new d1("antRotate",{to:{transform:"rotate(405deg)"}}),zU=n=>{const{componentCls:e,calc:t}=n;return{[e]:Object.assign(Object.assign({},SU(n)),{position:"absolute",display:"none",color:n.colorPrimary,fontSize:0,textAlign:"center",verticalAlign:"middle",opacity:0,transition:`transform ${n.motionDurationSlow} ${n.motionEaseInOutCirc}`,"&-spinning":{position:"relative",display:"inline-block",opacity:1},[`${e}-text`]:{fontSize:n.fontSize,paddingTop:t(t(n.dotSize).sub(n.fontSize)).div(2).add(2).equal()},"&-fullscreen":{position:"fixed",width:"100vw",height:"100vh",backgroundColor:n.colorBgMask,zIndex:n.zIndexPopupBase,inset:0,display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",opacity:0,visibility:"hidden",transition:`all ${n.motionDurationMid}`,"&-show":{opacity:1,visibility:"visible"},[e]:{[`${e}-dot-holder`]:{color:n.colorWhite},[`${e}-text`]:{color:n.colorTextLightSolid}}},"&-nested-loading":{position:"relative",[`> div > ${e}`]:{position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:n.contentHeight,[`${e}-dot`]:{position:"absolute",top:"50%",insetInlineStart:"50%",margin:t(n.dotSize).mul(-1).div(2).equal()},[`${e}-text`]:{position:"absolute",top:"50%",width:"100%",textShadow:`0 1px 2px ${n.colorBgContainer}`},[`&${e}-show-text ${e}-dot`]:{marginTop:t(n.dotSize).div(2).mul(-1).sub(10).equal()},"&-sm":{[`${e}-dot`]:{margin:t(n.dotSizeSM).mul(-1).div(2).equal()},[`${e}-text`]:{paddingTop:t(t(n.dotSizeSM).sub(n.fontSize)).div(2).add(2).equal()},[`&${e}-show-text ${e}-dot`]:{marginTop:t(n.dotSizeSM).div(2).mul(-1).sub(10).equal()}},"&-lg":{[`${e}-dot`]:{margin:t(n.dotSizeLG).mul(-1).div(2).equal()},[`${e}-text`]:{paddingTop:t(t(n.dotSizeLG).sub(n.fontSize)).div(2).add(2).equal()},[`&${e}-show-text ${e}-dot`]:{marginTop:t(n.dotSizeLG).div(2).mul(-1).sub(10).equal()}}},[`${e}-container`]:{position:"relative",transition:`opacity ${n.motionDurationSlow}`,"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:n.colorBgContainer,opacity:0,transition:`all ${n.motionDurationSlow}`,content:'""',pointerEvents:"none"}},[`${e}-blur`]:{clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none","&::after":{opacity:.4,pointerEvents:"auto"}}},"&-tip":{color:n.spinDotDefault},[`${e}-dot-holder`]:{width:"1em",height:"1em",fontSize:n.dotSize,display:"inline-block",transition:`transform ${n.motionDurationSlow} ease, opacity ${n.motionDurationSlow} ease`,transformOrigin:"50% 50%",lineHeight:1,color:n.colorPrimary,"&-hidden":{transform:"scale(0.3)",opacity:0}},[`${e}-dot-progress`]:{position:"absolute",inset:0},[`${e}-dot`]:{position:"relative",display:"inline-block",fontSize:n.dotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:t(n.dotSize).sub(t(n.marginXXS).div(2)).div(2).equal(),height:t(n.dotSize).sub(t(n.marginXXS).div(2)).div(2).equal(),background:"currentColor",borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:LU,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0,animationDelay:"0s"},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:UU,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"},"&-circle":{strokeLinecap:"round",transition:["stroke-dashoffset","stroke-dasharray","stroke","stroke-width","opacity"].map(i=>`${i} ${n.motionDurationSlow} ease`).join(","),fillOpacity:0,stroke:"currentcolor"},"&-circle-bg":{stroke:n.colorFillSecondary}},[`&-sm ${e}-dot`]:{"&, &-holder":{fontSize:n.dotSizeSM}},[`&-sm ${e}-dot-holder`]:{i:{width:t(t(n.dotSizeSM).sub(t(n.marginXXS).div(2))).div(2).equal(),height:t(t(n.dotSizeSM).sub(t(n.marginXXS).div(2))).div(2).equal()}},[`&-lg ${e}-dot`]:{"&, &-holder":{fontSize:n.dotSizeLG}},[`&-lg ${e}-dot-holder`]:{i:{width:t(t(n.dotSizeLG).sub(n.marginXXS)).div(2).equal(),height:t(t(n.dotSizeLG).sub(n.marginXXS)).div(2).equal()}},[`&${e}-show-text ${e}-text`]:{display:"block"}})}},BU=n=>{const{controlHeightLG:e,controlHeight:t}=n;return{contentHeight:400,dotSize:e/2,dotSizeSM:e*.35,dotSizeLG:t}},jU=DU("Spin",n=>{const e=Sv(n,{spinDotDefault:n.colorTextDescription});return[zU(e)]},BU),HU=200,IS=[[30,.05],[70,.03],[96,.01]];function FU(n,e){const[t,i]=$.useState(0),s=$.useRef(null),l=e==="auto";return $.useEffect(()=>(l&&n&&(i(0),s.current=setInterval(()=>{i(c=>{const d=100-c;for(let m=0;m<IS.length;m+=1){const[g,v]=IS[m];if(c<=g)return c+d*v}return c})},HU)),()=>{clearInterval(s.current)}),[l,n]),l?t:e}var qU=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t};let I1;function GU(n,e){return!!n&&!!e&&!Number.isNaN(Number(e))}const Av=n=>{var e;const{prefixCls:t,spinning:i=!0,delay:s=0,className:l,rootClassName:c,size:d="default",tip:m,wrapperClassName:g,style:v,children:E,fullscreen:b=!1,indicator:I,percent:M}=n,V=qU(n,["prefixCls","spinning","delay","className","rootClassName","size","tip","wrapperClassName","style","children","fullscreen","indicator","percent"]),{getPrefixCls:D,direction:Z,className:j,style:Y,indicator:te}=aU("spin"),K=D("spin",t),[he,S,w]=jU(K),[C,x]=$.useState(()=>i&&!GU(i,s)),U=FU(C,M);$.useEffect(()=>{if(i){const de=NU(s,()=>{x(!0)});return de(),()=>{var Ie;(Ie=de==null?void 0:de.cancel)===null||Ie===void 0||Ie.call(de)}}x(!1)},[s,i]);const k=$.useMemo(()=>typeof E<"u"&&!b,[E,b]),O=Yi(K,j,{[`${K}-sm`]:d==="small",[`${K}-lg`]:d==="large",[`${K}-spinning`]:C,[`${K}-show-text`]:!!m,[`${K}-rtl`]:Z==="rtl"},l,!b&&c,S,w),Se=Yi(`${K}-container`,{[`${K}-blur`]:C}),De=(e=I??te)!==null&&e!==void 0?e:I1,J=Object.assign(Object.assign({},Y),v),ue=$.createElement("div",Object.assign({},V,{style:J,className:O,"aria-live":"polite","aria-busy":C}),$.createElement(VU,{prefixCls:K,indicator:De,percent:U}),m&&(k||b)?$.createElement("div",{className:`${K}-text`},m):null);return he(k?$.createElement("div",Object.assign({},V,{className:Yi(`${K}-nested-loading`,g,S,w)}),C&&$.createElement("div",{key:"loading"},ue),$.createElement("div",{className:Se,key:"container"},E)):b?$.createElement("div",{className:Yi(`${K}-fullscreen`,{[`${K}-fullscreen-show`]:C},c,S,w)},ue):ue)};Av.setDefaultIndicator=n=>{I1=n};function $U({children:n}){const{currentUser:e,loading:t}=cv();return t?St.jsx("div",{className:"h-screen flex items-center justify-center",children:St.jsx(Av,{size:"large"})}):e?St.jsx(St.Fragment,{children:n}):St.jsx(jR,{to:"/login",replace:!0})}function CS({children:n}){const{currentUser:e,loading:t}=cv();return t?St.jsx("div",{className:"h-screen flex items-center justify-center",children:St.jsx(Av,{size:"large"})}):e?St.jsx(jR,{to:"/",replace:!0}):St.jsx(St.Fragment,{children:n})}const KU=$.lazy(()=>Dl(()=>import("./App-CeKWmMkc.js"),[])),QU=$.lazy(()=>Dl(()=>import("./Login-aMJFdnlQ.js"),__vite__mapDeps([0,1,2,3]))),XU=$.lazy(()=>Dl(()=>import("./Register-DAKbs7wp.js"),__vite__mapDeps([4,1,2,3]))),YU=$.lazy(()=>Dl(()=>import("./Home-DqdkZhUv.js"),__vite__mapDeps([5,6,2,3]))),WU=$.lazy(()=>Dl(()=>import("./ChatRoom-CaDU8Qd7.js"),__vite__mapDeps([7,6,2]))),ZU=$.lazy(()=>Dl(()=>import("./NotFound-CvFGaIJQ.js"),[])),JU=QV([{path:"/",element:St.jsx($U,{children:St.jsx(KU,{})}),children:[{path:"",element:St.jsx(YU,{})},{path:"chat/:chatId",element:St.jsx(WU,{})}]},{path:"login",element:St.jsx(CS,{children:St.jsx(QU,{})})},{path:"register",element:St.jsx(CS,{children:St.jsx(XU,{})})},{path:"*",element:St.jsx(ZU,{})}],{basename:"/chat"});sC.createRoot(document.getElementById("root")).render(St.jsx($.StrictMode,{children:St.jsx(Sk,{children:St.jsx(Ak,{children:St.jsx($.Suspense,{fallback:St.jsx(wk,{}),children:St.jsx(rL,{router:JU})})})})}));export{Yp as $,Ic as A,k6 as B,Fh as C,wt as D,Rt as E,Ti as F,SR as G,He as H,wL as I,pv as J,d1 as K,I6 as L,C6 as M,qR as N,R6 as O,$R as P,fs as Q,Gr as R,hs as S,In as T,D6 as U,IU as V,P6 as W,vn as X,AU as Y,V6 as Z,Ol as _,_v as a,Zu as a0,Yg as a1,ny as a2,T6 as a3,_6 as a4,E6 as a5,S6 as a6,d6 as a7,v6 as a8,m6 as a9,CU as aA,iy as aB,nU as aC,v1 as aD,bd as aE,GL as aF,tU as aG,Hh as aH,rU as aI,yS as aJ,Ik as aK,L6 as aL,Q4 as aM,th as aN,WR as aO,GR as aP,Pg as aQ,Bh as aR,M6 as aS,i6 as aa,r6 as ab,o6 as ac,l6 as ad,u6 as ae,f6 as af,A6 as ag,g6 as ah,p6 as ai,y6 as aj,IL as ak,z6 as al,w6 as am,Rc as an,c6 as ao,LL as ap,Rk as aq,gL as ar,PL as as,ML as at,KR as au,VL as av,Ju as aw,y1 as ax,x6 as ay,fS as az,SU as b,Yi as c,zg as d,aU as e,O6 as f,DU as g,CL as h,U6 as i,St as j,Mg as k,xU as l,Sv as m,a6 as n,Fw as o,bk as p,lP as q,$ as r,DL as s,h6 as t,bU as u,b6 as v,Tk as w,VR as x,n6 as y,t6 as z};
